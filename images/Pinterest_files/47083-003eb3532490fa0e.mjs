"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[47083],{45128:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselSlidersForAuthDesktopPinRep_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"useLogSwipe_pin"},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"}],type:"Pin",abstractKey:null};i.hash="d6068e37ffbce623dcbd7bef0b4e6bce",e.exports=i},897874:e=>{var i,n,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ClickthroughLink_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"adDestinationUrl",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[i={alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAd",storageKey:null}],type:"Pin",abstractKey:null};a.hash="4f0d120fec035a42adab1ce216c205fd",e.exports=a},867685:e=>{var i,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ClickthroughOrCloseupLink_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:i,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ClickthroughLink_pin"},{args:null,kind:"FragmentSpread",name:"CloseupLink_pin"}],type:"Pin",abstractKey:null};n.hash="505511f3fa7c6e87632cd6bc6fbf4f28",e.exports=n},73755:e=>{var i,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupLink_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"PromotedLeadForm",kind:"LinkedField",name:"promotedLeadForm",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"leadFormId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};n.hash="625c3d7decefe44b94722cb482441eac",e.exports=n},45904:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CollageChips_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinTagChipImagesPerSpec",kind:"LinkedField",name:"pinTagsChips",plural:!0,selections:[{alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupLink_pin"}],type:"Pin",abstractKey:null};i.hash="9decc73fb257614037505e078843f5c4",e.exports=i},823706:e=>{var i,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ContextMenuClickthroughLogging_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:i,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:i,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};n.hash="91958ad6d73597b90dd099ea462eb40e",e.exports=n},569521:e=>{var i,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DebugSignalsFeedback_pin",selections:[{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debAds",plural:!0,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iconUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"signalId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"signalMessage",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debContentQuality",plural:!0,selections:i,storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debInclusiveProduct",plural:!0,selections:i,storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debShopping",plural:!0,selections:i,storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debTrustAndSafety",plural:!0,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};n.hash="06530ceab8fc1bb7b5d868c8ffeb2afd",e.exports=n},269577:e=>{var i,n,a=(n=[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FooterDefaultContent_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"favoritedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favoriteUserCount",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i],storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetAttributionProps_pin"},{args:null,kind:"FragmentSpread",name:"ImageOnlyAttributionText_pin"},{args:null,kind:"FragmentSpread",name:"PinStats_pin"},{args:null,kind:"FragmentSpread",name:"ClickthroughOrCloseupLink_pin"},{args:null,kind:"FragmentSpread",name:"Title_pin"},{args:null,kind:"FragmentSpread",name:"Source_pin"},{args:null,kind:"FragmentSpread",name:"OverflowMenu_pin"},{args:null,kind:"FragmentSpread",name:"GridAggregation_pin"},{args:null,kind:"FragmentSpread",name:"PinNote_pin"},{args:null,kind:"FragmentSpread",name:"useReactionCounts_pin"}],type:"Pin",abstractKey:null});a.hash="cc1cd2df86886def13ee28d694b6428d",e.exports=a},18736:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FooterProductContent_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ClickthroughOrCloseupLink_pin"},{args:null,kind:"FragmentSpread",name:"Title_pin"},{args:null,kind:"FragmentSpread",name:"Source_pin"}],type:"Pin",abstractKey:null};i.hash="d1eaad5ed385e6091177857c3f00a457",e.exports=i},860092:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"Footer_pin",selections:[{args:null,kind:"FragmentSpread",name:"FooterProductContent_pin"},{args:null,kind:"FragmentSpread",name:"FooterDefaultContent_pin"}],type:"Pin",abstractKey:null};i.hash="d29683a0b8b88a7cc21818cfaf02b46b",e.exports=i},388661:e=>{var i,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"GridAggregation_pin",selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[i],storageKey:null},{args:null,kind:"FragmentSpread",name:"useReactionCounts_pin"}],type:"Pin",abstractKey:null};n.hash="31270ea0e5b5db0d482f41193067c954",e.exports=n},427387:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ImageOnlyAttributionText_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupLink_pin"}],type:"Pin",abstractKey:null};i.hash="dbf79d2545ed3819c04d63fa043f60b5",e.exports=i},888588:e=>{var i,n,a,l,t,r,o,s={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OverflowMenu_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"adMatchReason",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageThumbnailUrl",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[l,t],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[n,a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reasonId",storageKey:null},{alias:null,args:null,concreteType:"PinThroughProperties",kind:"LinkedField",name:"throughProperties",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:o=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[i,n,{alias:null,args:null,kind:"ScalarField",name:"urlName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:r,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsPersonalized",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPromotedPartnership",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedPartnershipAttributionName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedPartnershipAdvertiserName",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"}],type:"Pin",abstractKey:null};s.hash="adfa8ba868c4f6dd15eea7ccee9e37bd",e.exports=s},173084:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinNote_pin",selections:[{args:null,kind:"FragmentSpread",name:"ClickthroughOrCloseupLink_pin"}],type:"Pin",abstractKey:null};i.hash="2e2f3174c2ae0020c0eb230f2051834e",e.exports=i},936042:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinStats_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRepin",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinStatsAnalytics_pin"}],type:"Pin",abstractKey:null};i.hash="eacae20be2cba03c345b40777a071bba",e.exports=i},561859:e=>{var i,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SourceLink_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"adDestinationUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};n.hash="e8650ca409e0185df6339d4eeceb814a",e.exports=n},526102:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"Source_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetPinSourceText_pin"},{args:null,kind:"FragmentSpread",name:"ClickthroughOrCloseupLink_pin"}],type:"Pin",abstractKey:null};i.hash="7807c87c0e65a5d0fb602c53260cbcdc",e.exports=i},83551:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"Title_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ClickthroughOrCloseupLink_pin"}],type:"Pin",abstractKey:null};i.hash="9c85693bcc1fb7e7a95f81f213ce44b8",e.exports=i},403494:e=>{var i,n,a,l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useBuildFooterProps_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[i={alias:null,args:null,concreteType:"PinAnalyticsStats",kind:"LinkedField",name:"creatorAnalytics",plural:!1,selections:[{alias:null,args:null,concreteType:"CreatorAnalytics",kind:"LinkedField",name:"_30dRealtime",plural:!1,selections:[{alias:"carId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[n={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRepin",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinNote",kind:"LinkedField",name:"pinNote",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shipsToUserCountry",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:a,storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"unifiedUserNote",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:a,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetPinSourceText_pin"}],type:"Pin",abstractKey:null};l.hash="1bb49e5c031c3ce709df3016649be2bf",e.exports=l},150470:e=>{var i,n,a,l,t,r,o,s,d,c,u={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetAttributionProps_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},d={alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[i,c={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},n,a,l,t,r,o,s,d],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[n,a,l,t,o,s,d],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[i,c,n,l,t,r,s],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:[n,s],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};u.hash="2985c2aa5b5f3c7fcab6ea660ed05bab",e.exports=u},560296:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetPinSourceText_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinProductMerchant_pin"}],type:"Pin",abstractKey:null};i.hash="47c835c42b5791a0878ffd2934890b8e",e.exports=i},990199:e=>{var i,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinProductMerchant_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRepin",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viaPinner",plural:!1,selections:i,storageKey:null}],type:"Pin",abstractKey:null};n.hash="46a30708d2596ecf2022f2718e9fee23",e.exports=n},346480:e=>{var i,n,a,l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinStatsAnalytics_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[a={alias:null,args:null,concreteType:"PinAnalyticsStats",kind:"LinkedField",name:"creatorAnalytics",plural:!1,selections:n=[{alias:null,args:null,concreteType:"CreatorAnalytics",kind:"LinkedField",name:"_30dRealtime",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"closeup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"clickthrough",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullScreenPlay",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinClick",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"save",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"videoViews",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"videoAverageTime",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CreatorAnalytics",kind:"LinkedField",name:"allTimeRealtime",plural:!1,selections:i,storageKey:null}],storageKey:null}],storageKey:null},a,{alias:null,args:null,concreteType:"PinAnalyticsStats",kind:"LinkedField",name:"publicCreatorAnalytics",plural:!1,selections:n,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};l.hash="3177e5852b0aeb11a1d07df82b30ef1e",e.exports=l},831614:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useReactionCounts_pin",selections:[{alias:null,args:null,concreteType:"ReactionCount",kind:"LinkedField",name:"reactionCounts",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"_0",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_3",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_4",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_5",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_6",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_7",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_8",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_9",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_10",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_11",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_12",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_13",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"_14",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="88f67b193e3ea2276ecdb41bbb62beb5",e.exports=i},788642:(e,i,n)=>{n.d(i,{Z:()=>c});var a=n(667294),l=n(702664),t=n(883119),r=n(536042),o=n(981628),s=n(970588),d=n(785893);function c({favorited:e,favoriteCount:i,isCloseupButton:n,onFavorite:c,onUnfavorite:u,pinId:_,size:p}){let m=(0,r.ZP)(),g=(0,l.useDispatch)(),[h,y]=(0,a.useState)(!1),[v,f]=(0,a.useState)(e),[P,S]=(0,a.useState)(null!=i?i:0),x=async()=>{(f(!v),y(!0),v)?(S(P-1),await g(async e=>{await (0,s.Z)({url:`/v3/pins/${_}/favorite/`,method:"DELETE"}),e({type:"PIN_FAVORITE",payload:{id:_,increment:-1,value:!1}})}),u()):(S(P+1),await g(async e=>{await (0,s.Z)({url:`/v3/pins/${_}/favorite/`,method:"POST"}),e({type:"PIN_FAVORITE",payload:{id:_,increment:1,value:!0}})}),c()),y(!1)},b=P<10?P:m._('9+', 'favoriteButton.favoriteCountText', 'Text shown when greater than 9 favorites on Pin');return(0,d.jsxs)(t.kC,{alignItems:"center",gap:{row:1,column:0},children:[void 0!==i&&P>0&&(0,d.jsx)(t.xv,{size:"200",weight:"bold",children:b}),(0,d.jsx)(o.ZP,{isCloseupButton:n,isDisabled:h,isFavorited:v,onTap:()=>{x()},size:p})]})}},236921:(e,i,n)=>{n.d(i,{H1:()=>d,HW:()=>t,iL:()=>s,pN:()=>o,s_:()=>r});var a=n(245410),l=n(802071);let t=new Date(2022,1,1);function r(){let{checkExperiment:e}=(0,a.F)(),i=["enabled_public","employees"].includes(e("web_ip_plays",{dangerouslySkipActivation:!0}).group),n=e("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled,l=e("android_ios_web_ip_plays_dark_reads").anyEnabled;return i||n||l}function o({isOwnPin:e,isStoryPin:i,pinCreationDate:n,surface:r}){let o=(0,l.Z)(),{checkExperiment:s}=(0,a.F)(),d=s("web_play_playtime_pin_stats",{dangerouslySkipActivation:!0}).anyEnabled,c="CreatorProfileStoryPinGrid"===r&&i&&n&&n.getTime()>=t.getTime()&&d&&o.isPartner&&e,u=!!c&&s("web_ip_plays").anyEnabled,_=["enabled_public","employees"].includes(s("web_ip_plays",{dangerouslySkipActivation:!0}).group);if("CreatorProfileStoryPinGrid"===r&&i&&n&&n.getTime()>=t.getTime()){if(o.isPartner)return e&&u||!e&&_;if(s("web_ip_pinner_plays").anyEnabled)return!0}return!1}function s({isOwnPin:e,isPartner:i}){let{checkExperiment:n}=(0,a.F)(),l=["enabled_public","employees"].includes(n("web_ip_plays",{dangerouslySkipActivation:!0}).group),t=n("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled;return!!(!e&&(t&&!i||l&&i))}function d({isOwnPin:e,isPartner:i}){let{checkExperiment:n}=(0,a.F)(),l=n("web_ip_plays",{dangerouslySkipActivation:!0}).anyEnabled,t=n("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled;return!!(e&&(l&&i||t&&!i))}},191085:(e,i,n)=>{n.r(i),n.d(i,{default:()=>x});var a,l=n(667294),t=n(702664);n(167912);var r=n(883119),o=n(886673),s=n(525104),d=n(255630),c=n(536042),u=n(624417),_=n(769705),p=n(282802),m=n(371362),g=n(362626),h=n(347151),y=n(533451),v=n(613352),f=n(785893);let P=void 0!==a?a:a=n(888588),S=e=>{var i,n,a,l;return{adMatchReason:e.ad_match_reason,board:e.board&&{entityId:e.board.id,imageThumbnailUrl:e.board.image_thumbnail_url,name:e.board.name,url:e.board.url},category:e.category,description:e.description,embed:e.embed&&{src:e.embed.src,type:e.embed.type},entityId:e.id,isDownstreamPromotion:e.is_downstream_promotion,isPromoted:e.is_promoted,pinner:e.pinner&&{entityId:e.pinner.id,explicitlyFollowedByMe:e.pinner.explicitly_followed_by_me,fullName:e.pinner.full_name,imageSmallUrl:e.pinner.image_small_url,username:e.pinner.username},promoter:e.promoter&&{fullName:e.promoter.full_name,username:e.promoter.username},recommendationReason:e.recommendation_reason&&{board:e.recommendation_reason.board&&{name:e.recommendation_reason.board.name,url:e.recommendation_reason.board.url},reason:e.recommendation_reason.reason,reasonId:e.recommendation_reason.reason_id,throughProperties:(l=e.recommendation_reason.through_properties)&&Object.keys(l).map(e=>({key:e,data:l[e]}))},richMetadata:e.rich_metadata&&{products:null===(i=e.rich_metadata.products)||void 0===i?void 0:i.map(()=>({__typename:"RichPinProductMetadata"}))},richSummary:e.rich_summary&&{products:null===(n=e.rich_summary.products)||void 0===n?void 0:n.map(()=>({__typename:"RichPinProductMetadata"}))},sourceInterest:e.source_interest&&{entityId:null!==(a=e.source_interest.id)&&void 0!==a?a:"",name:e.source_interest.name,urlName:e.source_interest.url_name},videos:e.videos&&{duration:e.videos.duration,videoList:e.videos.video_list&&{__typename:"VideoList"}},isThirdPartyAd:e.is_third_party_ad,promotedIsPersonalized:e.promoted_is_personalized,isEligibleForPromotedPartnership:e.is_eligible_for_promoted_partnership,promotedPartnershipAttributionName:e.promoted_partnership_attribution_name,promotedPartnershipAdvertiserName:e.promoted_partnership_advertiser_name}};function x({feedbackData:e,feedbackType:i,pinKey:n,pinTitle:a,setForcePrimary:x,transparentBackground:b}){var k,I,T,A,w,E,R,C,j;let{data:N,childDataKey:O}=(0,d.uf)(P,n,{useLegacyAdapter:S}),F=(0,_.Z)(O),D=N.entityId,L=(0,c.ZP)(),{isBot:z,isSocialBot:M}=(0,p.B)(),B=(0,t.useDispatch)(),{viewParameter:K,viewType:U}=(0,h.E)(),{reportPin:Z}=(0,v.f)(),[G,V]=(0,l.useState)(!1),[H,W]=(0,l.useState)(),Y=null!==(R=null===(C=(0,s.S6)()(D))||void 0===C?void 0:C.show_ad_reasons)&&void 0!==R&&R,$=(j=N.isPromoted?60:50,function(e){return(0,m.ZP)((e||"").trim(),j)}),X=$(null!==(k=N.description)&&void 0!==k?k:""),q=F["236x"],J=!!(null!==(I=N.videos)&&void 0!==I&&I.videoList),Q=()=>{B((0,y.i0)(D))},ee=(0,g.Z)(101,{component:0,element:981,object_id_str:D,aux_data:{feedback_type:i}}),ei=()=>{Y||(x(!1),Q(),V(!1))},en={isThirdPartyAd:N.isThirdPartyAd,promotedIsPersonalized:N.promotedIsPersonalized,isEligibleForPromotedPartnership:N.isEligibleForPromotedPartnership,promotedPartnershipAttributionName:N.promotedPartnershipAttributionName,promotedPartnershipAdvertiserName:N.promotedPartnershipAdvertiserName};return(0,f.jsxs)(l.Fragment,{children:[(0,f.jsx)(r.xu,{"data-test-id":"feedback-button",ref:W,children:(0,f.jsx)(r.hU,{accessibilityLabel:L._('More information', 'accessibility label for overflow menu button', 'accessibility label for overflow menu button'),bgColor:b?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",onClick:()=>{G?ei():(x(!0),V(!0)),ee()},size:"sm"})}),G&&(0,f.jsx)(r.xu,{onFocus:e=>e.stopPropagation(),children:(0,f.jsx)(o.Z,{anchor:H,ad_match_reason:N.adMatchReason,bestPinImgSrc:(0,u.Z)({imagesUrls:F,embedSrc:null===(T=N.embed)||void 0===T?void 0:T.src,embedType:null===(A=N.embed)||void 0===A?void 0:A.type,excludeOriginals:!z&&!M}),board:N.board&&{entityId:N.board.entityId,imageThumbnailUrl:N.board.imageThumbnailUrl,name:N.board.name,url:N.board.url},feedbackData:e,feedbackType:i,hideDownload:J,isPromoted:null!==(w=N.isPromoted)&&void 0!==w&&w,onLinkClick:()=>{G&&ei()},onDismiss:ei,onHide:ei,onDownloadHideFlyout:()=>{x(!1),V(!1)},pinCategory:N.category,pinDescription:X,pinId:D,pinImgSrc:q,pinner:N.pinner&&{explicitlyFollowedByMe:N.pinner.explicitlyFollowedByMe,entityId:N.pinner.entityId,fullName:N.pinner.fullName,imageSmallUrl:N.pinner.imageSmallUrl,username:N.pinner.username},pinTitle:a,promoter:N.promoter&&{fullName:N.promoter.fullName,username:N.promoter.username},thirdPartyAdAttributes:en,recommendationReason:N.recommendationReason&&{board:N.recommendationReason.board&&{name:N.recommendationReason.board.name,url:N.recommendationReason.board.url},reason:N.recommendationReason.reason,reasonId:N.recommendationReason.reasonId,throughProperties:N.recommendationReason.throughProperties},reportPin:()=>{var e,i,n,a,l;Z({pinId:N.entityId,isDownstreamPromotion:!!N.isDownstreamPromotion,hasPromoter:!!N.promoter,isProduct:!!(null!==(e=N.richMetadata)&&void 0!==e&&null!==(i=e.products)&&void 0!==i&&i.length)||!!(null!==(n=N.richSummary)&&void 0!==n&&null!==(a=n.products)&&void 0!==a&&a.length),firstVideoDuration:null===(l=N.videos)||void 0===l?void 0:l.duration,viewParameter:K,viewType:U,isThirdPartyAd:!!N.isThirdPartyAd}),ei()},sourceInterest:N.sourceInterest&&{entityId:null!==(E=N.sourceInterest.entityId)&&void 0!==E?E:"",name:N.sourceInterest.name,urlName:N.sourceInterest.urlName},viewParameter:K,viewType:U})})]})}},886673:(e,i,n)=>{n.d(i,{Z:()=>T});var a=n(667294),l=n(702664),t=n(616550),r=n(883119),o=n(222443),s=n(388011),d=n(536042),c=n(630089),u=n(649796),_=n(958083),p=n(325438),m=n(867812),g=n(950695),h=n(28630),y=n(724842),v=n(181453),f=n(154522),P=n(443601),S=n(533451),x=n(525104),b=n(785893);function k(e,i,n){var a;return(i="symbol"==typeof(a=function(e,i){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,i||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?a:String(a))in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}class I extends a.Component{constructor(e){super(e),k(this,"getRecommendationDescription",()=>{var e,i,n;let{i18n:a,ad_match_reason:l,board:t,feedbackType:r,pinner:o,promoter:s,recommendationReason:d,sourceInterest:c,thirdPartyAdAttributes:u}=this.props,p={i18n:a,makeNavigateLink:this.makeNavigateLink};switch(r){case"pfy":return(0,_.Ud)({...p,feedback:{type:"pfy"}});case"pfyBoard":return(0,_.Ud)({...p,feedback:{type:"pfyBoard",recommendationReasonBoard:(null==d?void 0:d.board)&&{name:null!==(e=d.board.name)&&void 0!==e?e:"",url:null!==(i=d.board.url)&&void 0!==i?i:""}}});case"topic":return(0,_.Ud)({...p,feedback:{type:"topic",sourceInterest:c&&c.name&&c.urlName?{name:c.name,url_name:c.urlName}:null}});case"followed":return(0,_.Ud)({...p,feedback:{type:"followed",followed:null!=o&&o.explicitlyFollowedByMe?{type:"pinner",pinner:o.fullName?{full_name:o.fullName,username:null!==(n=o.username)&&void 0!==n?n:""}:null}:{type:"board",board:t&&t.name&&t.url?{name:t.name,url:t.url}:null}}});case"promoted":return(0,_.Ud)({...p,feedback:{type:"promoted",promoter:!l&&null!=s&&s.fullName?{full_name:s.fullName,username:s.username}:null,thirdPartyAdAttributes:u}});default:return null}}),k(this,"getRecommendationDescriptionImage",()=>{var e,i;let n,a,l;let{board:t,feedbackType:o,pinner:s,recommendationReason:d}=this.props;return"followed"!==o&&"pfyBoard"!==o?null:(s&&s.explicitlyFollowedByMe?(n=s.imageSmallUrl,a="50%",l=`/${null!==(e=s.username)&&void 0!==e?e:""}`):t&&t.imageThumbnailUrl&&(n=t.imageThumbnailUrl,a="4px",l=(null==d?void 0:null===(i=d.board)||void 0===i?void 0:i.url)||t.url),n)?(0,b.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:a}},flex:"none",marginStart:3,overflow:"hidden",children:(0,b.jsx)(r.iP,{onTap:()=>{var e;return this.props.history.push(null!==(e=l)&&void 0!==e?e:"")},children:(0,b.jsx)(r.zd,{height:40,wash:!0,width:40,children:(0,b.jsx)(r.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:n})})})}):null}),k(this,"getUnfollowAction",()=>{let{board:e,feedbackType:i,i18n:n,pinner:a,sourceInterest:l}=this.props;switch(i){case"followed":if(!a||!e)return null;return(0,_.oK)({i18n:n,makeNavigateLink:this.makeNavigateLink,boardId:e.entityId,display:a.explicitlyFollowedByMe?{type:"pinner",data:{full_name:a.fullName,username:a.username}}:{type:"board",data:{name:e.name,url:e.url}}});case"topic":if(!l)return null;let{entityId:t,name:r,urlName:o}=l;return t&&r&&o?(0,_.Iv)({i18n:n,makeNavigateLink:this.makeNavigateLink,sourceInterest:{id:t,name:r,url_name:o}}):null;default:return null}}),k(this,"getUndoText",e=>"unfollowPinner"===e||"unfollowBoard"===e?this.props.i18n._('Follow again', 'Caption for button to undo a unfollowing of a topic', 'Caption for button to undo a unfollowing of a topic'):""),k(this,"makeNavigateLink",(e,i,n,a)=>(0,b.jsx)(r.rU,{onClick:this.props.onLinkClick,href:i,display:"inlineBlock",underline:"hover",children:(0,b.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:a?{display:"inline",color:"white",textDecorationColor:"white"}:{display:"inline"}},children:n})},e)),k(this,"reportPinOption",()=>{let{thirdPartyAdAttributes:e}=this.props;return{action:"reportPin",elementType:974,text:this.props.i18n._('Report Pin', 'Report a pin in the dropdown', 'Report a pin in the dropdown'),description:this.props.i18n._('This goes against Pinterest\'s community guidelines', 'Description for the report pin option', 'Description for the report pin option'),callback:this.props.reportPin,dataTestId:"report-pin-option",isThirdPartyAd:null==e?void 0:e.isThirdPartyAd}}),k(this,"hidePinOption",e=>{let{clientTrackingParams:i,feedbackData:n,feedbackType:a,pinId:l,recommendationReason:t,thirdPartyAdAttributes:r}=this.props,o="search"===a?973:982,{action:s,actionOptions:d}=(0,p.Z)({feedbackData:n,feedbackType:a,pinId:l,pinFeedbackType:"pfy"===a?4:10,recommendationReason:t&&{board:t.board&&{entityId:t.board.entityId},reasonId:t.reasonId,reason:t.reason,throughProperties:t.throughProperties},clientTrackingParams:i(l),isThirdPartyAd:null==r?void 0:r.isThirdPartyAd}),c=this.props.i18n._('Hide Pin', 'message displayed in pin feedback list', 'message displayed in pin feedback list');return{action:s,actionOptions:d,feedbackText:this.pinHiddenFeedbackText(e),text:c,description:this.props.i18n._('See fewer Pins like this', 'Description for the hide pin option', 'Description for the hide pin option'),elementType:o}}),k(this,"stopRecommendationOption",()=>{var e;let{clientTrackingParams:i,feedbackData:n,feedbackType:a,pinId:l,recommendationReason:t}=this.props,r="pfyBoard"===a,{action:o,actionOptions:s}=(0,p.Z)({feedbackData:n,feedbackType:a,pinId:l,pinFeedbackType:r?2:4,recommendationReason:t&&{board:t.board&&{entityId:t.board.entityId},reasonId:t.reasonId,reason:t.reason,throughProperties:t.throughProperties},clientTrackingParams:i(l)}),d=null!=t&&t.board&&t.board.url&&t.board.name?this.makeNavigateLink("boardUrl",t.board.url,t.board.name,!0):"",u=r&&t?(0,c.nk)(this.props.i18n._('We won\'t show you Pins inspired by your board {{ formattedBoard }} anymore.', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{formattedBoard:d}):this.props.i18n._('Got it! We won\'t show you Pins like this in the future.', 'message displayed after stopping recommendations from a pin', 'message displayed after stopping recommendations from a pin'),_=r&&t?(0,c.nk)(this.props.i18n._('Stop seeing Pins inspired by {{ boardName }}', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{boardName:null===(e=t.board)||void 0===e?void 0:e.name}):this.props.i18n._('See fewer Pins like this', 'Feedback option to stop recommendations inspired by this Pin', 'Feedback option to stop recommendations inspired by this Pin');return{action:o,actionOptions:s,feedbackText:{subTitle:u},text:_,elementType:284}}),k(this,"unfollowBoardOption",()=>{var e,i;let{board:n}=this.props,a=n?this.makeNavigateLink("boardUrl",null!==(e=n.url)&&void 0!==e?e:"",null!==(i=n.name)&&void 0!==i?i:"",!0):"",l=(0,c.nk)(this.props.i18n._('Unfollow {{ boardName }}', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{boardName:null==n?void 0:n.name}),t=(0,c.nk)(this.props.i18n._('Got it! You unfollowed {{ formattedBoard }} and won\'t see Pins saved to it in the future.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:a});return{action:"unfollowBoard",actionOptions:{board_id:null==n?void 0:n.entityId},feedbackText:{title:"",subTitle:t},text:l,description:(0,c.nk)(this.props.i18n._('Stop seeing Pins from the board "{{ boardName }}"', 'Secondary caption displayed in pin feedback list to unfollow a board', 'Secondary caption displayed in pin feedback list to unfollow a board'),{boardName:null==n?void 0:n.name}),elementType:10614}}),k(this,"unfollowTopicOption",()=>{let{sourceInterest:e}=this.props;if(!e)return null;{let{entityId:i,name:n="",urlName:a}=e,l=`/topics/${null!=a?a:""}`,t=this.makeNavigateLink("topicUrl",l,null!=n?n:"",!0),r=(0,c.nk)(this.props.i18n._('See fewer Pins from {{ topicName }}', 'Primary caption displayed in pin feedback list to unfollow a topic', 'Primary caption displayed in pin feedback list to unfollow a topic'),{topicName:n}),o=(0,c.nk)(this.props.i18n._('We\'ll show you fewer Pins from {{ formattedTopic }} in the future.', 'Confirmation text after unfollowing a topic', 'Confirmation text after unfollowing a topic'),{formattedTopic:t});return{action:"unfollowTopic",actionOptions:{interest_id:i,interest_list:m.X},feedbackText:{title:"",subTitle:o},text:r,description:(0,c.nk)(this.props.i18n._('Stop seeing Pins from the topic "{{ topicName }}"', 'Secondary caption displayed in pin feedback list to unfollow a topic', 'Secondary caption displayed in pin feedback list to unfollow a topic'),{topicName:e.name}),elementType:976}}}),k(this,"unfollowUserOption",()=>{let{pinner:e}=this.props,{entityId:i,username:n,fullName:a}=null!=e?e:{},l=`/${n}`,t=e?this.makeNavigateLink("pinnerUrl",l,null!=a?a:"",!0):"",r=(0,c.nk)(this.props.i18n._('Got it! You unfollowed {{ formattedUser }} and won\'t see Pins they save in the future.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedUser:t});return{action:"unfollowPinner",actionOptions:{user_id:i},feedbackText:{title:"",subTitle:r},text:(0,c.nk)(this.props.i18n._('Unfollow {{ fullName }}', 'Primary caption displayed in pin feedback list to unfollow a user', 'Primary caption displayed in pin feedback list to unfollow a user'),{fullName:a}),description:this.props.i18n._('Stop seeing all their Pins', 'Secondary caption displayed in pin feedback list to unfollow a user', 'Secondary caption displayed in pin feedback list to unfollow a user'),elementType:10640}}),k(this,"downloadPinOption",()=>({action:"downloadPin",text:this.props.i18n._('Download image', 'Button to download Pin image', 'Button to download Pin image'),elementType:10836})),k(this,"_pinFeedbackText",()=>{var e,i,n,a;let{location:l,feedbackType:t,hideDownload:r,pinner:o}=this.props,s="followed"===this.props.feedbackType,d=l.pathname.includes("following"),c=(s||"topic"===t)&&!d,u=this.hidePinOption(c),_=this.reportPinOption(),p="promoted"!==t&&!r;switch(t){case"followed":let m=!d&&this.getRecommendationDescription(),g=null!=o&&o.explicitlyFollowedByMe?this.unfollowUserOption():this.unfollowBoardOption(),h=[u,...c||d?[g]:[],..."promoted"!==t?[this.downloadPinOption()]:[],_];return{...m?{description:m}:{},options:h};case"promoted":let{pinId:y,showAdReasonsModal:v}=this.props,f={dataTestId:"why-am-i-seeing-this-ad-reasons",action:"showAdReasons",text:this.props.i18n._('Why am I seeing this ad?', 'app.common.react.components.PinFeedbackDropdown.adReasonText', 'Text to promoted pins explanation modal'),callback:()=>{v(y)}};return{description:null!==(e=this.getRecommendationDescription())&&void 0!==e?e:void 0,options:[u,f,_]};case"topic":let P=this.unfollowTopicOption(),S=[u,...c&&P?[P]:[],...p?[this.downloadPinOption()]:[],_];return{description:null!==(i=this.getRecommendationDescription())&&void 0!==i?i:void 0,options:S};case"pfy":case"pfyBoard":let x=[u,..."pfyBoard"===t?[this.stopRecommendationOption()]:[],...p?[this.downloadPinOption()]:[],_];return{description:null!==(n=this.getRecommendationDescription())&&void 0!==n?n:void 0,options:x};default:let b=[u,...p?[this.downloadPinOption()]:[],_];return{description:null!==(a=this.getRecommendationDescription())&&void 0!==a?a:void 0,options:b}}}),k(this,"pinHiddenFeedbackText",e=>{let{isPromoted:i,promoter:n}=this.props,a=e?null:this.getUnfollowAction();return i&&null!=n&&n.fullName?{title:"",subTitle:(0,c.nk)(this.props.i18n._('{{ promoter }} has paid to have this pin show up where you\'d be more likely to notice it.', 'webapp.app.pinFeedbackDropdown.promotedFeedbackText.subtitle', 'Message displayed after hiding a promoted pin. promoter: the name of the person who promoted the pin.'),{promoter:n.fullName})}:a?{title:"",subTitle:this.getRecommendationDescription(),unfollow:a}:{title:"",subTitle:this.props.i18n._('Got it! We won\'t show you this Pin in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}});let i=this._pinFeedbackText();this.state={pinFeedbackConfig:i,showSecondary:!1}}onPinFeedbackActionButtonClick(e,i,n){e.stopPropagation(),i.auxData?this.handleClickLogging(i.elementType,i.auxData):this.handleClickLogging(i.elementType),(0,u.t)(i.action,i.actionOptions,n,this.props.logContextEvent)}onPinHide(e,i,n,a){let{hidePinFeedback:l,onHide:t,pinId:r,showPinFeedback:o,showPinFeedbackOverlay:s,showPinFeedbackUndo:d,viewParameter:c,viewType:u,logContextEvent:p}=this.props;i&&n&&a?d(r,e,(0,_.EF)(n,a,r,u,c,l,p),this.getUndoText(a)):o(r,e),n&&!n.promoted&&(10===n.feedback_type||4===n.feedback_type)?(this.setState({showSecondary:!0}),s(r)):t()}handleClickLogging(e,i={}){let{feedbackType:n,viewParameter:a,viewType:l,logContextEvent:t}=this.props;t({event_type:101,view_type:l,view_parameter:a,element:e,component:(0,_.nb)(n),aux_data:{...i}})}renderButtons(){let{hideDownload:e,onDownloadHideFlyout:i,pinId:n,viewType:a,viewParameter:l,logContextEvent:t,isWindowsPwa:o}=this.props,{pinFeedbackConfig:s}=this.state,{options:d}=s,c=[],_=d.length;for(let s=0;s<_;s+=1){let _=d[s],p=u.P.includes(_.action),m=_.callback?_.callback:()=>this.onPinHide(_.feedbackText,p,_.actionOptions,_.action);if("downloadPin"!==_.action){let e=(0,h.Z)({url:_.link||""}),i="";Array.isArray(_.text)?i=_.text.join(""):("string"==typeof _.text||"number"==typeof _.text)&&(i=_.text.toString()),c.push(_.link?(0,b.jsx)(r.Lt.Link,{href:_.link,isExternal:e,option:{value:_.action||"",label:i},dataTestId:_.dataTestId||""}):(0,b.jsx)(r.Lt.Item,{onSelect:({event:e})=>this.onPinFeedbackActionButtonClick(e,_,m),option:{value:_.action||"",label:i},dataTestId:_.dataTestId||""}))}else if(!e&&!1===o){let{bestPinImgSrc:e,pinTitle:o,pinDescription:s,pinCategory:d}=this.props;c.push((0,b.jsx)(r.Lt.Item,{onSelect:()=>{(0,P.ZP)({category:d,filename:o||s,imageDownloadSuccessCallback:()=>{i&&i()},imgSrc:e,pinId:n,viewParameter:l,viewType:a},t)},option:{value:"downloadImage",label:this.props.i18n._('Download image', 'pinRep.pinFeedbackDropdown.downloadImage', 'Label to download the pin image')}}))}}return c}render(){var e;let{pinFeedbackConfig:i,showSecondary:n}=this.state,{anchor:l,onDismiss:t,feedbackData:o,feedbackType:s,hideAdReasonsModal:d,pinId:c,onHide:u,recommendationReason:_,showAdReasons:p,viewParameter:m,viewType:g}=this.props,{description:h}=i,P=this.getRecommendationDescriptionImage();return(0,b.jsxs)(a.Fragment,{children:[n?(0,b.jsx)(v.Z,{anchor:l,feedbackData:o,feedbackType:s,pinId:c,onDismiss:t,onHide:u,recommendationReason:_&&{board:_.board&&{entityId:_.board.entityId},reasonId:_.reasonId,reason:_.reason,throughProperties:null===(e=_.throughProperties)||void 0===e?void 0:e.map(({data:e,key:i})=>({data:e,key:i}))},viewParameter:m,viewType:g}):(0,b.jsx)(r.Lt,{anchor:l,id:"pin-action-dropdown",idealDirection:"down",onDismiss:t,zIndex:f.lI,headerContent:h&&(0,b.jsxs)(r.kC,{alignItems:"center",children:[(0,b.jsx)(r.xu,{"data-pin-recommendation-reason":null==_?void 0:_.reason,maxHeight:56,overflow:"hidden",children:(0,b.jsx)(r.xv,{color:"default",overflow:"normal",size:"200",children:h})}),P]}),children:this.renderButtons()}),p&&(0,b.jsx)(y.ZP,{onDismiss:()=>d(c),pinId:c})]})}}function T(e){let{logContextEvent:i}=(0,s.v)(),n=(0,o.Z)(),a=(0,d.ZP)(),r=(0,x.S6)()(e.pinId),{ad_targeting_attribution:c,show_ad_reasons:u=!1}=null!=r?r:{},_=(0,g.kf)(),p=(0,l.useDispatch)();return(0,b.jsx)(I,{...e,clientTrackingParams:n,showAdReasons:u,adTargetingAttribution:c,history:(0,t.useHistory)(),i18n:a,isWindowsPwa:_,location:(0,t.useLocation)(),logContextEvent:i,hidePinFeedback:e=>p((0,S.I1)(e)),showPinFeedback:(e,i)=>p((0,S.q1)(e,i)),showPinFeedbackOverlay:e=>p((0,S.Ib)(e)),showPinFeedbackUndo:(e,i,n,a)=>p((0,S.NA)({id:e,text:i,undoAction:n,undoText:a})),showAdReasonsModal:e=>p((0,S.b9)(e)),hideAdReasonsModal:e=>p((0,S.yj)(e))})}},347083:(e,i,n)=>{n.d(i,{Z:()=>a_,h:()=>au});var a,l,t,r,o,s,d,c,u,_,p,m,g,h,y,v,f,P,S,x=n(667294),b=n(702664),k=n(616550),I=n(883119),T=n(661900),A=n(236921),w=n(604094),E=n(536042),R=n(633917),C=n(282802),j=n(643183),N=n(549201);n(167912);var O=n(946618),F=n(589845),D=n(255630),L=n(599551),z=n(473183),M=n(362626),B=n(347151),K=n(178067),U=n(785893);let Z={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:18,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}},G=void 0!==a?a:a=n(561859),V=e=>{var i,n,a;return{adDestinationUrl:e.ad_destination_url,attributionSourceId:e.attribution_source_id,board:e.board&&{url:e.board.url},campaignId:null==e.campaign_id?e.campaign_id:String(e.campaign_id),carouselData:e.carousel_data&&{carouselSlots:e.carousel_data.carousel_slots&&e.carousel_data.carousel_slots.map(e=>({link:e.link})),entityId:null!==(i=null===(n=e.carousel_data)||void 0===n?void 0:n.id)&&void 0!==i?i:"",index:null===(a=e.carousel_data)||void 0===a?void 0:a.index},domain:e.domain,entityId:e.id,isDownstreamPromotion:e.is_downstream_promotion,isPromoted:e.is_promoted,pinPromotionId:null==e.pin_promotion_id?e.pin_promotion_id:String(e.pin_promotion_id),pinner:e.pinner&&{username:e.pinner.username},promoter:e.promoter&&{entityId:e.promoter.id},storyPinDataId:e.story_pin_data_id,trackingParams:e.tracking_params}};function H({pinKey:e,sourceLinkStyle:i,surface:n,trackingParamsMap:a,url:l}){var t,r,o,s,d,c;let u=(0,E.ZP)(),[_,p]=(0,x.useState)(!1),{data:m,childDataKey:g}=(0,D.uf)(G,e,{useLegacyAdapter:V}),h=(null===(t=m.carouselData)||void 0===t?void 0:t.index)||0,{entityId:y}=m,v=function({adDestinationUrl:e,domain:i,carouselDataId:n,carouselSlotLink:a}){let l=i||"";return e&&(l=(0,K.Z)(e).hostname||""),n&&(l=a&&(0,K.Z)(a).hostname||""),l.replace("www.","")}({adDestinationUrl:m.adDestinationUrl,domain:m.domain,carouselDataId:null===(r=m.carouselData)||void 0===r?void 0:r.entityId,carouselSlotLink:null===(o=m.carouselData)||void 0===o?void 0:null===(s=o.carouselSlots)||void 0===s?void 0:s[h].link}),f=(0,k.useLocation)(),P=(0,z.Z)(g),S=P(),{slotIndex:b}=(0,B.E)(),T=(0,O.Z)({boardUrl:null===(d=m.board)||void 0===d?void 0:d.url,location:f,pinId:m.entityId,pinnerUserName:null===(c=m.pinner)||void 0===c?void 0:c.username,storyPinDataId:m.storyPinDataId,trackingParams:m.trackingParams,trackingParamsMap:a}),A=(0,M.Z)(12,{object_id_str:y,clientTrackingParams:T,aux_data:{grid_index:b,...S}}),w=(0,M.Z)(101,{element:162,object_id_str:y,clientTrackingParams:T,aux_data:{...S}}),R=(0,M.Z)(8948,{object_id_str:y,clientTrackingParams:T,aux_data:{click_type:"clickthrough",closeup_navigation_type:"click",grid_index:b,...S}}),C=()=>{A(),w(),R()},j=(0,L.Z)({href:l,target:"blank",externalData:{auxData:S,pin:m&&{attributionSourceId:m.attributionSourceId,board:m.board&&{url:m.board.url},campaignId:m.campaignId,entityId:m.entityId,isDownstreamPromotion:m.isDownstreamPromotion,isPromoted:m.isPromoted,pinner:m.pinner&&{username:m.pinner.username},pinPromotionId:m.pinPromotionId,promoter:m.promoter&&{entityId:m.promoter.entityId},storyPinDataId:m.storyPinDataId,trackingParams:m.trackingParams,trackingParamsMap:a},surface:n}});return"icon-only"===i?(0,U.jsx)(I.I_,{accessibilityLabel:u._('link', 'Website url link', 'Website url link'),bgColor:"white",href:l,icon:"arrow-up-right",iconColor:"darkGray",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),C(),j({event:e})},rel:"nofollow",size:"sm"}):(0,U.jsx)(I.xu,{dangerouslySetInlineStyle:{__style:{...Z.container,..._?Z.containerHovered:Object.freeze({}),..."truncated-text"===i?Z.containerTruncated:Object.freeze({})}},"data-test-id":"pinrep-source-link",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),position:"relative",children:(0,U.jsx)(F.Z,{hovered:_,pinKey:g,slotIndex:b,trackingParamsMap:a,viewType:1,children:(0,U.jsx)(I.Tg,{fullWidth:!1,href:l,onTap:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),C(),j({event:e})},rel:"nofollow",rounding:4,children:(0,U.jsxs)(I.xu,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:Z.text},display:"flex",justifyContent:"between",children:[(0,U.jsx)(I.xu,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3,children:(0,U.jsx)(I.JO,{accessibilityLabel:u._('link', 'Website url link', 'Website url link'),color:"default",icon:"arrow-up-right",size:9})}),(0,U.jsx)(I.xu,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden",children:(0,U.jsx)(I.xv,{color:"default",size:"200",weight:"bold",lineClamp:1,children:v})})]})})})})}var W=n(251951),Y=n(979275);let $=(0,x.lazy)(()=>Promise.all([n.e(23071),n.e(14734),n.e(71407),n.e(48035)]).then(n.bind(n,932215))),X=(0,x.lazy)(()=>Promise.resolve().then(n.bind(n,191085))),q=(0,x.lazy)(()=>Promise.all([n.e(38642),n.e(5453),n.e(5035)]).then(n.bind(n,842674))),J=({pinId:e})=>{let{onSendButtonClick:i}=(0,W.R)(),n=(0,M.Z)(101,{element:72,object_id_str:e});return(0,U.jsx)(Y.Z,{onSendButtonClick:i,trackShareTap:n,size:"sm",bgColor:"white"})},Q=(0,x.memo)(function({actionBarEditBeforeShare:e,feedbackData:i,feedbackType:n,layout:a,onToggleFlyout:l,pin:t,pinTitle:r,setForcePrimary:o,showEditButton:s,showOverflowMenu:d,showShareButton:c,showSourceLinkButton:u,sourceLinkStyle:_,surface:p}){var m,g,h,y,v;let f=(0,E.ZP)(),P=(0,I.JZ)(),{isRTL:S}=(0,C.B)(),b=!(0,N.HG)(),{viewParameter:k,viewType:A}=(0,B.E)(),{carousel_data:O,id:F,savedInfo:D,tracked_link:L,link:z,ad_destination_url:M}=t,K=null!==(m=null!==(g=null!=M?M:L)&&void 0!==g?g:z)&&void 0!==m?m:"",{showLeadPinStdAlpha:Z}=(0,T.Z)({promotedIsLeadAd:t.promoted_is_lead_ad}),[G,V]=(0,x.useState)(s),[W,Y]=(0,x.useState)(s),[Q,ee]=(0,x.useState)(s),ei=S?{marginLeft:s&&d?-44:0}:{marginRight:s&&d?-44:0},en={...ei,transition:S?"margin-left .2s ease-in-out":"margin-right .2s ease-in-out"},ea={...S?{marginRight:W?4:0}:{marginLeft:W?4:0},transition:S?"margin-right .2s ease-in-out":"margin-left .2s ease-in-out"};(0,x.useEffect)(()=>{let e;return s&&d?(Y(!0),e=setTimeout(()=>{requestAnimationFrame(()=>{V(!0),requestAnimationFrame(()=>{ee(!0)})})},800)):(Y(s),V(s),requestAnimationFrame(()=>{ee(s)})),()=>{clearTimeout(e)}},[s,d]);let el=null;if(u){let e=`/pin/${F}`;el=(0,U.jsx)(R.Z,{children:Z?(0,U.jsx)(I.ZP,{accessibilityLabel:f._('Link for closeup view and learn more', '[m10n] pinRep.actionBar.learnMore', 'Content for learn more link'),size:"sm",href:e,text:f._('Learn more', '[m10n] pinRep.actionBar.learnMore', 'Content for learn more link')}):(0,U.jsx)(H,{pinKey:{type:"deprecated",data:t},sourceLinkStyle:_,surface:p,trackingParamsMap:t.tracking_params_map,url:K})})}let et=c&&(0,U.jsx)(w.Z,{name:"SafeSuspense_PinRep_SendShareLink",children:(0,U.jsx)(j.Z,{children:(0,U.jsx)(I.xu,{"data-test-id":"send-share-link",children:(0,U.jsx)(R.Z,{children:b?(0,U.jsx)(J,{pinId:t.id}):(0,U.jsx)(q,{imageUrl:null===(h=t.images)||void 0===h?void 0:null===(y=h["236x"])||void 0===y?void 0:y.url,ownerId:null===(v=t.pinner)||void 0===v?void 0:v.id,pinId:t.id,setForcePrimary:o})})})})}),er=!!(null==D?void 0:D.localPinId),eo=er?null==D?void 0:D.localPinId:F,es=G&&(0,U.jsx)(w.Z,{name:"SafeSuspense_PinRep_EditButton",children:(0,U.jsx)(j.Z,{children:(0,U.jsx)(I.xu,{"data-test-id":"edit-button",dangerouslySetInlineStyle:P?void 0:{__style:{opacity:Q?1:0,transition:"opacity .2s ease-in-out",pointerEvents:"auto"}},children:(0,U.jsx)(R.Z,{children:(0,U.jsx)($,{carouselSlotCurrentIndex:O&&O.index,component:0,onToggleModal:l,pinId:eo,style:{size:"sm"},view:A,viewParameter:k,useLegoStyles:!0})})})})}),ed=(0,U.jsx)(w.Z,{name:"SafeSuspense_PinRep_OverflowMenu",children:(0,U.jsx)(j.Z,{children:(0,U.jsx)(I.xu,{"data-test-id":"overflow-menu-button",dangerouslySetInlineStyle:P?void 0:{__style:ea},children:(0,U.jsx)(R.Z,{children:(0,U.jsx)(X,{feedbackData:i,feedbackType:n,pinKey:{type:"deprecated",data:t},pinTitle:r,setForcePrimary:o})})})})});return"equally-spaced"===a?(0,U.jsxs)(I.xu,{display:"flex",justifyContent:"between",alignItems:"center",padding:3,children:[(0,U.jsx)(I.xu,{dangerouslySetInlineStyle:{__style:{flexBasis:32}},children:el}),e?es:et,e?et:es,d&&ed]}):(0,U.jsxs)(I.xu,{alignItems:"center",display:"flex",padding:3,children:[(0,U.jsx)(I.xu,{flex:"shrink",children:el}),(0,U.jsx)(I.xu,{alignItems:"center",display:"flex",flex:"none",marginStart:"auto",dangerouslySetInlineStyle:P?void 0:{__style:en},children:(0,U.jsxs)(I.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"end",children:[e?es:et,e?et:es,d&&ed]})})]})});var ee=n(354428),ei=n(300657),en=n(245410),ea=n(525104);function el(e,i,n){var a;return(i="symbol"==typeof(a=function(e,i){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,i||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?a:String(a))in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}class et extends x.Component{constructor(...e){super(...e),el(this,"state",{spamCheck:null}),el(this,"mounted",!1),el(this,"handleSpammyDomainCheck",()=>{let{clientTrackingParams:e,location:i,pin:n,surface:a,url:l}=this.props;l&&n&&(!n.promoter||n.is_downstream_promotion)&&(0,ee.$3)({location:i,pinId:n.id,surface:a})&&(0,ee.iw)({clientTrackingParams:e,isMounted:this.mounted,pinId:n.id,spamCheckCallback:e=>this.setState({spamCheck:e}),href:l})}),el(this,"handleClick",e=>{let{auxData:i,clientTrackingParams:n,onClick:a,navigateToOffsiteUrl:l,pin:t,pinId:r,url:o}=this.props;!(0,ee.gV)({isOffsiteUrl:!0,event:e})&&(e.preventDefault(),a&&a(e),o&&l({auxData:i,clientTrackingParams:n,pin:t&&{attributionSourceId:t.attribution_source_id,campaignId:t.campaign_id,isPromoted:t.is_promoted,pinPromotionId:t.pin_promotion_id,isThirdPartyAd:t.is_third_party_ad},pinId:r,url:o}))})}componentDidMount(){this.mounted=!0,this.handleSpammyDomainCheck()}componentWillUnmount(){this.mounted=!1}componentDidUpdate(){let{spamCheck:e}=this.state;null===e&&this.handleSpammyDomainCheck()}render(){let{accessibilityLabel:e,children:i,shouldObfuscateOffsiteUrlInHref:n,url:a}=this.props;return(0,U.jsx)("a",{"aria-label":e,href:n?a.replace("ad.doubleclick.net","ad.doubleClick.net").replaceAll(/&epik=[^&]+/g,""):a,onClick:this.handleClick,rel:"nofollow",style:{color:"inherit",textDecoration:"none",outline:"none",cursor:"pointer",display:"block"},target:null,children:i})}}function er(e){var i,n;let{pinId:a,disableA11yLabel:l}=e,t=(0,ea.S6)()(null!=a?a:""),{checkExperiment:r}=(0,en.F)(),{isAuthenticated:o}=(0,C.B)(),s=(0,k.useLocation)(),d=t?(0,O.Z)({boardUrl:null===(i=t.board)||void 0===i?void 0:i.url,location:s,pinId:t.id,pinnerUserName:null===(n=t.pinner)||void 0===n?void 0:n.username,storyPinDataId:t.story_pin_data_id,trackingParams:t.tracking_params,trackingParamsMap:t.tracking_params_map}):null,c=(0,ei.Z)({isFromClickthroughLink:!0});return(0,U.jsx)(et,{...e,accessibilityLabel:l?void 0:null==t?void 0:t.domain,clientTrackingParams:d,location:(0,k.useLocation)(),navigateToOffsiteUrl:c,pin:t,shouldObfuscateOffsiteUrlInHref:o&&r("web_obfuscate_offsite_url_in_href").anyEnabled})}var eo=n(388011),es=n(788241);function ed(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";let{downloadedAssets:i,totalAssets:n}=window.prefetchCompletion[e];return n?(i/n*100).toFixed(3).toString():"-1"}let ec=void 0!==l?l:l=n(897874),eu=e=>{var i,n,a;return{adDestinationUrl:e.ad_destination_url,carouselData:e.carousel_data&&{carouselSlots:e.carousel_data.carousel_slots&&e.carousel_data.carousel_slots.map(e=>({entityId:e.id,link:e.link})),entityId:null!==(i=null===(n=e.carousel_data)||void 0===n?void 0:n.id)&&void 0!==i?i:"",index:null===(a=e.carousel_data)||void 0===a?void 0:a.index},entityId:e.id,link:e.link,trackedLink:e.tracked_link,isThirdPartyAd:e.is_third_party_ad}};function e_({children:e,componentType:i,contextLogData:n,disableA11yLabel:a,pinKey:l,surface:t,viewParameter:r,viewType:o}){let s;let{data:d}=(0,D.uf)(ec,l,{useLegacyAdapter:eu}),{logContextEvent:c}=(0,eo.v)(),u=(0,B.E)(),{adDestinationUrl:_,carouselData:p,entityId:m,link:g,trackedLink:h,isThirdPartyAd:y}=d,v=_||h||g||"",f="one-tap-desktop",P=(0,es.SU)();if(p){var S;let{carouselSlots:e=[],entityId:i}=p,n=null!==(S=p.index)&&void 0!==S?S:0;null!=e&&e[n]&&e[n].link&&(v=e[n].link),s={carousel_slot_id:(null==e?void 0:e[n])&&e[n].entityId,carousel_data_id:i,carousel_slot_index:n},f+="-carousel"}return(0,U.jsx)(I.xu,{"data-test-id":"otpp",children:(0,U.jsx)(I.xu,{"data-test-id":f,children:(0,U.jsx)(er,{auxData:s,disableA11yLabel:a,onClick:()=>{c({event_type:12,view_type:o||u.viewType,view_parameter:r||u.viewParameter,component:i||u.componentType,object_id_str:m,aux_data:{...n,grid_index:u.slotIndex,pin_id:m,prefetch_percentage_complete:ed(g||""),is_third_party_ad:y}}),c({event_type:8948,view_type:o||u.viewType,view_parameter:r||u.viewParameter,component:i||u.componentType,object_id_str:m,aux_data:{...n,click_type:"clickthrough",closeup_navigation_type:"click",grid_index:u.slotIndex,pin_id:m,prefetch_percentage_complete:ed(g||""),is_third_party_ad:y}}),c({event_type:13,object_id_str:m,component:i||u.componentType,view_type:3,aux_data:{closeup_navigation_type:"web_closeup",...u.contextLogData,...n,is_third_party_ad:y}}),c({event_type:13,view_type:P.viewType,view_parameter:P.viewParameter,view_data:P.viewData})},pinId:m,surface:t,url:v,children:e})})})}var ep=n(833897);let em=e=>({isDownstreamPromotion:e.is_downstream_promotion,isEligibleForWebCloseup:e.is_eligible_for_web_closeup,promotedIsLeadAd:e.promoted_is_lead_ad,promoter:e.promoter&&{__typename:"User"},videos:e.videos&&{videoList:e.videos.video_list&&{__typename:"VideoList"}}}),eg=void 0!==t?t:t=n(867685);function eh(e){var i;let{surface:n,trackingParamsMap:a,pinKey:l,...t}=e,{data:r,childDataKey:o}=(0,D.uf)(eg,l,{useLegacyAdapter:em}),s=!!r.promotedIsLeadAd,d=!!r.isEligibleForWebCloseup,c=!!r.promoter&&!r.isDownstreamPromotion,u=!!(null!==(i=r.videos)&&void 0!==i&&i.videoList);return!s&&(d||u&&c)?(0,U.jsx)(e_,{surface:d?n:void 0,pinKey:o,...t}):(0,U.jsx)(ep.Z,{pinKey:o,trackingParamsMap:a,...t})}var ey=n(788642),ev=n(219224),ef=n(297776),eP=n(802071),eS=n(924255),ex=n(541268),eb=n(274796),ek=n(755040),eI=n(385929);function eT({board:e,favoriteCount:i,favorited:n,pinId:a}){let{logContextEvent:l}=(0,eo.v)(),t=(0,b.useDispatch)(),{slotIndex:r}=(0,B.E)(),{currentFilter:o,eligibleFilters:s,refreshData:d=()=>{},sectionId:c,setShowExperienceTooltip:u}=(0,ek.s)(),_=(0,x.useRef)(null),p=(0,eP.Z)(),m=(0,ev.Z)(p,e),g=o===eI.Ac&&(!i||1===i),h=(0,eS.E)(s,eI.Ac),y=e=>{l({event_type:101,component:0,element:e?12225:12226,object_id_str:a,view_type:5,view_parameter:m?3069:3070})};return(0,U.jsxs)(x.Fragment,{children:[(0,U.jsx)(I.xu,{ref:_,children:(0,U.jsx)(ey.Z,{favorited:n,favoriteCount:i,onFavorite:()=>{y(!0),h&&d(),u&&u(!0)},onUnfavorite:()=>{y(!1),e&&g&&t((0,ex.EX)({feedId:c||e.id,feedType:c?eb.Z.BOARD_SECTION_PINS:eb.Z.BOARDFEED,itemIds:[a],itemType:"pin"}))},pinId:a,size:20})}),_&&!n&&!c&&0===r&&(0,U.jsx)(I.mh,{children:(0,U.jsx)(ef.default,{anchor:_.current,experienceIds:[502973],flyoutSize:312,idealDirection:"up",placementId:18,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})]})}let eA=void 0!==r?r:r=n(173084);function ew({pinKey:e,pinNoteText:i,trackingParamsMap:n}){let{childDataKey:a}=(0,D.uf)(eA,e,{useLegacyAdapter:()=>({})});return(0,U.jsx)(eh,{pinKey:a,trackingParamsMap:n,children:(0,U.jsx)(I.xv,{lineClamp:1,overflow:"normal",size:"200",children:i})})}let eE=void 0!==o?o:o=n(346480),eR=e=>{let{publicCreatorAnalytics:i}=e,n=!!e.storyPinDataId;return n&&i?i:null},eC=(e,i)=>{var n,a,l,t;return(i||!(e.storyPinDataId||null!==(n=e.videos)&&void 0!==n&&n.videoList))&&0!==Object.keys((null===(a=e.aggregatedPinData)||void 0===a?void 0:null===(l=a.creatorAnalytics)||void 0===l?void 0:l._30dRealtime)||{}).length?null===(t=e.aggregatedPinData)||void 0===t?void 0:t.creatorAnalytics:e.creatorAnalytics},ej=e=>({aggregatedPinData:e.aggregated_pin_data&&{creatorAnalytics:e.aggregated_pin_data.creator_analytics&&{_30dRealtime:e.aggregated_pin_data.creator_analytics["30d_realtime"]&&{clickthrough:e.aggregated_pin_data.creator_analytics["30d_realtime"].clickthrough,closeup:e.aggregated_pin_data.creator_analytics["30d_realtime"].closeup,fullScreenPlay:e.aggregated_pin_data.creator_analytics["30d_realtime"].full_screen_play,impression:e.aggregated_pin_data.creator_analytics["30d_realtime"].impression,pinClick:e.aggregated_pin_data.creator_analytics["30d_realtime"].pin_click,save:e.aggregated_pin_data.creator_analytics["30d_realtime"].save,videoAverageTime:e.aggregated_pin_data.creator_analytics["30d_realtime"].video_average_time,videoViews:e.aggregated_pin_data.creator_analytics["30d_realtime"].video_views},allTimeRealtime:e.aggregated_pin_data.creator_analytics.all_time_realtime&&{clickthrough:e.aggregated_pin_data.creator_analytics.all_time_realtime.clickthrough,closeup:e.aggregated_pin_data.creator_analytics.all_time_realtime.closeup,fullScreenPlay:e.aggregated_pin_data.creator_analytics.all_time_realtime.full_screen_play,impression:e.aggregated_pin_data.creator_analytics.all_time_realtime.impression,pinClick:e.aggregated_pin_data.creator_analytics.all_time_realtime.pin_click,save:e.aggregated_pin_data.creator_analytics.all_time_realtime.save,videoAverageTime:e.aggregated_pin_data.creator_analytics.all_time_realtime.video_average_time,videoViews:e.aggregated_pin_data.creator_analytics.all_time_realtime.video_views}}},creatorAnalytics:e.creator_analytics&&{_30dRealtime:e.creator_analytics["30d_realtime"]&&{clickthrough:e.creator_analytics["30d_realtime"].clickthrough,closeup:e.creator_analytics["30d_realtime"].closeup,fullScreenPlay:e.creator_analytics["30d_realtime"].full_screen_play,impression:e.creator_analytics["30d_realtime"].impression,pinClick:e.creator_analytics["30d_realtime"].pin_click,save:e.creator_analytics["30d_realtime"].save,videoAverageTime:e.creator_analytics["30d_realtime"].video_average_time,videoViews:e.creator_analytics["30d_realtime"].video_views},allTimeRealtime:e.creator_analytics.all_time_realtime&&{clickthrough:e.creator_analytics.all_time_realtime.clickthrough,closeup:e.creator_analytics.all_time_realtime.closeup,fullScreenPlay:e.creator_analytics.all_time_realtime.full_screen_play,impression:e.creator_analytics.all_time_realtime.impression,pinClick:e.creator_analytics.all_time_realtime.pin_click,save:e.creator_analytics.all_time_realtime.save,videoAverageTime:e.creator_analytics.all_time_realtime.video_average_time,videoViews:e.creator_analytics.all_time_realtime.video_views}},publicCreatorAnalytics:e.public_creator_analytics&&{_30dRealtime:e.public_creator_analytics["30d_realtime"]&&{clickthrough:e.public_creator_analytics["30d_realtime"].clickthrough,closeup:e.public_creator_analytics["30d_realtime"].closeup,fullScreenPlay:e.public_creator_analytics["30d_realtime"].full_screen_play,impression:e.public_creator_analytics["30d_realtime"].impression,pinClick:e.public_creator_analytics["30d_realtime"].pin_click,save:e.public_creator_analytics["30d_realtime"].save,videoAverageTime:e.public_creator_analytics["30d_realtime"].video_average_time,videoViews:e.public_creator_analytics["30d_realtime"].video_views},allTimeRealtime:e.public_creator_analytics.all_time_realtime&&{clickthrough:e.public_creator_analytics.all_time_realtime.clickthrough,closeup:e.public_creator_analytics.all_time_realtime.closeup,fullScreenPlay:e.public_creator_analytics.all_time_realtime.full_screen_play,impression:e.public_creator_analytics.all_time_realtime.impression,pinClick:e.public_creator_analytics.all_time_realtime.pin_click,save:e.public_creator_analytics.all_time_realtime.save,videoAverageTime:e.public_creator_analytics.all_time_realtime.video_average_time,videoViews:e.public_creator_analytics.all_time_realtime.video_views}},storyPinDataId:e.story_pin_data_id,videos:e.videos&&{videoList:e.videos.video_list&&{__typename:"VideoList"}}}),eN=(e,i,n)=>{var a;let l;let{data:t}=(0,D.uf)(eE,e,{useLegacyAdapter:ej}),r=i?eR(t):eC(t,n);return(l=n?(null==r?void 0:r.allTimeRealtime)||(null==r?void 0:r._30dRealtime):(null!==(a=t.videos)&&void 0!==a&&a.videoList||t.storyPinDataId)&&(null==r?void 0:r.allTimeRealtime)||(null==r?void 0:r._30dRealtime))&&{clickthrough:l.clickthrough,closeup:l.closeup,fullScreenPlay:l.fullScreenPlay,impression:l.impression,pinClick:l.pinClick,save:l.save,videoAverageTime:l.videoAverageTime,videoViews:l.videoViews}};var eO=n(316445);let eF=(e,i)=>i?[{align:"center",displayText:e._('Video views', 'pinRep.pinStats.videoViews', 'Label for views of a video pin on pinrep'),field:"videoViews",iconType:"play"},{align:"center",displayText:e._('Avg. time', 'pinRep.pinStats.videoAverageTime', 'Label for average time of a video pin on pinrep'),field:"videoAverageTime",iconType:"clock",valueFormat:"TIME"}]:[{align:"start",displayText:e._('Video views', 'pinRep.pinStats.videoViews', 'Label for views of a video pin on pinrep'),field:"videoViews",iconType:"play"},{align:"center",displayText:e._('Avg. time', 'pinRep.pinStats.videoAverageTime', 'Label for average time of a video pin on pinrep'),field:"videoAverageTime",iconType:"clock",valueFormat:"TIME"},{align:"end",displayText:e._('Saves', 'pinRep.pinStats.save', 'Label for saves of a video pin on pinrep'),field:"save",iconType:"angled-pin"}],eD=(e,i)=>i?[{align:"center",displayText:e._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:e._('Link clicks', 'pinRep.pinStats.clickthrough', 'Label for click-throughs of a pin on pinrep'),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}]:[{align:"start",displayText:e._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:e._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"},{align:"end",displayText:e._('Link clicks', 'pinRep.pinStats.clickthrough', 'Label for click-throughs of a pin on pinrep'),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}],eL=(e,i,n,a)=>e?[{align:"start",displayText:n._('Full screen plays', 'pinRep.pinStats.fullScreenPlays', 'Label for how many times the Idea Pin has been played full screen'),field:"fullScreenPlay",iconType:"play"}]:i?[{align:"start",displayText:n._('Full screen plays', 'pinRep.pinStats.fullScreenPlays', 'Label for how many times the Idea Pin has been played full screen'),field:"fullScreenPlay",iconType:"play"},{align:"center",displayText:n._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"end",displayText:n._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"}]:a?[{align:"center",displayText:n._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:n._('Closeups', 'pinRep.pinStats.closeups', 'Label for closeups of a pin on pinrep'),field:"closeup",iconSize:10,iconType:"hand-pointing"}]:[{align:"start",displayText:n._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:n._('Closeups', 'pinRep.pinStats.closeups', 'Label for closeups of a pin on pinrep'),field:"closeup",iconSize:10,iconType:"hand-pointing"},{align:"end",displayText:n._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"}],ez=(e,i)=>i?[{align:"center",displayText:e._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:e._('Pin clicks', 'pinRep.pinStats.pinclick', 'Label for pin clicks of a pin on pinrep'),field:"pinClick",iconSize:10,iconType:"hand-pointing"}]:[{align:"start",displayText:e._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:e._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"},{align:"end",displayText:e._('Pin clicks', 'pinRep.pinStats.pinclick', 'Label for pin clicks of a pin on pinrep'),field:"pinClick",iconSize:10,iconType:"hand-pointing"}];var eM=n(117651),eB=n(13596);function eK({value:e,valueFormat:i}){let n=(0,E.ZP)();return e||0===e?"TIME"===i?(0,eM.Z)(e):(0,U.jsx)(eB.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e}):(0,U.jsx)(I.u,{idealDirection:"up",text:n._('This stat is not available yet', 'closeup.partnerAnalytics.unavailableStat', 'when data for this field has not populated yet'),children:""})}let eU=void 0!==s?s:s=n(936042),eZ=e=>({createdAt:e.created_at,isRepin:e.is_repin,pinner:e.pinner&&{entityId:e.pinner.id},promotedIsRemovable:e.promoted_is_removable,storyPinDataId:e.story_pin_data_id,videos:e.videos&&{videoList:e.videos.video_list&&{__typename:"VideoList"}}});function eG({pinKey:e}){var i,n;let a=(0,E.ZP)(),l=(0,eP.Z)(),{data:t,childDataKey:r}=(0,D.uf)(eU,e,{useLegacyAdapter:eZ}),o=!!t.storyPinDataId,s=!!(null!==(i=t.videos)&&void 0!==i&&i.videoList),d=l.isAuth&&(null===(n=t.pinner)||void 0===n?void 0:n.entityId)===l.id&&!t.isRepin,c=l.isAuth&&l.isPartner,u=(0,eO.Z)("pinStats"),_=!!c&&u(),p=(0,A.iL)({isOwnPin:d,isPartner:c}),m=eN(r,p,_),g=(0,A.H1)({isOwnPin:d,isPartner:c}),h=t.createdAt?new Date(t.createdAt):null,y=(p||g)&&h&&h.getTime()<=A.HW.getTime(),v=!!t.promotedIsRemovable,f=function({isAdsOnlyPin:e,isStoryPin:i,isVideo:n,i18n:a,showPublicPinStats:l,showPrivateFullScreenPinStats:t,showSCEMetrics:r}){return r&&!l?ez(a,e):n?eF(a,e):i?eL(l,t,a,e):eD(a,e)}({isAdsOnlyPin:v,isVideo:s,isStoryPin:o,i18n:a,showPublicPinStats:p,showPrivateFullScreenPinStats:g,showSCEMetrics:_});return(0,U.jsx)(I.kC,{alignItems:"start",justifyContent:v?"around":"between",children:f.map(({align:e,displayText:i,field:n,iconType:a,iconSize:l=12,valueFormat:t})=>(0,U.jsxs)(I.xu,{alignItems:"center",column:4,display:"flex",justifyContent:e,children:[(0,U.jsx)(I.xu,{display:"inlineBlock",marginEnd:1,children:(0,U.jsx)(I.JO,{accessibilityLabel:i,color:"default",icon:a,size:l})}),(0,U.jsx)(I.xv,{inline:!0,size:"200",children:(0,U.jsx)(eK,{value:"full_screen_play"===n&&y?null:null==m?void 0:m[n],valueFormat:t})})]},n))})}var eV=n(951202);function eH(){let e=(0,E.ZP)();return(0,U.jsx)(I.xu,{height:16,width:16,marginEnd:1,dangerouslySetInlineStyle:{__style:{marginTop:"2px"}},children:(0,U.jsx)(I.JO,{size:14,icon:"tag",color:"default",accessibilityLabel:e._('Shoppable Pin indicator', 'pinFeed.pin.title', 'Accessibility label for shoppable pin icon in grid')})})}let eW=void 0!==d?d:d=n(990199),eY=void 0!==c?c:c=n(560296);function e$(e,i){var n,a,l,t;let{data:r,childDataKey:o}=(0,D.uf)(eY,e,{useLegacyAdapter:e=>{var i,n;return{domain:e.domain,isOosProduct:e.is_oos_product,isStaleProduct:e.is_stale_product,richSummary:e.rich_summary&&{products:null===(i=e.rich_summary.products)||void 0===i?void 0:i.map(e=>({brand:e.brand&&{name:e.brand.name}})),typeName:null===(n=e.rich_summary)||void 0===n?void 0:n.type_name}}}}),s=function(e){var i,n,a,l,t;let{data:r}=(0,D.uf)(eW,e,{useLegacyAdapter:e=>{var i,n;return{domain:e.domain,isRepin:e.is_repin,linkDomain:e.link_domain&&{officialUser:e.link_domain.official_user&&{fullName:e.link_domain.official_user.full_name}},originPinner:e.origin_pinner&&{fullName:e.origin_pinner.full_name},pinner:e.pinner&&{fullName:e.pinner.full_name},richSummary:e.rich_summary&&{products:null===(i=e.rich_summary.products)||void 0===i?void 0:i.map(e=>({brand:e.brand&&{name:e.brand.name}})),siteName:null===(n=e.rich_summary)||void 0===n?void 0:n.site_name},viaPinner:e.via_pinner&&{fullName:e.via_pinner.full_name}}}});return(null===(i=r.linkDomain)||void 0===i?void 0:null===(n=i.officialUser)||void 0===n?void 0:n.fullName)||(null===(a=r.richSummary)||void 0===a?void 0:a.siteName)||("Uploaded by user"===r.domain?null===(l=r.isRepin?r.originPinner:r.pinner)||void 0===l?void 0:l.fullName:r.domain||r.isRepin&&(null===(t=r.viaPinner)||void 0===t?void 0:t.fullName)||void 0)}(o);return((null===(n=r.richSummary)||void 0===n?void 0:n.typeName)==="product"||"ShoppingGridShippedMetadataWithVisitButton"===i&&(r.isOosProduct||r.isStaleProduct))&&((null===(a=((null===(l=r.richSummary)||void 0===l?void 0:null===(t=l.products)||void 0===t?void 0:t[0])||{}).brand)||void 0===a?void 0:a.name)||s)||""}let eX=void 0!==u?u:u=n(526102);function eq({disableLink:e,pinKey:i,surface:n,trackingParamsMap:a}){let{childDataKey:l}=(0,D.uf)(eX,i,{useLegacyAdapter:()=>({})}),t=e$(l,n),r=(0,U.jsx)(I.xu,{"data-test-id":"pin-source",display:"flex",alignItems:"stretch",justifyContent:"start",children:(0,U.jsx)(I.xv,{color:"default",lineClamp:1,overflow:"normal",size:"200",weight:"normal",children:t})});return e?r:(0,U.jsx)(eh,{pinKey:l,surface:n,trackingParamsMap:a,children:r})}var eJ=n(969327),eQ=n(874261),e0=n(869805);let e1=void 0!==_?_:_=n(83551),e2=e=>({isDownstreamPromotion:e.is_downstream_promotion,promoter:e.promoter&&{__typename:"User"}});function e3({disableLink:e,numberOfLines:i=2,pinKey:n,pinTitle:a,surface:l,trackingParamsMap:t}){let r=(0,C.B)(),{checkExperiment:o}=(0,en.F)(),{data:s,childDataKey:d}=(0,D.uf)(e1,n,{useLegacyAdapter:e2}),c=!!s.promoter&&!s.isDownstreamPromotion,u=`
  .shorten-title > a {
    max-width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
  .shorten-title {
    max-width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
  `,_=e?a:(0,U.jsx)(eh,{pinKey:d,surface:l,trackingParamsMap:t,children:a}),p=(0,eJ.G6)(r.userAgent.browserName),m="iphone"===(0,e0.v)(r),g="ipad"===(0,e0.v)(r);return(m||g||p)&&!c&&o("hfp_title_truncation_safari_web").anyEnabled?(0,U.jsxs)(I.xv,{color:"default",size:"200",weight:"bold",children:[(0,U.jsx)(eQ.Z,{unsafeCSS:u}),(0,U.jsx)("div",{className:"shorten-title",children:_})]}):(0,U.jsx)(I.xv,{color:"default",lineClamp:i,size:"200",weight:"bold",children:_})}var e4=n(191085);let e8=void 0!==p?p:p=n(831614),e5=e=>({reactionCounts:e.reaction_counts&&{_0:e.reaction_counts["0"],_1:e.reaction_counts["1"],_10:e.reaction_counts["10"],_11:e.reaction_counts["11"],_12:e.reaction_counts["12"],_13:e.reaction_counts["13"],_14:e.reaction_counts["14"],_2:e.reaction_counts["2"],_3:e.reaction_counts["3"],_4:e.reaction_counts["4"],_5:e.reaction_counts["5"],_6:e.reaction_counts["6"],_7:e.reaction_counts["7"],_8:e.reaction_counts["8"],_9:e.reaction_counts["9"]}}),e6=e=>{let{data:i}=(0,D.uf)(e8,e,{useLegacyAdapter:e5});if(!i.reactionCounts)return null;let n=[i.reactionCounts._0?["_0",i.reactionCounts._0]:null,i.reactionCounts._1?["_1",i.reactionCounts._1]:null,i.reactionCounts._10?["_10",i.reactionCounts._10]:null,i.reactionCounts._11?["_11",i.reactionCounts._11]:null,i.reactionCounts._12?["_12",i.reactionCounts._12]:null,i.reactionCounts._13?["_13",i.reactionCounts._13]:null,i.reactionCounts._14?["_14",i.reactionCounts._14]:null,i.reactionCounts._2?["_2",i.reactionCounts._2]:null,i.reactionCounts._3?["_3",i.reactionCounts._3]:null,i.reactionCounts._4?["_4",i.reactionCounts._4]:null,i.reactionCounts._5?["_5",i.reactionCounts._5]:null,i.reactionCounts._6?["_6",i.reactionCounts._6]:null,i.reactionCounts._7?["_7",i.reactionCounts._7]:null,i.reactionCounts._8?["_8",i.reactionCounts._8]:null,i.reactionCounts._9?["_9",i.reactionCounts._9]:null];return n.reduce((e,i)=>{if(i){let[n,a]=i;return{...e,[n]:a}}return e},{})};var e7=n(897310),e9=n(409445),ie=n(615661),ii=n(495796),ia=n(473754),il=n(411171);let it={goodIdea:e7,love:ie,thanks:ii,wow:ia,haha:e9},ir={_7:"goodIdea",_1:"love",_13:"thanks",_11:"wow",_5:"haha"},io=["CreatorProfileStoryPinGrid"],is=void 0!==m?m:m=n(388661),id=e=>({entityId:e.id,pinner:e.pinner&&{entityId:e.pinner.id}}),ic=function({alignment:e="start",pinKey:i,surface:n}){var a;let l=(0,eP.Z)(),{data:t,childDataKey:r}=(0,D.uf)(is,i,{useLegacyAdapter:id}),o=e6(r),s=o?(0,il.At)(o):null,d=o?(0,il.Ud)(o):0,c=!!(l.isAuth&&(null===(a=t.pinner)||void 0===a?void 0:a.entityId)===l.id),u=!!s&&s.length>0&&s.map((e,i)=>{let n=ir[e],a=it[n];return(0,U.jsx)(I.xu,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:(0,U.jsx)(I.xu,{width:17,height:17,dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${a})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})},i)}),_=!!u&&(0,U.jsx)(I.Tg,{href:`/pin/${t.entityId}/`,children:(0,U.jsxs)(I.xu,{display:"flex",direction:"row",alignItems:"center",justifyContent:e,height:19,paddingY:3,children:[(0,U.jsx)(I.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:u}),(0,U.jsx)(I.xu,{paddingX:1,children:(0,U.jsx)(I.xv,{size:"200",children:(0,U.jsx)(eB.Z,{value:d,shortform:!0,shortformMaximumFractionDigits:1})})})]})}),p=c&&io.includes(n)&&(0,U.jsx)(I.xu,{height:24});return _||p};var iu=n(309926),i_=n(870243);function ip({accessibilityLabel:e,attributionNameLink:i,avatarUrl:n,fullWidth:a=!0,name:l="",onClick:t,outline:r=!1,size:o=32,shouldRenderAdsOnlyProfileClick:s=!1}){let d=(0,U.jsx)(I.xu,{"data-test-id":"attribution-avatar",height:o,width:o,children:(0,U.jsx)(i_.qE,{name:l,src:n,accessibilityLabel:"",outline:r})});return i?(0,U.jsx)(I.Tg,{fullWidth:a,href:i,rel:s?"nofollow":void 0,target:s?"blank":void 0,onTap:t,accessibilityLabel:e,children:d}):d}var im=n(493214);function ig({isHover:e,attributionNameLink:i,name:n,onClick:a,regularWeight:l}){return(0,U.jsx)(I.xu,{children:i?(0,U.jsx)(I.xv,{underline:e,size:"200",lineClamp:1,weight:l?"normal":"bold",children:(0,U.jsx)(I.rU,{onClick:a,href:i,children:n})}):(0,U.jsx)(im.Z,{underline:e,size:"200",lineClamp:1,weight:l?"normal":"bold",children:n})})}function ih({isHover:e,link:i,onClick:n,title:a,weight:l}){return a?(0,U.jsx)(I.xv,{inline:!0,underline:e,size:"200",weight:l,children:i?(0,U.jsx)(I.rU,{onClick:n,href:i,children:a}):a}):null}var iy=n(251163),iv=n(397831);function iP({attributionNameLink:e,attributionTitle:i,avatarUrl:n,display:a="default",isPromotedByPinCreator:l,name:t,url:r,verifiedIdentity:o,isVerifiedMerchant:s,shouldRenderAdsOnlyProfileClick:d,pinId:c,storyPinDataId:u,hasPromoter:_,hasSponsorship:p,sponsorshipCreatorId:m,isDownstreamPromotion:g}){let h=(0,iv.f)(),[y,v]=(0,x.useState)(!1),f=_&&!g,{logContextEvent:P}=(0,eo.v)(),S=(0,M.Z)(101,{view_type:3,element:f?283:27,object_id_str:c,component:u?230:void 0,aux_data:{...m?{creator_id:m,pin_id:c}:{}}}),b=()=>{h.setMostRecentPinId(c),S()},k=()=>{v(e=>!e)},T=r&&!e,A=T?"":t,w="overlay"===a,E={marginLeft:"3px",marginRight:"3px"},R=(0,U.jsxs)(I.xu,{alignItems:"center",display:w?void 0:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}},children:[n&&(0,U.jsx)(I.xu,{flex:"none",dangerouslySetInlineStyle:{__style:E},display:w?"flex":void 0,justifyContent:"center",children:(0,U.jsx)(I.xu,{dangerouslySetInlineStyle:w?{__style:{marginTop:-45}}:void 0,children:(0,U.jsx)(ip,{attributionNameLink:A?e:void 0,avatarUrl:n,name:A,onClick:()=>b(),accessibilityLabel:A,size:w?64:32,outline:w})})}),(0,U.jsxs)(I.xu,{dangerouslySetInlineStyle:{__style:E},flex:"grow",overflow:"hidden",display:w?"flex":void 0,justifyContent:"center",marginTop:w?2:void 0,children:[(0,U.jsx)(I.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}},children:(0,U.jsxs)(I.kC,{gap:{row:1,column:0},children:[(0,U.jsx)(ig,{attributionNameLink:e,name:t,onClick:()=>b(),regularWeight:!(f&&!p||l),isHover:y}),(0,U.jsx)(iy.Z,{size:"sm",hasVerifiedIdentity:o,isVerifiedMerchant:s})]})}),(0,U.jsx)(ih,{isHover:y,title:i,weight:"normal"})]})]});return T?(0,U.jsx)(I.Tg,{onTap:({event:e})=>{d&&P({event_type:9371,element:13382,aux_data:{aop_origin:"Attribution"}}),e.stopPropagation(),b()},href:r,rel:d?"nofollow":void 0,target:d?"blank":void 0,onMouseEnter:k,onMouseLeave:k,children:R}):R}var iS=n(885669);let ix={container:{padding:"8px 6px 16px"},productContainer:{padding:"12px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:`opacity ${iS.X}ms ease`},visible:{opacity:1}}};var ib=n(649715);let ik=void 0!==g?g:g=n(427387),iI=e=>({pinner:e.pinner&&{fullName:e.pinner.full_name,username:e.pinner.username},sourceInterest:e.source_interest&&{name:e.source_interest.name}});function iT({feedbackType:e,pinKey:i,trackingParamsMap:n}){let a=(0,E.ZP)(),{data:l,childDataKey:t}=(0,D.uf)(ik,i,{useLegacyAdapter:iI}),{pinner:r,sourceInterest:o}=l,{fullName:s,username:d}=r||{},{name:c}=o||{},u="topic"===e,_=`/${d}/`,p=(0,ib.Z)(c),m=`/search/pins/?q=${encodeURIComponent(p)}&rs=image_only_attribution`,g=u?m:_,h={topic:a._('From {topic}', 'attribution on pin rep', 'attribution on pin rep'),followed:a._('From {pinnerName}', 'attribution on pin rep', 'attribution on pin rep'),pfyBoard:a._('Picked for you', 'attribution on pin rep', 'attribution on pin rep'),pfy:a._('Picked for you', 'attribution on pin rep', 'attribution on pin rep')},y=h[e];if(!y)return null;if(!u&&"followed"===e||u){let e=0===y.indexOf("{"),i=u?c:s,n=e?y.slice(y.indexOf("}")+1):y.slice(0,y.indexOf("{"));return e?(0,U.jsxs)(I.xu,{children:[(0,U.jsx)(I.rU,{display:"inlineBlock",href:g,underline:"hover",children:(0,U.jsx)(I.xv,{weight:"bold",inline:!0,size:"200",lineClamp:1,children:i})}),(0,U.jsx)(I.xv,{inline:!0,size:"200",children:n})]}):(0,U.jsxs)(I.xu,{children:[(0,U.jsx)(I.xv,{inline:!0,size:"200",children:n}),(0,U.jsx)(I.rU,{display:"inlineBlock",href:g,underline:"hover",children:(0,U.jsx)(I.xv,{color:"default",weight:"bold",inline:!0,size:"200",lineClamp:1,children:i})})]})}return(0,U.jsx)(I.xu,{children:(0,U.jsx)(ep.Z,{pinKey:t,trackingParamsMap:n,children:(0,U.jsx)(I.xv,{color:"default",overflow:"normal",size:"200",weight:"bold",children:y})})})}n(422578);let iA=void 0!==h?h:h=n(150470),iw=e=>({board:e.board&&{url:e.board.url},isDownstreamPromotion:e.is_downstream_promotion,linkDomain:e.link_domain&&{officialUser:e.link_domain.official_user&&{adsOnlyProfileSite:e.link_domain.official_user.ads_only_profile_site,fullName:e.link_domain.official_user.full_name,imageLargeUrl:e.link_domain.official_user.image_large_url,imageMediumUrl:e.link_domain.official_user.image_medium_url,imageSmallUrl:e.link_domain.official_user.image_small_url,isAdsOnlyProfile:e.link_domain.official_user.is_ads_only_profile,isPrimaryWebsiteVerified:e.link_domain.official_user.is_primary_website_verified,isVerifiedMerchant:e.link_domain.official_user.is_verified_merchant,username:e.link_domain.official_user.username,verifiedIdentity:e.link_domain.official_user.verified_identity&&{verified:e.link_domain.official_user.verified_identity.verified}}},nativeCreator:e.native_creator&&{adsOnlyProfileSite:e.native_creator.ads_only_profile_site,entityId:e.native_creator.id,fullName:e.native_creator.full_name,imageLargeUrl:e.native_creator.image_large_url,imageMediumUrl:e.native_creator.image_medium_url,imageSmallUrl:e.native_creator.image_small_url,isAdsOnlyProfile:e.native_creator.is_ads_only_profile,isVerifiedMerchant:e.native_creator.is_verified_merchant,username:e.native_creator.username,verifiedIdentity:e.native_creator.verified_identity&&{verified:e.native_creator.verified_identity.verified}},pinner:e.pinner&&{fullName:e.pinner.full_name,imageLargeUrl:e.pinner.image_large_url,imageMediumUrl:e.pinner.image_medium_url,imageSmallUrl:e.pinner.image_small_url,username:e.pinner.username,isVerifiedMerchant:e.pinner.is_verified_merchant,verifiedIdentity:e.pinner.verified_identity&&{verified:e.pinner.verified_identity.verified}},promoter:e.promoter&&{adsOnlyProfileSite:e.promoter.ads_only_profile_site,entityId:e.promoter.id,fullName:e.promoter.full_name,imageMediumUrl:e.promoter.image_medium_url,imageSmallUrl:e.promoter.image_small_url,isAdsOnlyProfile:e.promoter.is_ads_only_profile,username:e.promoter.username},sponsorship:e.sponsorship&&{sponsor:e.sponsorship.sponsor&&{fullName:e.sponsorship.sponsor.full_name,username:e.sponsorship.sponsor.username}}});var iE=n(925428),iR=n(462887);let iC=void 0!==y?y:y=n(269577),ij=e=>{var i,n;return{entityId:e.id,favoriteUserCount:e.favorite_user_count,favoritedByMe:e.favorited_by_me,isDownstreamPromotion:e.is_downstream_promotion,nativeCreator:e.native_creator&&{entityId:e.native_creator.id},promoter:e.promoter&&{__typename:"User",entityId:e.promoter.id},sponsorship:e.sponsorship&&{creator:e.sponsorship.creator&&{entityId:null!==(i=e.sponsorship.creator.id)&&void 0!==i?i:""},sponsor:e.sponsorship.sponsor&&{entityId:null!==(n=e.sponsorship.sponsor.id)&&void 0!==n?n:"",fullName:e.sponsorship.sponsor.full_name},status:e.sponsorship.status},storyPinData:e.story_pin_data&&{hasAffiliateProducts:e.story_pin_data.has_affiliate_products},storyPinDataId:e.story_pin_data_id}};function iN({attributionType:e,board:i,contentType:n,feedbackData:a,feedbackType:l,hasTextContent:t,hasTitleOrSource:r,hoverTransitionState:o,pinKey:s,pinNoteText:d,pinTitle:c,productCurrentPrice:u,productOriginalPrice:_,setForcePrimary:p,showCarouselEllipsis:m,showFavoriteButton:g,showGroupBoardAvatar:h,showNativeReactions:y,showOverflowMenu:v,showPinStats:f,showShoppingTag:P,showSource:S,showTextContent:k,showAttribution:T,surface:A,titleLines:w,trackingParamsMap:C}){var j,N,O,F;let L=(0,eP.Z)(),z=(0,b.useDispatch)(),{data:B,childDataKey:K}=(0,D.uf)(iC,s,{useLegacyAdapter:ij}),{favoritedByMe:Z,favoriteUserCount:G,entityId:V,sponsorship:H,storyPinData:W}=B,{hasAffiliateProducts:Y}=W||{},$=e6(K),X=function({attributionType:e,pinKey:i}){let n=(0,E.ZP)(),{data:a}=(0,D.uf)(iA,i,{useLegacyAdapter:iw});return function({attributionType:e,i18n:i,pin:{board:n,isDownstreamPromotion:a,linkDomain:l,nativeCreator:t,pinner:r,promoter:o,sponsorship:s}}){var d,c,u,_,p,m,g,h,y,v,f,P,S,x,b,k,I,T,A,w,E,R,C,j,N,O,F,D,L,z,M,B,K,U,Z,G,V,H;let W=!!o&&!a,Y=W&&!!s&&(null==t?void 0:t.entityId)!==(null==o?void 0:o.entityId),$=null==l?void 0:l.officialUser,X=null==s?void 0:s.sponsor,q="",J="",Q="",ee="",ei="",en="",ea=!1,el=!1,et=!1;function er(e,i){return!!e&&!!i}return Y?(q=null!==(m=null!==(g=null==t?void 0:t.imageMediumUrl)&&void 0!==g?g:null==t?void 0:t.imageSmallUrl)&&void 0!==m?m:"",J=er(null==t?void 0:t.isAdsOnlyProfile,null==t?void 0:t.adsOnlyProfileSite)?null!==(h=t.adsOnlyProfileSite)&&void 0!==h?h:"":`/${null!==(y=null==t?void 0:t.username)&&void 0!==y?y:""}/`,Q=null==o?void 0:o.fullName,ee=null==t?void 0:t.fullName,en=er(null==t?void 0:t.isAdsOnlyProfile,null==t?void 0:t.adsOnlyProfileSite)?null!==(v=t.adsOnlyProfileSite)&&void 0!==v?v:"":`/${null!==(f=null==t?void 0:t.username)&&void 0!==f?f:""}/`,ei=`/${null!==(P=null==o?void 0:o.username)&&void 0!==P?P:""}/`,ea=null==t?void 0:null===(S=t.verifiedIdentity)||void 0===S?void 0:S.verified,el=null==t?void 0:t.isVerifiedMerchant,et=er(null==t?void 0:t.isAdsOnlyProfile,null==t?void 0:t.adsOnlyProfileSite)):W&&o?(q=o.imageMediumUrl||o.imageSmallUrl,Q=o.fullName,ee=i._('Promoted by', 'indicating the username of the person who promoted the pin', 'indicating the username of the person who promoted the pin'),en=er(o.isAdsOnlyProfile,o.adsOnlyProfileSite)?o.adsOnlyProfileSite:`/${null!==(x=o.username)&&void 0!==x?x:""}/`,et=er(o.isAdsOnlyProfile,o.adsOnlyProfileSite)):s&&null!=X&&X.username?(q=null!==(b=null!==(k=null!==(I=null==t?void 0:t.imageLargeUrl)&&void 0!==I?I:null==t?void 0:t.imageMediumUrl)&&void 0!==k?k:null==t?void 0:t.imageSmallUrl)&&void 0!==b?b:"",J=er(null==t?void 0:t.isAdsOnlyProfile,null==t?void 0:t.adsOnlyProfileSite)?null!==(T=t.adsOnlyProfileSite)&&void 0!==T?T:"":`/${null!==(A=null==t?void 0:t.username)&&void 0!==A?A:""}/`,Q=X.fullName,ee=null==t?void 0:t.fullName,en=er(null==t?void 0:t.isAdsOnlyProfile,null==t?void 0:t.adsOnlyProfileSite)?null!==(w=t.adsOnlyProfileSite)&&void 0!==w?w:"":`/${null!==(E=null==t?void 0:t.username)&&void 0!==E?E:""}/`,ei=`/${null!==(R=X.username)&&void 0!==R?R:""}/`,ea=null==t?void 0:null===(C=t.verifiedIdentity)||void 0===C?void 0:C.verified,el=null==t?void 0:t.isVerifiedMerchant,et=er(null==t?void 0:t.isAdsOnlyProfile,null==t?void 0:t.adsOnlyProfileSite)):t?(q=null!==(j=null!==(N=null!==(O=t.imageLargeUrl)&&void 0!==O?O:t.imageMediumUrl)&&void 0!==N?N:t.imageSmallUrl)&&void 0!==j?j:"",ee=t.fullName,en=er(t.isAdsOnlyProfile,t.adsOnlyProfileSite)?t.adsOnlyProfileSite:`/${null!==(F=t.username)&&void 0!==F?F:""}/`,ea=null===(D=t.verifiedIdentity)||void 0===D?void 0:D.verified,el=t.isVerifiedMerchant,et=er(t.isAdsOnlyProfile,t.adsOnlyProfileSite)):"show-for-claimed-content"===e?null!=$&&$.isPrimaryWebsiteVerified&&$.username&&(q=null!==(L=null!==(z=null!==(M=$.imageLargeUrl)&&void 0!==M?M:$.imageMediumUrl)&&void 0!==z?z:$.imageSmallUrl)&&void 0!==L?L:"",ee=$.fullName,en=er($.isAdsOnlyProfile,$.adsOnlyProfileSite)?$.adsOnlyProfileSite:`/${null!==(B=$.username)&&void 0!==B?B:""}/`,ea=null===(K=$.verifiedIdentity)||void 0===K?void 0:K.verified,el=$.isVerifiedMerchant,et=er($.isAdsOnlyProfile,$.adsOnlyProfileSite)):(q=null!==(U=null!==(Z=null!==(G=null==r?void 0:r.imageLargeUrl)&&void 0!==G?G:null==r?void 0:r.imageMediumUrl)&&void 0!==Z?Z:null==r?void 0:r.imageSmallUrl)&&void 0!==U?U:"",J=`/${null!==(V=null==r?void 0:r.username)&&void 0!==V?V:""}/`,ee=null==r?void 0:r.fullName,en=(null==n?void 0:n.url)||"",ea=null==r?void 0:null===(H=r.verifiedIdentity)||void 0===H?void 0:H.verified,el=null==r?void 0:r.isVerifiedMerchant),{avatarUrl:null!==(d=q)&&void 0!==d?d:"",attributionNameLink:null!==(c=J)&&void 0!==c?c:"",attributionTitle:null!==(u=Q)&&void 0!==u?u:"",name:null!==(_=ee)&&void 0!==_?_:"",sponsorUrl:ei,url:null!==(p=en)&&void 0!==p?p:"",verifiedIdentity:!!ea,isVerifiedMerchant:!!el,shouldRenderAdsOnlyProfileClick:!!et}}({attributionType:e,pin:a,i18n:n})}({attributionType:e,pinKey:K}),{avatarUrl:q,attributionNameLink:J,attributionTitle:Q,name:ee,sponsorUrl:ei,url:en,verifiedIdentity:ea,isVerifiedMerchant:el,shouldRenderAdsOnlyProfileClick:et}=X,er=!!B.promoter&&!B.isDownstreamPromotion,eo=er&&(null===(j=B.nativeCreator)||void 0===j?void 0:j.entityId)===(null===(N=B.promoter)||void 0===N?void 0:N.entityId),es=(0,M.Z)(101,{view_type:3,element:27,object_id_str:V,component:B.storyPinDataId?230:void 0,aux_data:{pin_id:V,...null!=H&&null!==(O=H.creator)&&void 0!==O&&O.entityId&&null!==(F=H.sponsor)&&void 0!==F&&F.entityId?{creator_id:H.creator.entityId,sponsor_id:H.sponsor.entityId}:{}}}),ed=e=>z(ed(e)),{fullName:ec}=(null==H?void 0:H.sponsor)||{},eu="ConversationView"===A?{padding:"8px"}:ix.container;return(0,U.jsxs)(I.xu,{dangerouslySetInlineStyle:{__style:eu},children:[m&&(0,U.jsx)(I.xu,{dangerouslySetInlineStyle:{__style:r||h||"none"!==e?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center",children:(0,U.jsx)(R.Z,{children:(0,U.jsx)(iE.default,{pinKey:{type:"deprecated",data:V}})})}),f&&(0,U.jsx)(I.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},flex:"grow",width:"100%","data-test-id":"pin-stats-footer",children:(0,U.jsx)(eG,{pinKey:K})}),(0,U.jsx)(I.kC,{alignItems:"stretch",justifyContent:"start",children:(0,U.jsxs)(I.xu,{flex:"grow",children:[(!!H||Y&&!er)&&!eo&&(0,U.jsx)(I.xu,{marginBottom:1,children:(0,U.jsx)(I.xu,{flex:"grow",overflow:"hidden",children:(0,U.jsx)(iR.Z,{hasAffiliateProducts:!!Y,href:ei||en,isPromoted:er,sponsorName:ec,sponsorshipStatus:null==H?void 0:H.status,onNavigateSponsorClick:()=>{ed(V),es()},textWeight:"bold"})})}),(k&&t||g)&&(0,U.jsxs)(I.kC,{direction:"row",children:[P&&(0,U.jsx)(eH,{}),(0,U.jsxs)(I.xu,{marginBottom:1,children:["shopping"!==n&&(_||u)&&(0,U.jsx)(I.xu,{marginBottom:1,children:(0,U.jsx)(eh,{pinKey:K,surface:A,trackingParamsMap:C,children:(0,U.jsx)(eV.Z,{currentPrice:u,originalPrice:_})})}),g?(0,U.jsxs)(I.kC,{alignItems:"start",children:[(0,U.jsx)(I.kC,{flex:"grow",children:(0,U.jsx)(e3,{numberOfLines:w,pinKey:K,pinTitle:c,surface:A,trackingParamsMap:C})}),(0,U.jsx)(I.xu,{marginStart:3,children:(0,U.jsx)(eT,{board:i,favorited:!!Z,favoriteCount:null!=i&&i.is_collaborative&&(0,iu.Z)({board:i,viewer:L})?null!=G?G:0:void 0,pinId:V})})]}):(0,U.jsx)(e3,{numberOfLines:w,pinKey:K,pinTitle:c,surface:A,trackingParamsMap:C}),S&&(0,U.jsx)(I.xu,{marginBottom:2,children:(0,U.jsx)(eq,{pinKey:K,trackingParamsMap:C,surface:A})})]})]}),T&&(0,U.jsxs)(I.kC,{alignItems:"center",justifyContent:"start",children:[(0,U.jsx)(I.xu,{flex:"grow",children:(()=>{var i,n;let a=(0,U.jsx)(iP,{attributionNameLink:J,attributionTitle:er&&!H||eo?Q:"",avatarUrl:q,isPromotedByPinCreator:!!eo,isVerifiedMerchant:el,shouldRenderAdsOnlyProfileClick:et,name:ee,url:en,verifiedIdentity:ea,pinId:B.entityId,storyPinDataId:B.storyPinDataId,hasPromoter:!!B.promoter,hasSponsorship:!!B.sponsorship,sponsorshipCreatorId:null===(i=B.sponsorship)||void 0===i?void 0:null===(n=i.creator)||void 0===n?void 0:n.entityId,isDownstreamPromotion:B.isDownstreamPromotion});switch(e){case"none":return null;case"image-only-credit":return(0,U.jsx)(I.xu,{dangerouslySetInlineStyle:{__style:ix.imageOnlyAttribution["active"===o?"visible":"hidden"]},children:(0,U.jsx)(iT,{pinKey:K,trackingParamsMap:C,feedbackType:l})});default:let t=Object.values(X).some(e=>!!e);return t?a:null}})()}),v&&(0,U.jsx)(I.xu,{flex:"none",children:(0,U.jsx)(e4.default,{feedbackData:a,feedbackType:l,pinKey:K,pinTitle:c,setForcePrimary:p,transparentBackground:!0})})]}),y&&!!$&&Object.keys($).length>0&&(0,U.jsx)(I.xu,{marginTop:"ConversationView"===A?2:void 0,children:(0,U.jsx)(ic,{pinKey:K,surface:A})}),d&&(0,U.jsx)(I.xu,{marginBottom:1,children:(0,U.jsx)(ew,{pinKey:K,trackingParamsMap:C,pinNoteText:d})}),h&&!g&&(0,U.jsx)(I.xu,{alignItems:"center",display:"flex",marginTop:1,marginBottom:1,children:(0,U.jsxs)(x.Fragment,{children:[(0,U.jsx)(ip,{attributionNameLink:J||en,avatarUrl:q,fullWidth:!1,name:ee,accessibilityLabel:ee,shouldRenderAdsOnlyProfileClick:et}),(0,U.jsx)(I.xu,{marginStart:2,flex:"grow",children:(0,U.jsx)(I.xv,{size:"200",children:ee})})]})})]})},`${B.entityId}-sponsor-name-link`)]})}var iO=n(840166);function iF({dimension:e,color:i,isSelected:n,img:a,selectVariant:l}){var t,r,o;let s=(0,E.ZP)(),d=(0,U.jsx)(I.iP,{fullHeight:!0,fullWidth:!0,rounding:1,onMouseEnter:({event:n})=>{n.preventDefault(),n.stopPropagation(),l({dimensionName:e,variant:i})},onFocus:()=>{l({dimensionName:e,variant:i})},children:(0,U.jsx)(I.xu,{"data-test-id":`primary-variant-preview-icon-${i}`,height:18,width:18,rounding:1,display:"flex",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:{__style:{border:n?"1px solid black":"1px solid #EFEFEF"}},children:(0,U.jsx)(I.xu,{height:14,width:14,position:"absolute",rounding:1,overflow:"hidden",children:(0,U.jsx)(I.xu,{"data-test-id":`${i}-variant-preview-wrapper`,dangerouslySetInlineStyle:{__style:{transform:"scale(10,10)"}},children:(0,U.jsx)(I.zd,{height:14,width:14,rounding:1,children:(0,U.jsx)(I.Ee,{alt:s._('Color variant preview image', 'MerchantStorefront.Variant.VariantPreviewIcon.Image', 'Alt text for color variant preview image'),naturalHeight:null!==(t=a.height)&&void 0!==t?t:1,naturalWidth:null!==(r=a.width)&&void 0!==r?r:1,src:null!==(o=a.url)&&void 0!==o?o:"",fit:"contain"})})})})})});return(0,U.jsx)(I.xu,{"data-test-id":`primary-variant-main-${i}`,display:"inlineBlock",height:18,rounding:1,width:18,children:d})}function iD(){let{logContextEvent:e}=(0,eo.v)(),i=(0,iO.Xx)(),n=i&&i.primaryVariants.filter(e=>e.image).length>0;if((0,x.useEffect)(()=>{e({event_type:120,component:14092})},[n,e]),!i)return null;let{primaryVariants:a,primaryDimName:l}=i,t=a.slice(0,6).map(e=>{let n=e.value,a=e.value===i.selectedMap[l],t=e.image;return t?(0,U.jsx)(iF,{dimension:l,color:n,isSelected:a,img:t,selectVariant:i.selectVariant},n):null}).filter(Boolean);if(a.length>6){let e=a.length-6;t.push((0,U.jsx)(I.xu,{"data-test-id":"plus-number",display:"flex",height:18,rounding:1,width:18,justifyContent:"center",children:(0,U.jsxs)(I.iP,{fullHeight:!0,fullWidth:!0,rounding:1,onTap:({event:e})=>{e.stopPropagation()},children:["+",e]})},6))}return(0,U.jsx)(I.kC,{justifyContent:"start",alignItems:"center",gap:3,children:t})}var iL=n(139488),iz=n(28630);function iM(){let e=(0,E.ZP)();return(0,U.jsx)(I.xv,{color:"subtle",overflow:"normal",size:"200",weight:"normal",children:e._('Sold out', 'pinrep.footer.outOfStock', 'Footer text to indicate that product pin is out of stock.')})}function iB(){let e=(0,E.ZP)();return(0,U.jsx)(I.xv,{color:"subtle",overflow:"normal",size:"200",weight:"normal",children:e._('See price on site', 'pinrep.footer.staleProduct', 'Footer text to indicate that is a stale(untrustworthy) product pin.')})}let iK=void 0!==v?v:v=n(18736),iU=e=>({isOosProduct:e.is_oos_product,isStaleProduct:e.is_stale_product,link:e.link,richSummary:e.rich_summary&&{url:e.rich_summary.url}});function iZ({contentType:e,hasTextContent:i,pinKey:n,pinTitle:a,productCurrentPrice:l,productOriginalPrice:t,productRating:r,productShipping:o,showShoppingTag:s,showSource:d,showVisitSiteButton:c,surface:u,titleLines:_,trackingParamsMap:p}){var m;let{logContextEvent:g}=(0,eo.v)(),h=(0,E.ZP)(),{checkExperiment:y}=(0,en.F)(),{data:v,childDataKey:f}=(0,D.uf)(iK,n,{useLegacyAdapter:iU}),P=(null===(m=v.richSummary)||void 0===m?void 0:m.url)||v.link,S=null,b=(0,iO.Xx)();if(b){let{anyEnabled:e}=y("storefront_variant_pins");e&&(S=(0,U.jsx)(iD,{}))}let k=(0,iz.Z)({url:P});return(0,U.jsx)(I.xu,{dangerouslySetInlineStyle:{__style:ix.productContainer},height:"100%",children:(0,U.jsx)(I.kC,{direction:"column",flex:"grow",height:"100%",justifyContent:"between",children:i&&(0,U.jsxs)(x.Fragment,{children:[(0,U.jsx)(eh,{pinKey:f,surface:u,trackingParamsMap:p,children:(0,U.jsxs)(I.kC,{direction:"column",gap:1,children:[(t||l)&&(0,U.jsx)(eV.Z,{currentPrice:l,originalPrice:t,onlyShowCurrentPrice:"ShoppingGridSmallCarousel"===u}),v.isOosProduct&&(0,U.jsx)(iM,{}),v.isStaleProduct&&(0,U.jsx)(iB,{}),(0,U.jsxs)(I.kC,{direction:"row",children:[s&&(0,U.jsx)(eH,{}),(0,U.jsxs)(I.kC,{direction:"column",children:[_>0&&(0,U.jsx)(e3,{disableLink:!0,numberOfLines:_,pinKey:f,pinTitle:a,surface:u,trackingParamsMap:p}),d&&(0,U.jsx)(eq,{disableLink:!0,pinKey:f,trackingParamsMap:p,surface:u})]})]}),"shopping"===e&&"ShoppingGridSmallCarousel"!==u&&(r||Number.isFinite(null==o?void 0:o.freeShippingValue))&&(0,U.jsx)(iL.Z,{count:null==r?void 0:r.count,countFormat:"number",isGridView:!0,ratingValue:null==r?void 0:r.rating,shippingInfo:o}),S]})}),c&&P?(0,U.jsx)(I.xu,{marginTop:2,children:(0,U.jsx)(I.ZP,{fullWidth:!0,href:P,rel:k?"nofollow":"none",onClick:()=>{g({event_type:12,view_type:1,view_parameter:3563})},target:"blank",text:h._('Visit site', 'ShoppingList.Pin.CTA.Button.VisitSite.Text', 'Text on CTA button on ShoppingList Pin to Visit Site')})}):null]})})})}let iG=void 0!==f?f:f=n(860092),iV=(0,x.memo)(function({attributionType:e,blockClickEvents:i,board:n,contentType:a,feedbackData:l,feedbackType:t,hoverTransitionState:r,pinKey:o,pinNoteText:s,pinTitle:d,productCurrentPrice:c,productOriginalPrice:u,productRating:_,productShipping:p,setForcePrimary:m,showCarouselEllipsis:g,showFavoriteButton:h,showGroupBoardAvatar:y,showNativeReactions:v,showOverflowMenu:f,showPinStats:P,showShoppingTag:S,showSource:x,showTextContent:b,showVisitSiteButton:k,showAttribution:T=!0,surface:A,titleLines:w,trackingParamsMap:E}){let C=d||x,{childDataKey:j}=(0,D.uf)(iG,o,{useLegacyAdapter:()=>({})}),N=(0,en.F)(),{checkExperiment:O}=N,F="shopping"===a&&O("web_product_pin_rep_redesign").anyEnabled,L=F||"shopping"!==a?(0,U.jsx)(iN,{attributionType:e,board:n,contentType:a,feedbackData:l,feedbackType:t,hasTextContent:!!C,hasTitleOrSource:!!C,hoverTransitionState:r,pinKey:j,pinNoteText:s,pinTitle:d,productCurrentPrice:c,productOriginalPrice:u,setForcePrimary:m,showCarouselEllipsis:g,showFavoriteButton:h,showGroupBoardAvatar:y,showNativeReactions:v,showOverflowMenu:f,showPinStats:P,showShoppingTag:S,showSource:x,showTextContent:b,showAttribution:T,surface:A,titleLines:w,trackingParamsMap:E}):(0,U.jsx)(iZ,{contentType:a,hasTextContent:!!C,pinKey:j,pinTitle:d,productCurrentPrice:c,productOriginalPrice:u,productRating:_,productShipping:p,showShoppingTag:S,showSource:x,showVisitSiteButton:k,surface:A,titleLines:w,trackingParamsMap:E});return i?(0,U.jsx)(I.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:L}):(0,U.jsx)(I.kC,{flex:"grow",children:(0,U.jsx)(R.Z,{fullWidth:!0,children:L})})});var iH=n(819079),iW=n(87663),iY=n(449879);let i$=(0,x.lazy)(()=>n.e(34979).then(n.bind(n,447522))),iX=(0,x.lazy)(()=>Promise.all([n.e(97270),n.e(23071),n.e(14734),n.e(71407),n.e(43473)]).then(n.bind(n,563171))),iq=(0,x.lazy)(()=>Promise.all([n.e(97270),n.e(23071),n.e(14734),n.e(71407),n.e(22347)]).then(n.bind(n,81203))),iJ=(0,x.lazy)(()=>Promise.all([n.e(97270),n.e(22538)]).then(n.bind(n,587540))),iQ=(0,x.lazy)(()=>n.e(1593).then(n.bind(n,266744)));function i0({derivedSaveButtonOptions:e,forcePrimaryContent:i,showEnabledSaveBehavior:n,onToggleFlyout:a,onToggleModal:l,pin:t,surface:r}){let o=(0,iO.Xx)(),s=null==o?void 0:o.variantUrl,d=(0,iH.Z)(s?{name:"PinResource",options:{id:s}}:null),c=d&&d.data?d.data:t,{id:u,savedInfo:_}=c,p=(0,x.useRef)(!!_),m=(0,b.useSelector)(({experiences:e})=>{let i=e[1000294];return(null==i?void 0:i.experience_id)===502450?i:null}),{saveBehaviorType:g}=(0,iY.tY)(n);void 0!==g&&["classic","controlled","inline"].includes(e.type)&&(e=g);let{viewParameter:h}=(0,B.E)(),y=(0,M.Z)(101,{element:0,object_id_str:u}),v=null;if(!e.hidePinBetterSaveDropdown&&(m||n&&["classic","controlled"].includes(e.type))&&["classic","controlled","inline"].includes(e.type)){let{renderPinSaveTooltip:a}=e;v=(0,U.jsx)(w.Z,{name:"SafeSuspense_PinRepPrimaryContent_QuickSaveButton",children:(0,U.jsx)(j.Z,{children:(0,U.jsx)(R.Z,{children:(0,U.jsx)(iJ,{experience:m||void 0,forcePrimaryContent:i,pin:c,renderPinSaveTooltip:a,showEnabledSaveBehavior:n,viewParameter:h})})})})}else if("classic"===e.type||"controlled"===e.type){let{renderPinSaveTooltip:i}=e;v=(0,U.jsx)(w.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinSaveButton",children:(0,U.jsx)(j.Z,{children:(0,U.jsx)(I.xu,{"data-test-id":"pin-save-button",maxWidth:"100%",children:(0,U.jsx)(R.Z,{children:(0,U.jsx)(iX,{onClickCallback:y,onToggleModal:l,oneTapSave:"controlled"===e.type?e:void 0,pin:c,renderPinSaveTooltip:i,renderSavedStatus:()=>!!_&&(0,U.jsx)(R.Z,{children:(0,U.jsx)(iW.Z,{isNewlySaved:!p.current,name:_.title,type:_.type,url:_.url})}),variant:"lego",viewParameter:h})})})})})}else if("inline"===e.type){let{initialSelection:i,onSave:n,renderPinSaveTooltip:t,hidePinBetterSaveDropdown:r}=e;v=(0,U.jsx)(w.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinBetterSave",children:(0,U.jsx)(j.Z,{children:(0,U.jsx)(I.xu,{"data-test-id":"better-save",children:(0,U.jsx)(R.Z,{children:(0,U.jsx)(iq,{initialSelection:i,onSave:n,onToggleFlyout:a,onToggleModal:l,pin:c,renderPinSaveTooltip:t,renderSavedStatus:({savedInfo:e})=>e&&(0,U.jsx)(R.Z,{children:(0,U.jsx)(iW.Z,{isNewlySaved:!p.current,name:e.title,type:e.type,url:e.url,shouldUseLegoStyles:!0})}),variant:"pin",viewParameter:h,hideDropdown:r})})})})})}else"persistentOneClickSave"===e.type?v=(0,U.jsx)(w.Z,{name:"SafeSuspense_PinRepPrimaryContent_PersistentOneClickSave",children:(0,U.jsx)(j.Z,{children:(0,U.jsx)(I.xu,{"data-test-id":"persistent-one-click-save",children:(0,U.jsx)(R.Z,{children:(0,U.jsx)(i$,{saveOptions:e})})})})}):"promote"===e.type&&(v=(0,U.jsx)(I.kC,{alignItems:"stretch",justifyContent:"end",children:(0,U.jsx)(w.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinPromoteButton",children:(0,U.jsx)(j.Z,{children:(0,U.jsx)(I.xu,{"data-test-id":"pin-promote-button",children:(0,U.jsx)(R.Z,{children:(0,U.jsx)(iQ,{pin:c})})})})})}));return(0,U.jsx)(w.Z,{name:"PinRepPrimaryContent",children:(0,U.jsx)(I.xu,{display:"flex",margin:"ShoppingGridSmallCarousel"===r?1:3,children:v&&(0,U.jsx)(I.xu,{marginStart:"auto",flex:"grow",children:v})})})}let i1={marginTop:"1px"};function i2({cta:e}){let i=(0,E.ZP)();return(0,U.jsx)(I.iP,{children:(0,U.jsx)(I.xu,{"data-test-id":"pinrep-chin",minHeight:32,color:"secondary",dangerouslySetInlineStyle:{__style:i1},children:(0,U.jsxs)(I.xu,{padding:2,display:"flex",justifyContent:"between",children:[(0,U.jsx)(I.xv,{size:"200",weight:"bold",children:e||i._('Learn more', '[m10n] pinRep.chin.learnMore', 'Closeup for learn more chin')}),(0,U.jsx)(I.JO,{icon:"arrow-forward",size:12,accessibilityLabel:i._('Go to lead ad', '[m10n] pinRep.chin.arrowForwardIcon', 'Arrow forward icon for chin'),color:"default"})]})})})}var i3=n(424271),i4=n(335700);function i8({isStaleProduct:e,price:i,surface:n}){let a=(0,E.ZP)(),{checkExperiment:l}=(0,en.F)(),t=l("web_product_pin_rep_redesign").group;return["enabled_price_overlay","employees"].includes(t)&&(e||"ShoppingGridShippedMetadataWithVisitButton"===n||!i)?null:(0,U.jsxs)(x.Fragment,{children:[(0,U.jsx)(I.xu,{position:"absolute",height:"100%",width:"100%",top:!0,dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.04)"}},"data-test-id":"shopping-overlay"}),(0,U.jsx)(I.xu,{position:"absolute",height:80,width:"100%",bottom:!0,dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.63))"}},children:(0,U.jsx)(I.xu,{alignItems:"end",marginStart:4,paddingY:4,display:"flex",height:"100%",children:"enabled_overlay"===t?(0,U.jsx)(I.JO,{icon:"tag",accessibilityLabel:a._('Shoppable Pin indicator', 'pinFeed.pin.image', 'Accessibility label for shoppable pin icon in grid'),color:"inverse",size:18}):(0,U.jsx)(I.xv,{weight:"bold",size:"100",color:"light",children:i})})})]})}var i5=n(479958),i6=n(740089);let i7={__style:{boxShadow:"inset 0 0 0 2px black,  inset 0 0 0 4px white",transition:"all 300ms ease"}};function i9({isSelected:e}){let i=(0,E.ZP)();return(0,U.jsx)(I.xu,{bottom:!0,left:!0,position:"absolute",right:!0,rounding:4,top:!0,dangerouslySetInlineStyle:e?i7:{},children:(0,U.jsx)(I.xu,{position:"absolute",bottom:!0,right:!0,padding:3,children:(0,U.jsx)(I.xu,{alignItems:"center",color:e?"dark":"default",display:"flex",height:"24px",justifyContent:"center",rounding:2,width:"24px",dangerouslySetInlineStyle:{__style:{transition:"all 300ms ease"}},children:(0,U.jsx)(I.JO,{accessibilityLabel:i._('Pin is selected to be saved', 'SectionSuggestionPin.iconOnPin.selectedPin', 'accessibility label on an icon'),color:"inverse",icon:"check",size:12})})})})}var ne=n(40660);let ni={},nn=e=>{ne.Z.increment("web_prefetch_via_xhr.attempt",1);let i=(0,K.Z)(e);return new Promise((n,a)=>{if(window.navigator&&window.navigator.connection){let{connection:e}=window.navigator;e.saveData&&(ne.Z.increment("web_prefetch_via_xhr.saveDataOn",1),n()),/2g/.test(e.effectiveType)&&(ne.Z.increment("web_prefetch_via_xhr.poorConnection",1),n())}let l=new XMLHttpRequest;l.open("GET",e),l.onload=()=>{200===l.status?(ni[e]&&(ni[e].loaded=!0),ne.Z.increment("web_prefetch_via_xhr.load.success",1,{hostname:i.hostname||"unknown"}),n(l.response)):(ne.Z.increment("web_prefetch_via_xhr.load.error",1,{hostname:i.hostname||"unknown"}),a())},ni[e]||(l.send(),ni[e]={added:!0,xhr:l},ne.Z.increment("web_prefetch_via_xhr.xhrSent",1,{hostname:i.hostname||"unknown"}))})},na=e=>{ni[e]&&ni[e].xhr&&!ni[e].loaded&&(ne.Z.increment("web_prefetch_abort_xhr",1),ni[e].xhr.abort(),ni[e].aborted=!0)};var nl=n(634923),nt=n(714557);let nr={},no=(e,i)=>{let n="string"==typeof e?e:e.url;return i&&n?n.replace("v1.pinimg.com","control"===i?"v3.pinimg.com":"v2.pinimg.com"):n};function ns(e,i){let n=no("https://v1.pinimg.com/videos/mc/hls/",i)||"",a=n+`${e.slice(0,2)}/${e.slice(2,4)}/${e.slice(4,6)}/${e}`;return a}var nd=n(568998);let nc=e=>"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width};function nu({autoplaySettingOff:e,blockClickEvents:i,fallbackColor:n,imageFit:a,imageHeightModifier:l,isDenseView:t,isHovering:r,onError:o,onLoad:s,pin:d,pinImageCrop:c,resolution:u="default",rootMargin:_,selectionState:p,showCarousel:m,showPromotedVideos:g,showLeadPinStdBeta:h,showShoppingOverlay:y,showUnavailablePin:v,surface:f}){var P,S,b,k,T,A;let{contextLogData:w,slotIndex:E,viewParameter:R,viewType:C}=(0,B.E)(),{checkExperiment:j}=(0,en.F)(),{group:N}=j("web_prefetch_video_in_feed"),{id:O="",aggregated_pin_data:D,auto_alt_text:L,image_signature:z,story_pin_data:M}=d,{pin_tags_chips:K}=D||{},Z=!!d.is_eligible_for_web_closeup,G=!!(null!==(P=d.videos)&&void 0!==P&&P.video_list),V=!!d.promoter&&!d.is_downstream_promotion,H=V?(()=>{if(M){if(!j("ads_iad_dweb").anyEnabled)return null;let e=M.pages;if(e&&e.length>0){let i=e&&e[0].blocks;if(i&&i.length>0){let e=i[0];if(3===e.block_type&&e.video&&e.video.video_list&&e.video.video_list.V_HLSV3_MOBILE)return{entityId:e.video.id,...e.video.video_list.V_HLSV3_MOBILE}}}}return null})():null,{cropHeight:W,cropWidth:Y}=nc(c),$=!1,X=null;if(v)X=(0,U.jsx)(i5.Z,{isDenseView:t,height:t?250:420,rounding:0,width:t?164:236});else if(!e&&(G||H)&&(g||!V)&&"BoardCoverSelectablePin"!==f){let e={cropHeight:W,cropWidth:Y,highResOnly:"high-res"===u,imageHeightModifier:l,inAdsDesktopVideoExperiment:G&&g,isExperimentalPinRep:!0,lowResOnly:"low-res"===u,onError:o,onLoad:s,pinKey:{type:"deprecated",data:d},rootMargin:_,surface:f,viewParameter:R,viewType:C,...H?{video:H}:{}};X=(0,U.jsxs)(I.xu,{"data-test-id":"pinrep-video",direction:"column",display:"flex",height:W||void 0,justifyContent:"center",children:[(0,U.jsx)(i4.Z,{...e}),h&&(0,U.jsx)(i2,{cta:d.call_to_action_text})]})}else if(m)$=!0,X=(0,U.jsx)(I.xu,{"data-test-id":"pinrep-carousel",children:(0,U.jsx)(nd.Z,{cropHeight:W,cropWidth:Y,onError:o,onLoad:s,highResOnly:"high-res"===u,lowResOnly:"low-res"===u,pinId:O,showCarouselBadge:!1,pinKey:{type:"deprecated",data:d},isThirdPartyAd:d.is_third_party_ad})});else{let e="backend"===c?function({images:e,image_crop:i}){var n;let a=e&&(null===(n=e["236x"])||void 0===n?void 0:n.height);if(i&&(0!==i.min_y||1!==i.max_y)){let{min_y:e=0,max_y:n=0}=i;return{marginTop:`${e>0?-1*e*(null!=a?a:0):0}px`,marginBottom:`${n<1?Math.round(-((1-n)*1)*(null!=a?a:0)):0}px`}}return{}}(d):{};$=!!L&&j("web_mk_alt_text",{dangerouslySkipActivation:!0}).anyEnabled,X=(0,U.jsxs)(I.xu,{dangerouslySetInlineStyle:{__style:e},"data-test-id":"pinrep-image",minHeight:55,children:[(0,U.jsx)(i3.Z,{cropHeight:W,cropWidth:Y,fallbackColor:n,imageFit:a,highResOnly:"high-res"===u,lowResOnly:"low-res"===u,mediumResOnly:"medium-res"===u,onLoad:s,onError:o,pinKey:{type:"deprecated",data:d},surface:f}),y&&(0,U.jsx)(i8,{isStaleProduct:null!==(S=d.is_stale_product)&&void 0!==S&&S,surface:f,price:null!==(b=null===(k=d.rich_summary)||void 0===k?void 0:null===(T=k.products)||void 0===T?void 0:null===(A=T[0].offer_summary)||void 0===A?void 0:A.price)&&void 0!==b?b:""}),h&&(0,U.jsx)(i2,{cta:d.call_to_action_text})]})}let q=(0,U.jsx)(I.zd,{wash:!0,children:(0,U.jsx)(F.Z,{hovered:r,pinKey:{type:"deprecated",data:d},slotIndex:E,trackingParamsMap:d.tracking_params_map,viewType:1,children:X})}),J=["selected-image-only","deselected-image-only"].includes(p),Q="selected-image-only"===p,ee=(0,x.useRef)(!0),ei=(0,x.useRef)(!1),ea=(0,x.useRef)(!1),el=j("web_video_quic").group;if((0,x.useEffect)(()=>{var e,n;ee.current||!r||Z||i||ei.current?r||!ei.current||ea.current||((e=(null==M?void 0:M.id)||d.id)&&nr[e]&&nr[e].length>0&&nr[e].forEach(e=>{na(e)}),ea.current=!0):(M?function(e,i){var n,a;let{id:l,pages:t,pages_preview:r}=e;if(!r&&!t)return;let o=r?r[0]:null==t?void 0:t[0],s=null==o?void 0:null===(n=o.blocks)||void 0===n?void 0:n.find(e=>3===e.block_type);if(s&&s.video){let{hlsv3:e,mp4:n}=(0,nl.Z)(s.video)||{},t=n||e;if(t&&l){let e=null!==(a=no(t,i))&&void 0!==a?a:"";nr[l]=nr[l]?nr[l].concat(e):[e],nn(e)}}}(M,el):null!==(n=d.videos)&&void 0!==n&&n.video_list&&function({pinId:e,videosId:i,videoList:n,quicExpGroup:a}){var l,t,r;let{vHLS3Mobile:o,vHLSV4:s,...d}=n,c=e&&i&&(null===(l=[o,s].find(e=>e&&e.thumbnail&&e.url&&!!e.width&&!!e.height))||void 0===l?void 0:l.url);if(c){let i=null!==(t=no(c,a))&&void 0!==t?t:"";nr[e]=nr[e]?nr[e].concat(i):[i],nn(i).then(i=>{let n=[];if("string"==typeof i&&(n=i.split("\n").filter(e=>e.endsWith(".m3u8"))),n&&n[nt.V]){let i=ns(n[nt.V],a);return nr[e]=nr[e].concat(i),nn(null!=i?i:"")}return null}).then(i=>{let n=[];if("string"==typeof i&&(n=i.split("\n").filter(e=>e.endsWith(".ts"))),n&&n[0]){let i=ns(n[0],a);return nr[e]=nr[e].concat(i),nn(null!=i?i:"")}return null});return}let u=(0,nl.t)(d);if(null!=u&&u.url){let i=null!==(r=no(u.url,a))&&void 0!==r?r:"";nn(i),nr[e]=nr[e]?nr[e].concat(i):[i]}}({pinId:d.id,videosId:d.videos.id,videoList:{vExp3:d.videos.video_list.V_EXP3,vExp4:d.videos.video_list.V_EXP4,vExp5:d.videos.video_list.V_EXP5,vExp6:d.videos.video_list.V_EXP6,vExp7:d.videos.video_list.V_EXP7,v720p:d.videos.video_list.V_720P,vHLS3Mobile:d.videos.video_list.V_HLSV3_MOBILE,vHLSV4:d.videos.video_list.V_HLSV4},quicExpGroup:el}),ei.current=!0),ee.current=!1},[i,r,Z,M,d,N,el]),i)return(0,U.jsxs)(x.Fragment,{children:[q,J&&(0,U.jsx)(i9,{isSelected:Q}),K&&(0,U.jsx)(I.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,U.jsx)(i6.Z,{pinKey:{type:"deprecated",data:d},trackingParamsMap:d.tracking_params_map,enableCloseupLink:!0})})]});let{commerce_data:et,story_type:er,board_id:eo,board_pin_count:es}=w||{};return(0,U.jsxs)(eh,{contextLogData:{commerce_data:et,grid_index:E,image_signature:z,story_type:er,board_id:eo,board_pin_count:es},disableA11yLabel:$,elementType:M?12372:35,pinKey:{type:"deprecated",data:d},surface:f,trackingParamsMap:d.tracking_params_map,children:[q,K&&(0,U.jsx)(I.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,U.jsx)(i6.Z,{pinKey:{type:"deprecated",data:d},trackingParamsMap:d.tracking_params_map,enableCloseupLink:!1})})]})}var n_=n(194480),np=n(324509),nm=n(55193),ng=n(533451);function nh({direction:e,swipeHandler:i}){let n=(0,E.ZP)(),a={left:n._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image'),right:n._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image')};return(0,U.jsx)(I.xu,{position:"absolute",bottom:!0,top:!0,left:"left"===e,right:"right"===e,children:(0,U.jsx)(I.iP,{fullHeight:!0,fullWidth:!0,onTap:i,children:(0,U.jsx)(I.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%","data-test-id":`carousel-slider-${e}`,children:(0,U.jsx)(I.JO,{accessibilityLabel:a[e],color:"inverse",icon:{left:"arrow-back",right:"arrow-forward"}[e]})})})})}let ny=void 0!==P?P:P=n(45128);function nv({pinKey:e}){var i;let{data:n,childDataKey:a}=(0,D.uf)(ny,e,{useLegacyAdapter:e=>({entityId:e.id})}),{entityId:l}=n,t=(0,nm.Z)(a,"AuthDesktopPinRep.CarouselSliders"),{componentType:r,viewParameter:o,viewType:s}=(0,B.E)(),d=(0,b.useDispatch)(),c=(e,i)=>d((0,ng.yR)(e,i)),u=(0,np.Z)(a);if(!u)return null;let{carouselSlots:_}=u,p=null!==(i=u.index)&&void 0!==i?i:0;function m(e){return()=>{var i;let n="left"===e?p-1:p+1;c(l,n),t({pinId:l,currentIndex:null!=p?p:0,nextIndex:n,carouselData:{carouselSlots:_.map(({slotId:e})=>({id:e})),entityId:null!==(i=null==u?void 0:u.carouselId)&&void 0!==i?i:""},viewParameter:o,viewType:s,componentType:r})}}return(0,U.jsxs)(I.xu,{height:"100%",position:"relative",width:"100%",children:[p>0&&(0,U.jsx)(R.Z,{children:(0,U.jsx)(nh,{direction:"left",swipeHandler:m("left")})}),p<_.length-1&&(0,U.jsx)(R.Z,{children:(0,U.jsx)(nh,{direction:"right",swipeHandler:m("right")})})]})}function nf(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function nP(...e){return e.includes("visible")?"visible":e.includes("hidden")?"hidden":"none"}var nS=n(911386);let nx={impressed:{backgroundColor:"#adebad"}},nb=()=>void 0!==(0,nS.Z)().debug_impression_log;function nk({debugImpressionState:e="paused",slotIndex:i}){return"paused"===e?null:(0,U.jsx)(I.xu,{dangerouslySetInlineStyle:{__style:nx.impressed},"data-test-id":"debug-pin-impressions",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,opacity:.5,children:(0,U.jsx)(I.xu,{position:"absolute",top:!0,left:!0,padding:2,color:"selected",children:(0,U.jsx)(I.xv,{color:"inverse",children:(0,U.jsx)("span",{className:"deprecatedTextSizeXL",children:i})})})})}var nI=n(368420),nT=n(126645);let nA=["CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid"],nw={allPins:{component:210,view_type:4,view_parameter:3106},board:{view_type:5,view_parameter:3069},created:{component:13668,view_type:4,view_parameter:3106}};function nE({pinId:e,surface:i}){let{logContextEvent:n}=(0,eo.v)(),a=(0,E.ZP)(),l=()=>{let e=nA.includes(i)?nw.created:"BaseBoardPinGrid"===i?nw.board:"UserProfilePinGrid"===i?nw.allPins:{};n({event_type:101,element:10573,...e})},t=a._('See more stats', 'pinRep.actionBar.seeStatsButton', 'Button that will re-direct user to detailed stats page');return(0,U.jsx)(I.xu,{"data-test-id":"see-stats-button",paddingX:3,paddingY:3,children:nA.includes(i)?(0,U.jsx)(I.ZP,{accessibilityLabel:a._('Go to pin stats details page', 'pinRep.actionBar.seeStatsButton', 'This button will take the user to their detailed pin stats page for the pin'),color:"semiTransparentWhite",fullWidth:!0,href:`/pin/${e}/analytics`,onClick:l,size:"sm",text:t.length>14?`${t.substring(0,12).trim()}...`:t}):(0,U.jsx)(I.I_,{accessibilityLabel:a._('Go to pin stats details page', 'pinRep.actionBar.seeStatsButton', 'This icon button will take the user to their detailed pin stats page for the pin'),bgColor:"white",href:`/pin/${e}/analytics`,icon:"ads-stats",iconColor:"darkGray",onClick:l,size:"sm"})})}var nR=n(272270),nC=n(176172),nj=n(946543),nN=n(299402);let nO={SELECTED:"#000000",NOT_SELECTED:"#ffffff"};function nF({selected:e=!1}){let i=(0,E.ZP)(),{isRTL:n}=(0,C.B)();return(0,U.jsx)(I.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,zIndex:new I.Ry(1),"data-test-id":"pinRepSelectionBorder",dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:e?nO.SELECTED:nO.NOT_SELECTED,borderRadius:nC.Oc,boxShadow:e?"inset 0 0 0 3px #fff":void 0}},children:e?(0,U.jsx)(I.xu,{position:"absolute",bottom:!0,right:!n,left:n,display:"flex",alignItems:"center",justifyContent:"center",margin:3,rounding:2,height:24,width:24,color:"dark",children:(0,U.jsx)(I.JO,{accessibilityLabel:i._('Check icon', 'pinRepSelectionBorder.checkIcon', 'Accessibility label for check icon on selected Pin'),icon:"check",color:"inverse",size:12})}):(0,U.jsx)(I.xu,{right:!n,left:n,position:"absolute",top:!0,margin:3,children:(0,U.jsx)(I.JO,{accessibilityLabel:i._('Handle icon', 'pinRepSelectionBorder.handleIcon', 'Accessibility label for handle icon on an organizable Pin'),icon:"handle",color:"light",size:24})})})}let nD={wrapper:{borderRadius:nC.Oc,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:nC.Dv.VISUAL},savedOverlay:{backgroundColor:nC.Dv.SAVED},legoWashOverlay:{backgroundColor:nC.Dv.LEGO_WASH}};function nL({children:e,savedOverlayVisibility:i="none",visualOverlayVisibility:n="none",handleMouseOverPinContent:a,handleMouseLeavePinContent:l,primaryContent:t,primaryContentVisibility:r="none",secondaryContent:o,secondaryContentVisibility:s="none",accessoryContent:d,accessoryContentVisibility:c="none",actionBar:u,actionBarVisibility:_="none",seeStatsButton:p,footer:m,selectionState:g="no-selection",debugContent:h,signalDebuggerContent:y,signalDebuggerV2Content:v,signalDebuggerV2ContentVisibility:f="none",obscuredPinOverlay:P,showNoPinBorderRadius:S,showPromotedPinBorderTreatment:x,showLeadPinStdBeta:b,shouldUseLegoWash:k}){return(0,U.jsx)(I.xu,{dangerouslySetInlineStyle:{__style:x?nD.promotedPinBorderTreatment:{}},height:"100%","data-test-id":"pinRepPresentation",children:(0,U.jsxs)(I.xu,{dangerouslySetInlineStyle:{__style:S?{}:nD.wrapper},"data-test-id":"pinWrapper",display:"flex",direction:"column",height:"100%",overflow:"hidden",position:"relative",children:[["selected","deselected"].includes(g)&&(0,U.jsx)(nF,{selected:"selected"===g}),(0,U.jsxs)(I.xu,{"aria-hidden":!!P,children:[(0,U.jsxs)(I.xu,{dangerouslySetInlineStyle:{__style:S?{}:nD.wrapper},overflow:"hidden",position:"relative",onFocus:a,onBlur:l,onMouseEnter:a,onMouseLeave:l,children:[e,(0,U.jsx)(nN.Z,{visibility:n,children:(0,U.jsx)(nj.Z,{additionalStyles:k?nD.legoWashOverlay:nD.visualOverlay})}),(0,U.jsx)(nN.Z,{visibility:i,children:(0,U.jsx)(nj.Z,{additionalStyles:k?nD.legoWashOverlay:nD.savedOverlay})}),d&&(0,U.jsx)(nN.Z,{visibility:c,children:(0,U.jsx)(nj.Z,{children:d})}),o&&(0,U.jsx)(nN.Z,{visibility:s,children:(0,U.jsx)(nj.Z,{children:o})}),t&&(0,U.jsx)(nN.Z,{visibility:r,children:(0,U.jsx)(nj.Z,{children:t})}),v&&(0,U.jsx)(nN.Z,{visibility:f,children:(0,U.jsx)(nj.Z,{children:(0,U.jsx)(I.xu,{position:"absolute",left:!0,bottom:!0,marginBottom:12,marginStart:2,children:v})})}),u&&(0,U.jsx)(nN.Z,{visibility:_,children:(0,U.jsx)(nj.Z,{children:(0,U.jsx)(I.xu,{position:"absolute",left:!0,right:!0,bottom:!0,marginBottom:b?8:0,children:u})})}),p&&(0,U.jsx)(nj.Z,{children:(0,U.jsx)(I.xu,{position:"absolute",bottom:!0,children:p})}),h&&(0,U.jsx)(nj.Z,{children:h}),y]}),m]}),P&&(0,U.jsx)(I.xu,{children:P})]})})}function nz(e){return e<160?"header-only":"none"}var nM=n(795142);let nB=(0,x.memo)(function({actionBarProps:e,blockClickEvents:i,borderStyle:n,currentlyPlayingVideo:a,disableHover:l=!1,footerProps:t,impressionsDebuggerProps:r,obscuredPinOverlayProps:o,onError:s,onLoad:d,pin:c,pinVisualProps:u,presentationProps:_,primaryContentProps:p,rounding:m,secondaryContentProps:g,authDesktopSelectionState:h,showFooter:y,showImpressionsDebugger:v,showObscuredPinOverlay:f,showSeeStatsButton:P,showSignalDebugger:S,showUnavailablePin:b,surface:k,visibilityOverrides:T,imageHeightModifier:A}){var E,j,N,O;let{savedInfo:F}=c,{showEnabledSaveBehavior:D}=(0,iY.Yh)(nM.ZF.includes(k)||(0,nR.Z)(k)),[L,z]=(0,x.useState)(!1),M=(0,iS.Z)(L),{isHovering:B,hoverTransitionState:K,handleMouseOver:Z,handleMouseLeave:G}=function(){let[e,i]=(0,x.useState)(!1),n=(0,iS.Z)(e,0,iS.X),a=(0,x.useCallback)(()=>i(!0),[i]),l=(0,x.useCallback)(()=>i(!1),[i]);return{isHovering:e,hoverTransitionState:n,handleMouseOver:a,handleMouseLeave:l}}();l&&(B=!1,K="inactive");let V=(0,iS.Z)(!!F),H=nf(V),W=nf(K),Y=nf(K),$=nf(M),X=nf(V),q=["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(k),J={primaryContentVisibility:null!==(E=T.primaryContent)&&void 0!==E?E:nP(Y,$,"visible"===X?"none":X),secondaryContentVisibility:"none"===(O=nP(Y,$,X))?"visible":"visible"===O?"none":"hidden",actionBarVisibility:nP(Y,$),accessoryContentVisibility:"none",signalDebuggerV2ContentVisibility:"visible"},ee=e=>z(e),ei=null;"none"!==J.primaryContentVisibility&&(ei=(0,U.jsx)(i0,{forcePrimaryContent:e=>z(e),showEnabledSaveBehavior:D,onToggleFlyout:ee,onToggleModal:e=>{z(e),e||G()},pin:c,surface:k,...p}));let en=null,ea=(0,x.useRef)(!0),el=ea.current;ea.current=!1;let et=function(e,i,n){let[a,l]=(0,x.useState)(!e||n),t=(0,x.useRef)(i),r=(0,x.useRef)(null);if(e){let e=t.current;t.current=i,(i!==e||n)&&(r.current&&clearTimeout(r.current),l(!0),r.current=setTimeout(()=>{l(!1),r.current=null},4e3))}return(0,x.useEffect)(()=>()=>{r.current&&clearTimeout(r.current)},[]),a}(!!c.carousel_data,null===(j=c.carousel_data)||void 0===j?void 0:j.index,el),er=(0,iS.Z)(et),eo=nf(er);J.secondaryContentVisibility=null!==(N=T.secondaryContent)&&void 0!==N?N:function(...e){return e.includes("none")?"none":e.includes("hidden")?"hidden":"visible"}(J.secondaryContentVisibility,eo),en=(g.allowShoppingPriceIndicator||g.shoppingLabelColor||"none"!==J.secondaryContentVisibility)&&!a&&(0,U.jsx)(I.xu,{margin:2,children:(0,U.jsx)(n_.Z,{pin:c,...g})});let es=null;"visible"===T.accessoryContent&&(es=(0,U.jsx)(nv,{pinKey:{type:"deprecated",data:c}}),J.accessoryContentVisibility=nf(K));let ed={...e},ec=null;P&&(ed={...ed,showSourceLinkButton:!1},ec=(0,U.jsx)(R.Z,{children:(0,U.jsx)(nE,{pinId:c.id,surface:k})})),u.showLeadPinStdBeta&&(ed={...ed,showSourceLinkButton:!1});let eu="visible"===T.actionBar?(0,U.jsx)(Q,{onToggleFlyout:ee,pin:c,setForcePrimary:z,surface:k,...ed}):null,{experimentsClient:e_}=(0,C.B)(),ep=null;(y||(0,nR.Z)(k)&&!(e_.checkExperiment("dweb_image_only_product_pin_grid").anyEnabled||e_.checkExperiment("dweb_image_only_product_pin_grid_new_user").anyEnabled))&&(ep=(0,U.jsx)(iV,{blockClickEvents:i,hoverTransitionState:"image-only-credit"===t.attributionType?K:null,pinKey:{type:"deprecated",data:c},setForcePrimary:z,surface:k,trackingParamsMap:c.tracking_params_map,...t}));let em=v&&(0,U.jsx)(nk,{...r}),eg=S&&c.debug_info_html&&(0,U.jsx)(I.xu,{paddingY:1,children:(0,U.jsx)("pre",{children:c.debug_info_html})}),eh=(0,U.jsx)(nI.Z,{pinKey:{type:"deprecated",data:c}}),ey=(0,x.useRef)(),ev=function(e){let[i,n]=(0,x.useState)(e.current?nz(e.current.clientHeight||0):"none");return!function(e,i){let n=(0,x.useRef)();(0,x.useEffect)(()=>{let a=e.current;if(!a)return;let l=n.current;(!l||l.width!==a.offsetWidth||l.height!==a.offsetHeight)&&(n.current={width:a.offsetWidth||0,height:a.offsetHeight||0},i&&i(n.current))}),n.current}(e,({height:e})=>{let a=nz(e);a!==i&&n(a)}),i}(ey);"header-only"===ev&&(J.actionBarVisibility="none",J.accessoryContentVisibility="none");let ef=f?(0,U.jsx)(nT.ZP,{pin:c,...o}):null,eP="ShoppingGridShippedMetadataWithVisitButton"===k?{height:"100%"}:{},eS=y&&"default"===t.attributionType&&nM.ZF.includes(k),ex=!c.is_promoted&&!l&&eS;return(0,U.jsx)(w.Z,{name:"PinRepContainer",children:(0,U.jsx)(I.xu,{"data-test-id":"pin","data-test-pin-id":c.id,onFocus:Z,onBlur:G,onMouseEnter:Z,onMouseLeave:G,dangerouslySetInlineStyle:{__style:eP},rounding:"ConversationView"===k?m:void 0,borderStyle:"ConversationView"===k?n:"none",overflow:"ConversationView"===k?"hidden":"visible",children:(0,U.jsx)(nL,{visualOverlayVisibility:W,savedOverlayVisibility:"visible"!==H||q?H:"none",handleMouseOverPinContent:ex?Z:()=>{},handleMouseLeavePinContent:ex?G:()=>{},primaryContent:ei,primaryContentVisibility:J.primaryContentVisibility,secondaryContent:en,secondaryContentVisibility:J.secondaryContentVisibility,accessoryContent:es,accessoryContentVisibility:J.accessoryContentVisibility,actionBar:eu,actionBarVisibility:J.actionBarVisibility,seeStatsButton:ec,footer:ep,selectionState:h,debugContent:em,signalDebuggerV2Content:eh,signalDebuggerV2ContentVisibility:J.signalDebuggerV2ContentVisibility,signalDebuggerContent:eg,obscuredPinOverlay:ef,..._,children:(0,U.jsx)(I.xu,{height:"100%",ref:ey,children:(0,U.jsx)(nu,{blockClickEvents:i,showUnavailablePin:b,isHovering:B,onError:s,onLoad:d,pin:c,surface:k,selectionState:h,imageHeightModifier:A,...u})})})})})});var nK=n(650414),nU=n(525571),nZ=n(5342),nG=n(988014),nV=n(427370),nH=n(997394),nW=n(329689),nY=n(384722),n$=n(886365),nX=n(55350);function nq({isGroupBoard:e,surface:i,gridTitle:n,hasRichSummary:a,hasCarouselData:l,richSummaryTypeName:t,richSummaryDisplayName:r,title:o,hasPromoter:s,isDownstreamPromotion:d,pinAccess:c,carouselSlotsTitle:u}){let _=!!(null!=c&&c.includes("write"));return l&&u?u.trim():!s||d?n||"":nM.ZF.includes(i)?n||"":(!_||e||l||"UserProfilePinGrid"===i)&&(o||a&&"mobile application"!==t&&r||n)||""}let nJ=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid"],nQ=({surface:e,isORBACProfileManager:i,isORBACGA:n,isRemovable:a})=>"CloseupRelatedProducts"!==e&&!a&&(!i||null==n||n);var n0=n(963375),n1=n(860438),n2=n(736567),n3=n(619277);let n4=["ShoppingCatalogsProductsMetadata"],n8=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin"],n5=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","ConversationView","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin","ShoppingCatalogsProductsMetadata"];var n6=n(341027);let n7=["CloseupRelatedProducts","ConversationView","CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid","ProductPinsFeed","UserProfilePinGrid"],n9=void 0!==S?S:S=n(403494),ae=e=>{var i,n;return{access:e.access&&e.access.map(e=>e),aggregatedPinData:e.aggregated_pin_data&&{creatorAnalytics:e.aggregated_pin_data.creator_analytics&&{_30dRealtime:e.aggregated_pin_data.creator_analytics["30d_realtime"]&&{carId:e.aggregated_pin_data.creator_analytics["30d_realtime"].id}}},board:e.board&&{privacy:e.board.privacy},carouselData:e.carousel_data&&{carouselSlots:e.carousel_data.carousel_slots&&e.carousel_data.carousel_slots.map(e=>({title:e.title})),index:null===(i=e.carousel_data)||void 0===i?void 0:i.index},creatorAnalytics:e.creator_analytics&&{_30dRealtime:e.creator_analytics["30d_realtime"]&&{carId:e.creator_analytics["30d_realtime"].id}},domain:e.domain,gridTitle:e.grid_title,isDownstreamPromotion:e.is_downstream_promotion,isEligibleForPdp:e.is_eligible_for_pdp,isRepin:e.is_repin,nativeCreator:e.native_creator&&{__typename:"User"},pinNote:e.pin_note&&{text:e.pin_note.text},pinner:e.pinner&&{entityId:e.pinner.id},promoter:e.promoter&&{__typename:"User"},richMetadata:e.rich_metadata&&{products:e.rich_metadata.products&&e.rich_metadata.products.map(e=>({shippingInfo:e.shipping_info&&{freeShippingPrice:e.shipping_info.free_shipping_price,freeShippingValue:e.shipping_info.free_shipping_value,shipsToUserCountry:e.shipping_info.ships_to_user_country}}))},richSummary:e.rich_summary&&{aggregateRating:e.rich_summary.aggregate_rating&&{ratingCount:e.rich_summary.aggregate_rating.rating_count,ratingValue:e.rich_summary.aggregate_rating.rating_value,reviewCount:e.rich_summary.aggregate_rating.review_count},displayName:e.rich_summary.display_name,products:e.rich_summary.products&&e.rich_summary.products.map(e=>({brand:e.brand&&{name:e.brand.name},offerSummary:e.offer_summary&&{maxPrice:e.offer_summary.max_price,minPrice:e.offer_summary.min_price,price:e.offer_summary.price,standardPrice:e.offer_summary.standard_price}})),typeName:null===(n=e.rich_summary)||void 0===n?void 0:n.type_name},sponsorship:e.sponsorship&&{__typename:"Sponsorship"},storyPinDataId:e.story_pin_data_id,title:e.title,unifiedUserNote:e.unified_user_note,videos:e.videos&&{videoList:e.videos.video_list&&{__typename:"VideoList"}}}},ai=({attributionOption:e,board:i,contentType:n,experimentsClient:a,feedbackData:l,feedbackType:t,hasCarouselData:r,isGroupBoard:o,isORBACProfileManager:s,isOwnBoard:d,showImageOnly:c,showNativeReactions:u,showPromotedShoppingPrice:_,showShoppingTag:p,surface:m,viewer:g,variantData:h,pinKey:y})=>{var v,f,P,S,b,k,I,T,A,w,E,R,C,j,N,O,F,L,z,M,B;let K,U,Z,G;let{data:V,childDataKey:H}=(0,D.uf)(n9,y,{useLegacyAdapter:ae}),W=e$(H,m),Y=!!V.promoter&&!V.isDownstreamPromotion,$=!!V.sponsorship,{pinNote:X,isEligibleForPdp:q}=V,J=function({attributionOption:e,feedbackType:i,isEligibleForPdp:n,isGroupBoard:a,showImageOnly:l,surface:t,isDownstreamPromotion:r,hasNativeCreator:o,hasPromoter:s,hasSponsorship:d,storyPinDataId:c}){if("promoted"===i||s&&!r||d)return"default";if("ConversationView"!==t&&n7.includes(t)||a||n)return"none";let u="default";return"SearchItem"===t&&c?u:(e&&("image-only"===e?u="image-only-credit":"hide"===e&&(u="none")),"followed"!==i||l)?["IdeasHubSeasonalRow","TodayArticleFeed","ShoppingPackageItem"].includes(t)&&"hide"===e?u:"TodayArticleFeed"===t&&"show"===e?"show-for-claimed-content":o?"default":"none":u}({attributionOption:e,feedbackType:t,isEligibleForPdp:!!q,isGroupBoard:o,showImageOnly:c,surface:m,isDownstreamPromotion:V.isDownstreamPromotion,hasNativeCreator:!!V.nativeCreator,hasPromoter:!!V.promoter,hasSponsorship:!!V.sponsorship,storyPinDataId:V.storyPinDataId}),Q=(null===(v=V.carouselData)||void 0===v?void 0:v.index)||0,ee=null!=h&&h.title?h.title:nq({isGroupBoard:o,surface:m,gridTitle:V.gridTitle,hasRichSummary:!!V.richSummary,hasCarouselData:!!V.carouselData,richSummaryTypeName:null===(f=V.richSummary)||void 0===f?void 0:f.typeName,richSummaryDisplayName:null===(P=V.richSummary)||void 0===P?void 0:P.displayName,title:V.title,hasPromoter:!!V.promoter,isDownstreamPromotion:V.isDownstreamPromotion,pinAccess:V.access,carouselSlotsTitle:null===(S=V.carouselData)||void 0===S?void 0:null===(b=S.carouselSlots)||void 0===b?void 0:b[Q].title}),ei=c?"":ee,en=!["ShoppingPackageItem","ShoppingSquareGridDomain","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(m)&&!Y&&!c&&!!W,ea=["ShoppingGridShippedMetadataWithVisitButton"].includes(m),el="BaseBoardPinGrid"===m&&X?null===(k=X.text)||void 0===k?void 0:k.trim():null;!el&&V.unifiedUserNote&&(el=V.unifiedUserNote.trim());let et="shopping"===n,er=!0;"AuthHomefeed"!==m||Y||(u=!1,er=!(null!==(I=((null===(T=V.richSummary)||void 0===T?void 0:null===(A=T.products)||void 0===A?void 0:A[0])||{}).brand)&&void 0!==I&&I.name));let eo=function({attributionType:e,isPromoted:i,isShopping:n,showSource:a,surface:l}){return i?3:a||"none"!==e?n?"ShoppingGridSmall"===l||au.includes(l)?1:"ShoppingGridSmallCarousel"===l?0:2:1:2}({isPromoted:Y,showSource:en,attributionType:J,isShopping:et,surface:m});if(et||_){let e=null===(w=V.richSummary)||void 0===w?void 0:null===(E=w.products)||void 0===E?void 0:E[0],{offerSummary:i}=e||{};K=i?i.standardPrice:void 0,U=i?(0,n6.Z)({maxPrice:i.maxPrice,minPrice:i.minPrice,price:i.price}):void 0}if(h){let{offerSummary:e}=h;K=e?e.standard_price:void 0,U=e?e.price||e.max_price:void 0}if(et&&!Y){let{ratingCount:e,ratingValue:i,reviewCount:n}=(null===(R=V.richSummary)||void 0===R?void 0:R.aggregateRating)||{};(e||n)&&parseFloat(i)&&(Z={count:e||n,rating:i}),G={freeShippingPrice:null===(C=V.richMetadata)||void 0===C?void 0:null===(j=C.products)||void 0===j?void 0:null===(N=j[0].shippingInfo)||void 0===N?void 0:N.freeShippingPrice,freeShippingValue:null===(O=V.richMetadata)||void 0===O?void 0:null===(F=O.products)||void 0===F?void 0:null===(L=F[0].shippingInfo)||void 0===L?void 0:L.freeShippingValue,shipsToUserCountry:null===(z=V.richMetadata)||void 0===z?void 0:null===(M=z.products)||void 0===M?void 0:null===(B=M[0].shippingInfo)||void 0===B?void 0:B.shipsToUserCountry}}let es=(0,nV.rh)(V&&{aggregatedPinData:V.aggregatedPinData&&{creatorAnalytics:V.aggregatedPinData.creatorAnalytics&&{_30dRealtime:V.aggregatedPinData.creatorAnalytics._30dRealtime&&{carId:V.aggregatedPinData.creatorAnalytics._30dRealtime.carId}}},board:V.board&&{privacy:V.board.privacy},creatorAnalytics:V.creatorAnalytics&&{_30dRealtime:V.creatorAnalytics._30dRealtime&&{carId:V.creatorAnalytics._30dRealtime.carId}},isRepin:V.isRepin,pinner:V.pinner&&{entityId:V.pinner.entityId},storyPinDataId:V.storyPinDataId,videos:V.videos&&{videoList:V.videos.videoList&&{__typename:"VideoList"}}},g,a),ed="CreatorProfileStoryPinGrid"===m||"CreatorProfileActivityPinGrid"===m,ec=!ed,eu=o&&!$,e_=!s&&("BaseBoardPinGrid"===m&&d||!!((null==i?void 0:i.is_collaborative)&&(0,iu.Z)({board:i,viewer:g})))&&!ed,ep=(0,x.useMemo)(()=>({attributionType:J,board:i,contentType:n,feedbackData:l,feedbackType:t,pinNoteText:el,pinTitle:ei,productCurrentPrice:U,productOriginalPrice:K,productRating:Z,productShipping:G,showCarouselEllipsis:r,showFavoriteButton:e_,showGroupBoardAvatar:eu,showNativeReactions:u,showOverflowMenu:Y,showPinStats:es,showShoppingTag:p,showSource:en,showTextContent:ec,showVisitSiteButton:ea,showAttribution:er,titleLines:eo}),[J,i,n,l,t,el,ei,U,K,Z,G,r,e_,eu,u,Y,es,p,en,ec,ea,er,eo]);return ep};var an=n(336331),aa=n(159262),al=n(838419),at=n(548802),ar=n(107877),ao=n(712968);let as=(0,x.lazy)(()=>Promise.all([n.e(97270),n.e(92982)]).then(n.bind(n,336020))),ad=["ArticleProductsStory","BoardCoverSelectablePin","BoardNoteSelectablePin","BulkEditMode","CommentReply","EngagementDetails","IdeasHubSeasonalRow","OtherProfilePinGrid","SectionSuggestedPins","SelectableBoardlessPin","TopicBestPinNarrow","TopicBestPinWide"],ac=["BaseBoardPinGrid","UserProfilePinGrid",...nA],au=["AuthHomefeed","SearchItem","DynamicShoppingGrid","RelatedPinGrid"];function a_({attributionOption:e,blockClickEvents:i,debugImpressionState:n,disableReaction:a,feedback:l,imageOnlyOption:t="default",pin:r,pinId:o,pinImageCrop:s,pinImageFit:d,resolution:c="default",saveButtonOptions:u,authDesktopSurface:_,trackingParameters:p,...m}){var g,h,y,v,f,P,S,I,E,R,C,N,O,F,D,L;let z;let M=(0,ea.S6)()(o),K=M||r,Z=null!==(g=null===(h=K.board)||void 0===h?void 0:h.id)&&void 0!==g?g:"",G=(0,ar.gC)()(Z),V=G||K.board;K.grid_title=K.grid_title||r.grid_title;let H=(0,en.F)(),{checkExperiment:W}=H,{collaborated_by_me:Y,collaborator_count:$,is_collaborative:X}=V||{},{is_quick_promotable:q,pinner:J,showFeedback:Q,sponsorship:ee}=K,ei=!!K.promoter&&!K.is_downstream_promotion,el=!!K.promoted_is_removable,et=(0,eP.Z)(),er=(0,nW.Z)(),{anyEnabled:eo}=W("web_m10n_business_access_orbac_www"),{anyEnabled:es}=W("web_m10n_business_access_orbac_ga"),ed=es?(0,nY.lJ)(et,er):"",ec=(0,k.useLocation)(),{slotIndex:eu,viewParameter:e_}=p,ep=["AuthHomefeed","BaseBoardPinGrid"].includes(_)&&W("web_repin_flow").anyEnabled,em=(0,at.x)(),eg=(0,nK.P)()||et.isEligibleForImageOnlyGrid,{appUI:{videosAutoplaying:eh}}=(0,n$.I)(),ey=(0,nH.Z)(K.id,eh),ef=(0,b.useSelector)(({changeBoardFromToast:e})=>e)||{},eS=((((null===(y=K.rich_metadata)||void 0===y?void 0:y.products)||[])[0]||{}).additional_images||[]).length>0,ex=!!(null!==(v=K.carousel_data)&&void 0!==v&&v.id),eb=et.isAuth&&et.isEmployee,ek=et.isAuth&&((0,nU.Z)(et.createdAt)||(0,nZ.Z)(null,et))&&!et.isPartner,eI=ek;"TodayArticleFeed"===_&&(eI=!1),"default"!==t&&(eI="image-only"===t),(0,nR.Z)(_)&&(eI=!1),"ShoppingSquareGridDomainNoMetadata"===_&&(eI=!0);let eT=e;(ek&&!eT||eg)&&(eT="image-only");let eA=(0,aa.Z)({feedbackType:null==l?void 0:l.type,viewParameter:e_,boardFollowedByMe:!!(null!==(f=K.board)&&void 0!==f&&f.followed_by_me),hasPromoter:!!K.promoter,isDownstreamPromotion:!!K.is_downstream_promotion,pinnerFollowedByMe:!!(null!==(P=K.pinner)&&void 0!==P&&P.explicitly_followed_by_me),hasRecommendationReason:!!K.recommendation_reason,recommendationReasonReason:null!==(S=null===(I=K.recommendation_reason)||void 0===I?void 0:I.reason)&&void 0!==S?S:void 0,recommendationReasonHasBoard:!!(null!==(E=K.recommendation_reason)&&void 0!==E&&E.board)}),{data:ew}=l||{},eE="number"==typeof $&&$>0||X,eR=!1;["OtherProfilePinGrid","ShoppingGridSmall"].includes(_)?eR=!0:"BaseBoardPinGrid"===_?eR=(null==em?void 0:em.boardPinDensity)==="dense":"UserProfilePinGrid"===_&&(eR=(null==em?void 0:em.profilePinDensity)==="dense");let eC=!!(eE&&"BaseBoardPinGrid"===_),ej=(0,al.Z)(),eN=(0,ao.kW)(),eO=eN&&eN[null!==(R=null===(C=ej.data)||void 0===C?void 0:C.id)&&void 0!==R?R:""]?eN[null!==(N=null===(O=ej.data)||void 0===O?void 0:O.id)&&void 0!==N?N:""]:ej.data,eF=(0,ev.Z)(et,V),eD=!1,eL=!!(0,k.matchPath)(ec.pathname,{path:"/:username/_created/",exact:!0});if(eL)eD=(0,nY.q6)(et,null==eO?void 0:eO.id,er);else if((0,nG.am)(ec)||(0,nG.OJ)(ec)){let e=V&&V.owner&&V.owner.id||"";eD=(0,nY.q6)(et,e,er)}else if((0,nG.uM)(ec)){let e=(null===(L=K.pinner)||void 0===L?void 0:L.id)||"";eD=(0,nY.q6)(et,e,er)}let ez=!!(et.isAuth&&J&&J.id===et.id),eM=!!(Y||eE&&eF),eB=et.isAuth&&et.isPartner,eK=!!(null!==(F=K.story_pin_data)&&void 0!==F&&F.is_deleted),eU=(0,x.useMemo)(()=>(function({hasCarouselData:e,isDeletedStoryPin:i,surface:n}){let a=n5.includes(n)||i,l={primaryContent:null,secondaryContent:null,actionBar:a?"none":"visible",accessoryContent:e?"visible":"none"};return i||n8.includes(n)?(l.primaryContent="none",l.secondaryContent="none"):["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(n)&&(l.primaryContent="visible"),l})({hasCarouselData:ex,isDeletedStoryPin:eK,surface:_}),[ex,eK,_]),eZ=(0,x.useMemo)(()=>(function({board:e,isDenseView:i,isGroupBoard:n,isInlineBetterSave:a,isOwnBoard:l,isORBACProfileManager:t,isQuickPromotable:r,isRemovable:o,saveButtonOptions:s,surface:d,viewer:c,viewerIsCollaborator:u}){let _=c.isAuth?c.boardCount:void 0,p=s||function(e=0){return 0===e?{type:"classic"}:{type:"inline"}}(_);if(r)p={type:"promote"};else if((u||l||["OtherProfilePinGrid","UserProfilePinGrid"].includes(d))&&!["BoardlessPins","CreatorProfileActivityPinGrid","CreatorProfileStoryPinGrid","BaseBoardPinGrid"].includes(d))p={type:"classic"};else if((u||l)&&["BaseBoardPinGrid"].includes(d)&&null!=e&&e.name&&e.url&&e.id){let i={title:e.name,boardId:e.id,url:e.url};p={type:"inline",initialSelection:i}}a&&(p={type:"inline",hidePinBetterSaveDropdown:"BaseBoardPinGrid"===d}),(o||n4.includes(d)||t)&&(p={type:"none"});let m=u&&n&&nM.UP.includes(d);return{board:e,derivedSaveButtonOptions:p,showLikeButton:m,supportsReactionBar:!i}})({board:V,isInlineBetterSave:ep,isDenseView:eR,isGroupBoard:eC,isOwnBoard:eF,isOwnPin:ez,isORBACProfileManager:eD,isQuickPromotable:q,isRemovable:el,saveButtonOptions:u,surface:_,viewer:et,viewerIsCollaborator:eM}),[V,ep,eR,eC,eF,ez,eD,q,el,u,_,et,eM]);["ShoppingDynamicHeightGrid","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadataWithVisitButton"].includes(_)&&!ei&&(z="white");let eG=(0,x.useMemo)(()=>(function({allowProductCarousel:e=!1,shoppingLabelColor:i,surface:n}){let a=nM.Wv.includes(n);return{allowProductCarousel:e,allowShoppingPriceIndicator:a,shoppingLabelColor:i}})({allowProductCarousel:eS,shoppingLabelColor:z,surface:_}),[eS,z,_]),eV=(0,x.useMemo)(()=>(function({board:e,feedbackData:i,feedbackType:n,isDenseView:a,isGroupBoard:l,isOwnBoard:t,isORBACProfileManager:r,isORBACBeta:o,isORBACGA:s,pin:d,isRemovable:c,surface:u,viewer:_}){var p,m,g,h,y,v,f;let P=!!(null!==(p=d.access)&&void 0!==p&&p.includes("write")),S=!!d.promoter&&!d.is_downstream_promotion,x=(null===(m=d.carousel_data)||void 0===m?void 0:m.index)||0,b=nq({isGroupBoard:l,surface:u,gridTitle:d.grid_title,hasRichSummary:!!d.rich_summary,hasCarouselData:!!d.carousel_data,richSummaryTypeName:null===(g=d.rich_summary)||void 0===g?void 0:g.type_name,richSummaryDisplayName:null===(h=d.rich_summary)||void 0===h?void 0:h.display_name,title:d.title,hasPromoter:!!d.promoter,isDownstreamPromotion:d.is_downstream_promotion,pinAccess:d.access,carouselSlotsTitle:null===(y=d.carousel_data)||void 0===y?void 0:null===(v=y.carousel_slots)||void 0===v?void 0:v[x].title}),k=e&&(0,nX.Z)({action:4,board:e,viewer:_})||P,I=d.savedInfo&&d.savedInfo.localPinId,T=t&&!l,A=!!(T||"UserProfilePinGrid"===u&&k||I),w=!!(l&&k||A||r&&(!d.story_pin_data_id||o)),E=!!((null==e?void 0:e.is_collaborative)||A),R=!(S||t||l||nJ.includes(u)||r),C=nQ({surface:u,isORBACProfileManager:r,isORBACGA:s,isRemovable:c}),{tracked_link:j,link:N}=d,O=null!==(f=null!=j?j:N)&&void 0!==f?f:"",F=l&&a?"equally-spaced":"default",D="default";return a&&(D=l?"icon-only":"truncated-text"),a&&["ShoppingGridSmall","UserProfilePinGrid","BaseBoardPinGrid","BoardlessPins"].includes(u)&&(D="icon-only",F="equally-spaced"),{actionBarEditBeforeShare:E,feedbackData:i,feedbackType:n,layout:F,pinTitle:b,showEditButton:w,showOverflowMenu:R,showShareButton:C,showSourceLinkButton:!!O,sourceLinkStyle:D}})({board:V,feedbackData:ew,feedbackType:eA,isDenseView:eR,isGroupBoard:eC,isOwnBoard:eF,isORBACProfileManager:eD,isORBACBeta:eo,isORBACGA:es,isRemovable:el,pin:K,surface:_,viewer:et}),[V,ew,eA,eR,eC,eF,eD,eo,es,el,K,_,et]),eH=!1;K.story_pin_data&&!et.isPartner&&(eH=W("web_auth_remove_pinner_pinstats").anyEnabled);let eW=!eH&&(0,nV.rh)(K&&{aggregatedPinData:K.aggregated_pin_data&&{creatorAnalytics:K.aggregated_pin_data.creator_analytics&&{_30dRealtime:K.aggregated_pin_data.creator_analytics["30d_realtime"]&&{carId:K.aggregated_pin_data.creator_analytics["30d_realtime"].id}}},board:K.board&&{privacy:K.board.privacy},creatorAnalytics:K.creator_analytics&&{_30dRealtime:K.creator_analytics["30d_realtime"]&&{carId:K.creator_analytics["30d_realtime"].id}},isRepin:K.is_repin,pinner:K.pinner&&{entityId:K.pinner.id},storyPinDataId:K.story_pin_data_id,videos:K.videos&&{videoList:K.videos.video_list&&{__typename:"VideoList"}}},et,H,ed)&&ac.includes(_)&&(ez||es&&eD),eY=["ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadata","ShoppingGridShippedMetadataWithVisitButton","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingGridSmall","ShoppingGridSmallCarousel"],e$=K.is_eligible_for_pdp&&!ei&&(eY.includes(_)||au.includes(_)),eX=e$?W("web_product_pin_rep_redesign").group:"",eq=eX.startsWith("enabled"),eJ=eq||eY.includes(_),eQ=!ei&&eJ?"shopping":"standard",e0=(a||"CreatorProfileStoryPinGrid"!==_||ez)&&(0,il.J6)({board:K.board&&{isCollaborative:K.board.is_collaborative,collaboratedByMe:K.board.collaborated_by_me},videos:K.videos&&K.videos.id?{entityId:K.videos.id}:null,isDownstreamPromotion:K.is_downstream_promotion,isPromoted:K.is_promoted,storyPinDataId:K.story_pin_data_id},eK),e1=(0,iO.Xx)();e0=!eg&&e0;let e2=ai({attributionOption:eT,board:V,contentType:eQ,experimentsClient:H,feedbackData:ew,feedbackType:eA,hasCarouselData:ex,isGroupBoard:eC,isORBACProfileManager:eD,isOwnBoard:eF,showImageOnly:eI,showNativeReactions:e0,showPromotedShoppingPrice:ei&&eJ,showShoppingTag:"enabled_title"===eX,surface:_,viewer:et,variantData:e1,pinKey:{type:"deprecated",data:K}}),e3=!!K.story_pin_data_id,e4=K.created_at?new Date(K.created_at):null,e8=(0,A.pN)({isOwnPin:ez,isStoryPin:e3,pinCreationDate:e4,surface:_});eH&&(e2.showPinStats=!1);let e5=!!(e2.pinTitle||e2.contentType||e2.userNote||e2.showSource||"none"!==e2.attributionType||e2.showNativeReactions||e2.productCurrentPrice||e2.productOriginalPrice||e2.showPinStats),e6=e5||eC;"BaseBoardPinGrid"===_&&eF&&eB||ee?e6=!0:ad.includes(_)||eR&&(eF||Y)?e6=!1:ez||"CreatorProfileStoryPinGrid"!==_&&"CreatorProfileActivityPinGrid"!==_||(e6=!1),!eg||ei||ee||(e6=!1);let{showLeadPinStdBeta:e7}=(0,T.Z)({promotedIsLeadAd:!!K.promoted_is_lead_ad}),{anyEnabled:e9}=W("ads_desktop_video_ads",{dangerouslySkipActivation:!0}),ie=(0,x.useMemo)(()=>(function({hasCarouselData:e,isDenseView:i,pinImageCrop:n,pinImageFit:a,resolution:l,showPromotedVideos:t,showLeadPinStdBeta:r,showShoppingOverlay:o,surface:s}){let d=nM.zl.includes(s),c="backend";"CloseupRelatedProducts"===s?c={height:n0.GZ,width:n0.OE}:"TopicBestPinWide"===s?c={height:424,width:278}:"TopicBestPinNarrow"===s?c={height:640,width:508}:["ArticleProductsStory","ShoppingSquareGridCrop","ShoppingSquareGridDomainNoMetadata"].includes(s)||d?c={height:n0.zX,width:n0.zX}:n&&(c=n);let u="none",_=null!=l?l:"default";"string"!=typeof c&&(u="cover",(d||"ShoppingDynamicHeightGrid"===s&&!a||["ShoppingGridSmall","ShoppingGridSmallCarousel","ShoppingSquareGridDomainNoMetadata"].includes(s))&&(u="contain",_="high-res"));let p=d||["ShoppingSquareGridDomainNoMetadata","ShoppingDynamicHeightGrid"].includes(s)?"transparent":"dominant",m=(0,n2.e)(s),g="undefined"!=typeof window&&0===n1.Z.getItem(n3._e);return{autoplaySettingOff:g,fallbackColor:p,imageFit:u,isDenseView:i,resolution:_,rootMargin:m,pinImageCrop:c,showCarousel:e&&!["ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(s),showPromotedVideos:t,showLeadPinStdBeta:r,showShoppingOverlay:o}})({hasCarouselData:ex,isDenseView:eR,isPromoted:ei,pinImageCrop:s,pinImageFit:d,resolution:c,showPromotedVideos:e9,showLeadPinStdBeta:e7,showShoppingOverlay:["enabled_overlay","enabled_price_overlay","employees"].includes(eX),surface:_}),[ex,eR,ei,s,d,eX,c,e9,e7,_]),ii=eb&&nb(),ia=(0,x.useMemo)(()=>({debugImpressionState:n,slotIndex:eu}),[n,eu]),it=(0,x.useMemo)(()=>({surface:_}),[_]);return(0,U.jsx)(w.Z,{name:"PinRepConfiguration",children:(0,U.jsx)(B.B,{value:p,children:(0,U.jsxs)(an.B,{value:it,children:[(0,U.jsx)(nB,{actionBarProps:eV,blockClickEvents:i,currentlyPlayingVideo:ey,footerProps:e2,impressionsDebuggerProps:ia,obscuredPinOverlayProps:{feedbackType:eA},pin:K,pinVisualProps:ie,presentationProps:{showNoPinBorderRadius:"TopicBestPinNarrow"===_||"TopicBestPinWide"===_||"ConversationView"===_,showPromotedPinBorderTreatment:"BaseBoardPinGrid"===_&&ei,shouldUseLegoWash:!0,showLeadPinStdBeta:e7},primaryContentProps:eZ,secondaryContentProps:eG,showFooter:e6||e8,showImpressionsDebugger:ii,showObscuredPinOverlay:!!Q,showSeeStatsButton:eW,showSignalDebugger:eb,showUnavailablePin:eK,surface:_,visibilityOverrides:eU,...m}),ef.shouldOpenModal&&ef.newPin&&(null===(D=ef.originalPin)||void 0===D?void 0:D.id)===K.id&&(0,U.jsx)(w.Z,{name:"SafeSuspense_PinRepConfiguration_ChangeBoardModal",children:(0,U.jsx)(j.Z,{children:(0,U.jsx)(as,{experience:ef.experience,newPin:ef.newPin})})})]})})})}},661900:(e,i,n)=>{n.d(i,{Z:()=>l});var a=n(245410);let l=({promotedIsLeadAd:e})=>{let{checkExperiment:i}=(0,a.F)();return{showLeadPinStdBeta:!!e&&i("web_lead_ads_std_beta").anyEnabled,showLeadPinStdAlpha:!!e&&i("web_lead_gen_ads").anyEnabled}}},139488:(e,i,n)=>{n.d(i,{Z:()=>I});var a=n(883119),l=n(667294),t=n(536042),r=n(630089),o=n(993926),s=n(549201),d=n(196039),c=n(785893);function u(){let e=(0,t.ZP)();return e._('Free shipping', 'closeup.product.shipping', 'product shipping info')}function _({freeShippingPrice:e}){let i=(0,t.ZP)();return(0,r.nk)(i._('Free shipping with {{ shippingPrice }}+', 'closeup.product.shipping', 'product shipping info'),{shippingPrice:e}).join("")}function p(){let e=(0,t.ZP)();return e._('Shipping info', 'closeup.product.shipping', 'product shipping info')}function m({clickthroughFn:e}){let i=(0,t.ZP)(),[n,r]=(0,l.useState)(!1),o=(0,s.HG)(),u=(0,l.useRef)(null),_=()=>{r(!n)},p=i._('Check the merchant\'s site for shipping to your region', 'closeup.product.shipping', 'Text on how the user can get more shipping information for the product'),m=i._('Visit site', 'closeup.product.shipping', 'Button to visit the merchant site'),g=o?(0,c.jsx)(a.J2,{anchor:u.current,onDismiss:_,idealDirection:"right",children:(0,c.jsx)(a.xu,{padding:5,rounding:4,children:(0,c.jsx)(a.xv,{children:p})})}):(0,c.jsx)(a.Io,{onDismiss:_,zIndex:d.lp,size:"auto",heading:"",children:(0,c.jsxs)(a.xu,{alignItems:"center",direction:"column",marginStart:10,marginEnd:10,display:"flex",children:[(0,c.jsx)(a.xu,{marginBottom:5,children:(0,c.jsx)(a.xv,{size:"400",weight:"bold",align:"center",children:p})}),(0,c.jsx)(a.zx,{text:m,accessibilityLabel:m,size:"lg",onClick:e})]})});return(0,c.jsxs)(a.xu,{display:"flex",alignItems:"center",marginStart:1,children:[(0,c.jsx)(a.iP,{ref:u,onTap:_,children:(0,c.jsx)(a.JO,{accessibilityLabel:i._('Show shipping information', 'closeup.product.shipping', 'Accessibility label for showing more shipping information'),color:"default",icon:"info-circle",size:14})}),n&&g]})}function g({clickthroughFn:e,customStyles:i,showPrevDot:n,freeShippingPrice:l,freeShippingValue:t,showShippingCountryDisclaimer:r}){let s;let d=n?[""]:[],{color:g="subtle",size:h="200"}=i||{};return Number.isFinite(t)||r?(0===t?s=(0,c.jsx)(u,{}):l?s=(0,c.jsx)(_,{freeShippingPrice:l}):r&&(s=(0,c.jsx)(p,{})),s&&d.push((0,c.jsxs)(a.kC,{direction:"row",children:[s,r&&(0,c.jsx)(m,{clickthroughFn:e})]})),0===d.length)?null:(0,c.jsx)(a.xv,{color:g,size:h,children:(0,c.jsx)(o.Z,{color:g,items:d})}):null}var h=n(734417),y=n(31407),v=n(282802);function f({count:e,rating:i}){return!!(i&&"None"!==i&&Number.isFinite(e))}let P=({rating:e,textSize:i,type:n})=>{if("single"===n){let n=parseFloat(e);return Number.isNaN(n)?null:(0,c.jsxs)(a.kC,{alignItems:"center",children:[(0,c.jsx)(y.A,{fill:"full",width:12}),(0,c.jsx)(a.xv,{size:i,children:n.toFixed(1)})]})}return(0,c.jsx)(y.Z,{rating:e,width:12})},S=({bracket:e,count:i,countFormat:n,countType:l,marginStart:o,textSize:s,underline:d})=>{let{locale:u}=(0,v.B)(),_=(0,t.ZP)(),p=(0,h.Z)();if(null==i)return null;let m=p(u,i,{shortform:!0,shortform_maximum_fraction_digits:1});if("text"===n){let e="review"===l?_.ngettext('{{ count }} review', '{{ count }} reviews', i, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total reviews count'):_.ngettext('{{ count }} rating', '{{ count }} ratings', i, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total ratings count');m=(0,r.nk)(e,{count:i}).join("")}return e&&(m=`(${m})`),(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:d?"1px solid gray":"none"}},marginStart:o,children:(0,c.jsx)(a.xv,{color:d?"subtle":"default",size:s,underline:d,children:(0,c.jsx)(a.xu,{"data-test-id":"ratings-count-text",display:"inlineBlock",children:m})})})};function x({bracket:e,count:i,countFormat:n,countType:l,rating:t,textSize:r,underline:o}){let s=f({count:i,rating:t});return s?(0,c.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,c.jsx)(P,{rating:t,textSize:r,type:"multiple"}),(0,c.jsx)(S,{bracket:e,count:i,countFormat:n,countType:l,textSize:r,underline:o})]}):null}let b=({count:e,countFormat:i,ratingValue:n,shippingInfo:l})=>(0,c.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,c.jsx)(x,{count:e,countFormat:i,rating:n,textSize:"200"}),(0,c.jsx)(a.xu,{marginTop:f({count:e,rating:n})?1:0,children:(0,c.jsx)(g,{customStyles:{color:"subtle",size:"200"},freeShippingPrice:null==l?void 0:l.freeShippingPrice,freeShippingValue:null==l?void 0:l.freeShippingValue})})]}),k=({clickthroughFn:e,count:i,countType:n,countFormat:l,hideSeparationDot:t,bracket:r,ratingValue:o,shippingInfo:s,shipsToUserCountry:d})=>(0,c.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{rowGap:8}},display:"flex",marginTop:1,wrap:!0,children:[(0,c.jsx)(x,{bracket:r,count:i,countFormat:l,countType:n,rating:o,textSize:"300"}),(0,c.jsx)(a.xu,{marginStart:f({count:i,rating:o})&&t?2:0,children:(0,c.jsx)(g,{clickthroughFn:e,customStyles:{color:"default",size:"300"},showPrevDot:f({count:i,rating:o})&&!t,freeShippingPrice:null==s?void 0:s.freeShippingPrice,freeShippingValue:null==s?void 0:s.freeShippingValue,showShippingCountryDisclaimer:!1===d})})]});function I(e){return e.isGridView?(0,c.jsx)(b,{...e}):(0,c.jsx)(k,{...e})}},589845:(e,i,n)=>{n.d(i,{Z:()=>y});var a,l=n(667294);n(167912);var t=n(616550),r=n(946618),o=n(310561),s=n(388011),d=n(970588),c=n(255630),u=n(898252),_=n(385075),p=n(473183),m=n(785893);let g=void 0!==a?a:a=n(823706),h=e=>{var i;return{board:e.board&&{url:e.board.url},entityId:e.id,link:e.link,pinner:e.pinner&&{username:e.pinner.username},richMetadata:e.rich_metadata&&{article:e.rich_metadata.article&&{__typename:"ArticleMetadata"},products:e.rich_metadata.products&&e.rich_metadata.products.map(()=>({__typename:"RichPinProductMetadata"})),recipe:(null===(i=e.rich_metadata)||void 0===i?void 0:i.recipe)&&{__typename:"RecipeMetadata"}},storyPinData:e.story_pin_data&&{__typename:"StoryPinData"},storyPinDataId:e.story_pin_data_id,trackedLink:e.tracked_link,trackingParams:e.tracking_params}};function y({children:e,hovered:i,pinKey:n,slotIndex:a,trafficSource:y,trackingParamsMap:v,viewType:f}){var P,S,x,b,k;let{logContextEvent:I}=(0,s.v)(),[T,A]=(0,l.useState)(),[w,E]=(0,l.useState)(),{data:R,childDataKey:C}=(0,c.uf)(g,n,{useLegacyAdapter:h}),{entityId:j,trackedLink:N,link:O}=R,F=N||O||"",D=()=>{A(!0)},L=function(e){let i=(0,t.useLocation)(),{previous:n}=(0,o.Hv)();return(0,r.Z)({...e,location:i,previousHistory:n})}({boardUrl:null===(P=R.board)||void 0===P?void 0:P.url,pinId:j,pinnerUserName:null===(S=R.pinner)||void 0===S?void 0:S.username,storyPinDataId:R.storyPinDataId,trackingParams:R.trackingParams,trackingParamsMap:v}),z=(0,_.Z)({hasPin:!!R,hasPinRichMetadata:!!R.richMetadata,hasPinRichMetadataProducts:!!(null!==(x=R.richMetadata)&&void 0!==x&&x.products),hasPinRichMetadataArticle:!!(null!==(b=R.richMetadata)&&void 0!==b&&b.article),hasPinRichMetadataRecipe:!!(null!==(k=R.richMetadata)&&void 0!==k&&k.recipe),hasPinStoryPinData:!!R.storyPinData}),M=(0,p.Z)(C),B=(0,l.useCallback)(()=>{let e=M();(0,d.Z)({url:"/v3/offsite/",data:{check_only:!1,pin_id:j,url:F,client_tracking_params:L,aux_data:JSON.stringify({clickthrough_type:"rightClick",objectId:j,...a||{},...e})}}).then(i=>{i&&(I({event_type:12,object_id_str:j,view_type:f,view_parameter:z,aux_data:{clickthrough_type:"rightClick",...a||{},...e}}),I({event_type:8948,view_type:f,object_id_str:j,view_parameter:z,aux_data:{click_type:"clickthrough",closeup_navigation_type:y&&(0,u.sV)(y)?"deeplink":"click",clickthrough_type:"rightClick",...a||{},...e}}))})}),K=e=>{if(T){var i;/^\/pin/.test(null===(i=e.target.activeElement.attributes.href)||void 0===i?void 0:i.value)||(B(),A(!1)),window.removeEventListener(w,K,!1)}};return(0,l.useEffect)(()=>{var e,i,n,a,l,t;void 0!==(null===(e=window)||void 0===e?void 0:null===(i=e.document)||void 0===i?void 0:i.hidden)?E("visibilitychange"):void 0!==(null===(n=window)||void 0===n?void 0:null===(a=n.document)||void 0===a?void 0:a.msHidden)?E("msvisibilitychange"):void 0!==(null===(l=window)||void 0===l?void 0:null===(t=l.document)||void 0===t?void 0:t.webkitHidden)&&E("webkitvisibilitychange")},[]),(0,l.useEffect)(()=>(T&&window&&window.addEventListener(w,K,!1),()=>window.removeEventListener(w,K)),[T,w]),(0,l.useEffect)(()=>(i&&window.addEventListener("contextmenu",D),()=>{window.removeEventListener("contextmenu",D)}),[i]),(0,m.jsx)(l.Fragment,{children:e})}},869805:(e,i,n)=>{n.d(i,{Z:()=>_,v:()=>c});var a=n(40660),l=n(457628),t=n(791045),r=n(469093),o=n(98736),s=n(782219);let d=()=>{let e=navigator&&navigator.userAgent.toLowerCase();if(e){if(e.indexOf("googlebot")>-1||e.indexOf("google web preview")>-1||e.indexOf("google page speed insights")>-1)return"google_bot";if(e.indexOf("msnbot")>-1||e.indexOf("bingbot")>-1)return"ms_bot";if(e.indexOf("applebot")>-1)return"apple_bot";if(e.indexOf("yahoo")>-1||e.indexOf("slurp")>-1)return"yahoo_bot";else if(e.indexOf("yandex")>-1)return"yandex"}},c=e=>{let{userAgent:i}=e;if(!i.isMobile&&!i.isTablet)return"desktop";switch(i.platform){case s.RL:return"iphone";case s.GW:return i.isTablet?"android_tablet":"android";case s.s4:return"ipad";default:return"mobile_other"}},u=({moduleName:e,pageType:i,requestContext:n,route:s})=>{let u;let _=c(n),p=n.isAuthenticated?"auth":"unauth",m=d(),g=(0,r.Z)(),h=(u=!1,l.U2(t.VL)||(l.t8(t.VL,"1",(0,l.kZ)(t.VL)),u=!0),u),y=document.domain||"unknown";h&&((0,o.My)(`traffic.${_}.${g}.${e}.${p}`),(0,o.My)(`traffic_subdomain.${y}.${g}.${e}.${p}`),(0,o.My)(`traffic_subdomain.${y}.${_}.${g}.${e}.${p}`),(0,o.My)(`traffic_subdomain.${y}.${_}.${p}`),(0,o.My)(`traffic_duplo.${_}.${g}.${e}.${p}`),m&&(0,o.My)(`traffic_bot.${m}.${e}`)),a.Z.increment("webapp.traffic",.1,{domain:y,isAuth:p,pageType:i,userAgentPlatform:_,botType:m,firstVisit:h,moduleName:e,referrer:g,route:s})};function _({pageType:e,requestContext:i,route:n}){let a={"/":"HomePage","/login":"LoginPage","/pin/:id":"Closeup","/:username":"ProfilePage","/:username/:slug":"BoardPage","/topics/:interest":"TopicPage","/today":"TodayTabPage","/today/:term/:title/:articleId":"TodayArticleFeedPage","/ideas":"IdeasRootPage","/ideas/:interest/:id":"IdeasPage","/videos":"VideosRootPage","/videos/:category/:id":"VideosCategoryPage","/shopping":"ShoppingRootPage","/shopping/:category/:id":"ShoppingCategoryPage"}[n]||"other";u({moduleName:a,pageType:e,requestContext:i,route:n})}},633917:(e,i,n)=>{n.d(i,{N:()=>r,Z:()=>t});var a=n(883119),l=n(785893);function t({children:e,fullWidth:i}){return(0,l.jsx)(a.xu,{"data-test-id":"pointer-events-wrapper",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:i?"100%":void 0}},children:e})}function r({children:e,enabled:i}){return i?(0,l.jsx)(t,{children:e}):e}},55350:(e,i,n)=>{n.d(i,{Z:()=>t});var a=n(219224),l=n(906466);function t({action:e,board:i,viewer:n}){var t;return(0,a.Z)(n,i)||(0,l.Z)({board:i,viewer:n})&&!!(null!==(t=i.collaborator_permissions)&&void 0!==t&&t.includes(e))}},219224:(e,i,n)=>{n.d(i,{Z:()=>a});function a(e,i){let n=i&&i.owner&&i.owner.id;return e.isAuth&&n===e.id}},906466:(e,i,n)=>{n.d(i,{Z:()=>a});function a({board:e,viewer:i}){let{collaborated_by_me:n}=e;return!!(i.isAuth&&n)}},309926:(e,i,n)=>{n.d(i,{Z:()=>t});var a=n(219224),l=n(906466);function t({board:e,viewer:i}){return(0,a.Z)(i,e)||(0,l.Z)({board:e,viewer:i})}},650414:(e,i,n)=>{n.d(i,{P:()=>t,Z:()=>l});var a=n(702664);function l(e){return e&&e[1000069]&&500417===e[1000069].experience_id&&e[1000069].display_data.hide_footer}function t(){let e=(0,a.useSelector)(({experiences:e})=>e);return!!e&&l(e)}},316445:(e,i,n)=>{n.d(i,{Z:()=>t});var a=n(245410);let l=Object.freeze({analytics:{organic:"web_sce_organic_analytics",monetized:"web_sce_monetized_analytics"},pinStats:{organic:"web_sce_organic_pin_stats",monetized:"web_sce_monetized_pin_stats"}});function t(e){let{checkExperiment:i}=(0,a.F)();i("pin_stats_analytics_parent");let n=l[e];return()=>i(n.organic).anyEnabled||i(n.monetized).anyEnabled}},427370:(e,i,n)=>{n.d(i,{G7:()=>d,Nl:()=>u,WE:()=>s,l6:()=>c,rh:()=>o});var a=n(40045),l=n(642447),t=n(493851);let r=e=>e.checkExperiment("web_ps4p").anyEnabled;function o(e,i,n,l,t){var o,s,d,c,u,_;if(!i.isAuth)return!1;let{creatorAnalytics:p}=e,m=!!e.storyPinDataId,g=!!(null!==(o=e.videos)&&void 0!==o&&o.videoList),h=(t||!(m||g))&&0!==Object.keys((null===(s=e.aggregatedPinData)||void 0===s?void 0:null===(d=s.creatorAnalytics)||void 0===d?void 0:d._30dRealtime)||{}).length,y=(null===(c=e.board)||void 0===c?void 0:c.privacy)===a.Z.BoardPrivacy.PUBLIC,v=(null===(u=e.board)||void 0===u?void 0:u.privacy)===a.Z.BoardPrivacy.PROTECTED,f=(v||y)&&!e.isRepin&&[i.id,l].includes(null===(_=e.pinner)||void 0===_?void 0:_.entityId);return h||0!==Object.keys((null==p?void 0:p._30dRealtime)||{}).length||i.isPartner&&f||r(n)&&m&&f}function s(e,i,n,a,l,t){return e.isAuth&&!!i&&(n||a)&&!!(null!=l&&l.isLoaded)&&!t}function d(e,i){return(0,t.Z)(i.ngettext('Last {{ count }} Day', 'Last {{ count }} Days', e, 'Previous {{ count }} days from current date', 'Previous {{ count }} days from current date'),{count:e})}function c(e,i){return(0,t.Z)(i.ngettext('Last {{ count }} Hour', 'Last {{ count }} Hours', e, 'analytics.utils', 'Previous {{ count }} hours from current time'),{count:e})}function u({i18n:e,isRealtime:i,humanizedTimeSinceLastUpdate:n,displayLifetime:a,numDays:r,selectedDateRange:o,locale:s}){let d=[];if(r){let i=a?(0,t.Z)(e.ngettext('Percent changes are compared to {{n}} day before {{startDate}} \u2013 {{endDate}}.', 'Percent changes are compared to {{n}} days before {{startDate}} \u2013 {{endDate}}.', r, 'pinstats.toplineMetrics.description', 'Label describing how deltas are calculated and when performance over time metrics are updated'),{n:r,startDate:(0,l.Z)(s,o.startDate,l.k.NUMERIC),endDate:(0,l.Z)(s,o.endDate,l.k.NUMERIC)}):(0,t.Z)(e.ngettext('Percent changes are compared to {{n}} day before the selected date range.', 'Percent changes are compared to {{n}} days before the selected date range.', r, 'pinstats.toplineMetrics.description', 'Label describing how deltas are calculated and when performance over time metrics are updated'),{n:r});d.push(i)}return i?d.push(e._('Metrics are updated in real-time.', 'pinstats.PinnerToplineMetrics.description', 'Label describing when lifetime of pin metrics are updated')):n&&d.push((0,t.Z)(e._('Metrics updated {{ timeSince }}.', 'analytics.header.disclaimer.metricsUpdated', 'Disclaimer describing when data was last updated. timeSince: time period since last update (ex: 1 day)'),{timeSince:n})),d.join(" ")}},325438:(e,i,n)=>{n.d(i,{Z:()=>l});let a={REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,EMBEDDING_BASED_BEST_PINS:173,RECOMMENDED_TOPICS:65,RECOMMENDED_GEO_INTERESTS:192,USER_SEQUENCE_INTERESTS_PINS:193,U2I_DNN_INTERESTS_PINS:196,PINNERSAGE_INTERESTS_PINS:197,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN_ENGAGEMENT:175,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,REC_SEQ_STORY_PIN_CLS:165,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,INTENTIONAL_DISTRIBUTION_RECOMMENDED_GRAPHSAGE_BOARDS:191,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,PINNABILITY_PRODUCT_PIN_EMBEDDINGS:195,PINNABILITY_FRESH_PRODUCT_PIN_EMBEDDINGS:209,PINNABILITY_MULTI_EMBEDDINGS:210,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,ANNOTATION_REC_CREATOR_STORY_PINS:166,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS:167,IDEASTREAM_GRAPHSAGE_STORY_PINS:168,HF_EDUCATION_PIN_INSERTION:169,RP_EDUCATION_PIN_INSERTION:170,USER_TO_CREATOR_STORY_PINS:171,USER_TO_CREATOR_STORY_PINS_ENGAGEMENT:176,COENGAGEMENT_STORY_PINS:172,ANNOTATION_STORY_PINS:177,DISCOVER_STREAM_DEMOGRAPHIC_FALLBACK:178,DISCOVER_STREAM_CELEBRITY:179,GRAPHSAGE_SHOPIFY_VMP_PRODUCT_PINS:180,CREATOR_BEST_IDEA_PINS:181,INTEREST_BEST_IDEA_PINS:182,NAVBOOST_STORY_PINS:183,SHOPPING_DISTRIBUTION_PINS:185,WATCH_TAB_EHQ_STORIES:186,NOTIF_LEARNED_RETRIEVAL:187,NOTIF_DIRECT_INJECT:207,LANDING_PAGE_PIN_RECOMMENDATIONS:188,PINNERSAGE_LEARNED_EMBEDDINGS:189,RECGPT_CG_USER_TO_PINS:206,TOPIC_FEED:190,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61,GRAPHSAGE_SHOPIFY_VMP_MERCHANT_ACTIVATION_PRODUCT_PINS:174,FOLLOWED_INTEREST_SEO_BESPIN_EXPORATION:184,XPIXIE_TO_PRODUCT_PINS:194,SHOPPING_RECENTLY_VIEWED_MODULE_PINS:198,SHOPPING_RECENTLY_SAVED_MODULE_PINS:199,SHOPPING_BEST_SELLING_RECOMMENDED_BRAND_MODULE_PINS:200,SHOPPING_SHOP_THE_BOARD_MODULE_PINS:203,SHOPPING_ON_SALE_MODULE_PINS:204,SHOPPING_PRODUCT_CATEGORY_BASED_MODULE_PINS:205,SHOPPING_SHOP_SEARCH_MODULE_PINS:208,RECENTLY_VIEWED_ORGANIC_MODULE_PINS:201,RECENTLY_SAVED_ORGANIC_MODULE_PINS:202};function l({feedbackData:e,feedbackType:i,pinId:n,pinFeedbackType:l,recommendationReason:t,complaintReason:r,clientTrackingParams:o,isThirdPartyAd:s}){var d,c,u;switch(i){case"search":return{action:"unrelatedSearchPin",actionOptions:{query:null==e?void 0:e.query,pin_id:n}};case"related":return{action:"relatedPinHide",actionOptions:{pin:n}};case"newsHub":return{action:"newsHubPinHide",actionOptions:{pinId:n,newsId:null==e?void 0:e.newsId}};default:let _="promoted"===i,p=(u=null==t?void 0:t.reason)&&a[u],m=null!==(d=null==t?void 0:t.reasonId)&&void 0!==d?d:null==t?void 0:null===(c=t.board)||void 0===c?void 0:c.entityId,g={complaint_reason:r||0,pin_id:n,feedback_type:l||1,promoted:_};return p&&(g.recommendation_reason_id=p),m&&(g.through_id=m),null!=t&&t.throughProperties&&(g.through_properties=t.throughProperties.reduce((e,i)=>{let{key:n,data:a}=i;return n&&(e[n]=[...e[n]||[],...a||[]]),e},{})),o&&(g.client_tracking_params=o),s&&(g.is_third_party_ad=s),{action:_?"promotedComplaint":"complaint",actionOptions:g}}}},385075:(e,i,n)=>{n.d(i,{Z:()=>a});function a({hasPin:e,hasPinRichMetadata:i,hasPinRichMetadataProducts:n,hasPinRichMetadataArticle:a,hasPinRichMetadataRecipe:l,hasPinStoryPinData:t}){if(e){if(i)return n?144:a?141:l?145:139;if(t)return 157}return 140}},950695:(e,i,n)=>{n.d(i,{kf:()=>h,l5:()=>m,of:()=>_,xC:()=>g,yz:()=>p});var a=n(667294),l=n(40660),t=n(583592),r=n(500797),o=n(272109),s=n(567648),d=n(785893);let{Provider:c,useMaybeHook:u}=(0,t.Z)("PwaContext"),_=({children:e,initialContext:i})=>{let[n,t]=(0,a.useState)(null),s=i||{pwaType:"unknown",twaType:null},u=s.pwaType;(0,o.Z)(()=>{let e=(0,r.FB)(window)||"unknown";t(e),u!==e&&l.Z.increment("pwa.type_mismatch",1,{serverPwaType:u,clientPwaType:e,conflict:"unknown"!==u&&"unknown"!==e})});let _="unknown"===u&&n?n:u,{twaType:p}=s,m=(0,a.useMemo)(()=>({pwaType:_,twaType:p}),[_,p]);return(0,d.jsx)(c,{value:m,children:e})},p=()=>{var e;let i=u();return null!==(e=null==i?void 0:i.pwaType)&&void 0!==e?e:"unknown"},m=()=>{var e;let i=u();return null!==(e=null==i?void 0:i.twaType)&&void 0!==e?e:null},g=()=>{let e=p();return"android-twa"===e},h=()=>{let e=p(),i=(0,s.Z)();return"unknown"===e&&i?null:"windows"===e}},411171:(e,i,n)=>{function a(e){let i=Object.keys(e);if(i.length>0){let n=i.sort((i,n)=>e[n]-e[i]).slice(0,3);return n}return null}function l(e){let i=Object.values(e);if(i.length>0){let e=i.reduce((e,i)=>e+i,0);return e}return 0}function t(e,i,n){var a,l;return!e.isPromoted&&!e.isDownstreamPromotion&&!!(null!==(a=e.videos)&&void 0!==a&&a.entityId||e.storyPinDataId)&&!i&&(!(null!==(l=e.board)&&void 0!==l&&l.isCollaborative)||!e.board.collaboratedByMe)&&!n}n.d(i,{At:()=>a,J6:()=>t,Ud:()=>l})},963375:(e,i,n)=>{n.d(i,{GZ:()=>a,OE:()=>l,zX:()=>t});let a=246,l=197,t=236},479958:(e,i,n)=>{n.d(i,{Z:()=>r});var a=n(883119),l=n(536042),t=n(785893);function r({height:e,isDenseView:i,rounding:n,width:r,color:o}){let s=(0,l.ZP)();return(0,t.jsx)(a.xu,{color:o||"default",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",rounding:n,overflow:"hidden",width:r,height:e,"data-test-id":"unavailable-pin",children:(0,t.jsxs)(a.kC,{direction:"column",alignItems:"center",children:[(0,t.jsx)(a.xu,{paddingY:i?2:4,children:(0,t.jsx)(a.JO,{accessibilityLabel:s._('Pin not available', 'story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:"default",icon:"alert",size:20})}),(0,t.jsx)(a.xv,{weight:"bold",children:s._('Unavailable', 'story-pin.Closeup.UnavailableIdeaPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),!i&&(0,t.jsx)(a.xu,{paddingY:1,children:(0,t.jsx)(a.xv,{children:s._('Removed by the creator', 'story-pin.Closeup.UnavailableIdeaPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})}},910717:(e,i,n)=>{n.d(i,{Z:()=>t});var a=n(883119),l=n(785893);function t({ariaHidden:e=!1,color:i="darkGray",size:n}){return(0,l.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,l.jsx)(a.xv,{color:i,inline:!0,size:null!=n?n:"200",children:"\xb7"})})}},993926:(e,i,n)=>{n.d(i,{Z:()=>s});var a=n(667294),l=n(883119),t=n(910717),r=n(785893);function o(e){return null!=e}function s({additionalPadding:e,color:i="darkGray",inline:n,items:s}){let d=e?(0,r.jsx)("span",{style:{padding:`0 ${4*e}px`},children:(0,r.jsx)(t.Z,{color:i})}):(0,r.jsx)(t.Z,{color:i}),c=s.filter(o).reduce((e,i,n)=>[...e,0!==n?d:null,i],[]).filter(o).map((e,i)=>(0,r.jsx)(a.Fragment,{children:e},i));return 0===c.length?null:n?(0,r.jsx)(l.xu,{children:c}):(0,r.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:c})}},634923:(e,i,n)=>{n.d(i,{Z:()=>r,t:()=>t});let a=()=>{var e;return!(null!==(e=window)&&void 0!==e&&e.devicePixelRatio)||window.devicePixelRatio<=1?"1x":"2x"},l=()=>{var e,i;let n;let l="undefined"!=typeof window?null===(e=window.navigator)||void 0===e?void 0:null===(i=e.connection)||void 0===i?void 0:i.effectiveType:void 0,t=a();return l?"4g"===l?n="40-80":(t="1x",n="0-1"):n="unknown",{downloadSpeedGroup:n,screenDimension:t}};function t({vExp3:e,vExp4:i,vExp5:n,vExp6:a,vExp7:t,v720p:r}){let{downloadSpeedGroup:o,screenDimension:s}=l(),d={"1x":e,"2x":n},c={"1x":t,"2x":t};return({unknown:d,"0-1":d,"1-5":{"1x":i,"2x":n},"5-10":{"1x":n,"2x":n},"10-20":{"1x":a,"2x":a},"20-40":c,"40-80":c,"80_or_above":c})[o][s]||r||void 0}function r(e){let{video_list:i={}}=e,n=t({vExp3:i.V_EXP3,vExp4:i.V_EXP4,vExp5:i.V_EXP5,vExp6:i.V_EXP6,vExp7:i.V_EXP7,v720p:i.V_720P}),a=i.V_HLSV3_MOBILE||void 0;return n?{hlsv3:a,mp4:n}:{hlsv3:a}}},740089:(e,i,n)=>{n.d(i,{Z:()=>u}),n(167912);var a,l=n(883119),t=n(255630),r=n(833897),o=n(785893);let s={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}},d=void 0!==a?a:a=n(45904),c=e=>({aggregatedPinData:e.aggregated_pin_data&&{pinTagsChips:e.aggregated_pin_data.pin_tags_chips&&e.aggregated_pin_data.pin_tags_chips.map(e=>{var i;return{entityId:e.id,image:(null===(i=e.images)||void 0===i?void 0:i["750x"])&&{height:e.images["750x"].height,url:e.images["750x"].url,width:e.images["750x"].width}}})}});function u({pinKey:e,enableCloseupLink:i,trackingParamsMap:n}){let{data:a,childDataKey:u}=(0,t.uf)(d,e,{useLegacyAdapter:c}),{aggregatedPinData:_}=a,{pinTagsChips:p}=_||{},m=p&&p.length>=3?p.slice(0,3):[];return(0,o.jsx)(l.xu,{display:"flex",dangerouslySetInlineStyle:{__style:s.chipContainer},children:m.map(e=>{var a,t,d,c;let _=e.image||{},p=(0,o.jsx)(l.Ee,{alt:"",fit:"cover",naturalHeight:null!==(a=_.height)&&void 0!==a?a:1,naturalWidth:null!==(t=_.width)&&void 0!==t?t:1,role:"presentation",src:null!==(d=_.url)&&void 0!==d?d:""});return(0,o.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:s.chip},"data-test-id":"collageChip",children:(0,o.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:s.chipInner},position:"relative",children:(0,o.jsx)(l.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,o.jsx)(l.zd,{height:"100%",wash:!0,width:"100%",children:i?(0,o.jsx)(r.Z,{sizing:"fullSize",collageChipId:null!==(c=e.entityId)&&void 0!==c?c:"",pinKey:u,trackingParamsMap:n,children:p}):p})})})},e.entityId)})})}},362626:(e,i,n)=>{n.d(i,{Z:()=>r});var a=n(667294),l=n(388011),t=n(347151);function r(e,i){let{logContextEvent:n}=(0,l.v)(),{componentType:r,contextLogData:o,viewParameter:s,viewType:d}=(0,t.E)(),{aux_data:c,view_type:u,view_parameter:_,component:p,clientTrackingParams:m,...g}=null!=i?i:{};return(0,a.useCallback)(()=>{n({event_type:e,view_type:u||d,view_parameter:_||s,component:p||r,clientTrackingParams:m,...g,aux_data:{...c,...o}})},[n,c,m,g,_,u,p,r,o,e,s,d])}},885669:(e,i,n)=>{n.d(i,{X:()=>l,Z:()=>t});var a=n(667294);let l=120;function t(e,i=0,n=l){let[t,r]=(0,a.useState)(e?"active":"inactive");return(0,a.useEffect)(()=>{if(e){if(i){let e=setTimeout(()=>r("active"),i);return()=>{clearTimeout(e)}}r("active")}else{let e=setTimeout(()=>r("inactive"),n);return()=>{clearTimeout(e)}}},[e]),t}},336331:(e,i,n)=>{n.d(i,{$:()=>t,B:()=>l});var a=n(583592);let{Provider:l,useHook:t}=(0,a.Z)("SurfaceContext",{surface:"Unknown"})},347151:(e,i,n)=>{n.d(i,{B:()=>l,E:()=>t});var a=n(583592);let{Provider:l,useHook:t}=(0,a.Z)("trackingParametersContext")},724842:(e,i,n)=>{n.d(i,{ZP:()=>w,we:()=>A,nn:()=>T,zn:()=>I});var a=n(667294),l=n(388011),t=n(282802),r=n(819079),o=n(802071),s=n(883119),d=n(88622),c=n(536042),u=n(630089),_=n(837792),p=n(3060),m=n(245410),g=n(785893);function h({iconAccessibilityLabel:e,icon:i,linkAccessibilityLabel:n,showNavigationIcon:a,text:l}){return(0,g.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,g.jsx)(s.xu,{"data-test-id":"ad-reason-icon",children:(0,g.jsx)(s.Sj,{accessibilityLabel:e,bgColor:"lightGray",icon:i,iconColor:"darkGray"})}),(0,g.jsx)(s.xu,{alignSelf:"center","data-test-id":"ad-location-targeting-reason",height:"100%",marginStart:2,children:(0,g.jsx)(s.xv,{children:l})}),a&&n&&(0,g.jsx)(s.kC,{direction:"column",justifyContent:"center",children:(0,g.jsx)(s.JO,{accessibilityLabel:n,color:"default",icon:"arrow-forward"})})]})}var y=n(712968);function v({brandName:e,language:i,geoRegion:n,geoPostalCode:a,ageBucketMatch:l,localeMatch:t,interestMatch:r,genderMatch:d,deviceMatch:_,isCustomerListMatched:p,isShoppingTargetingRematched:v,isActAlikeMatched:f,isEngagementMatched:P,isExpandTargetingMatched:S,isFromGPSLocation:x,isVisitorMatched:b,isShoppingProspectingMatched:k,isPlPersonaMatched:I,gender:T,device:A}){var w;let E=(0,c.ZP)(),{id:R}=(0,o.Z)(),C=(0,y.mN)()(null!=R?R:""),j=null!==(w=null==C?void 0:C.gender)&&void 0!==w?w:"",{checkExperiment:N}=(0,m.F)(),O=(k||I)&&N("ads_web_waista_v3").anyEnabled;return(0,g.jsx)(s.xu,{"data-test-id":"ad-reasons",children:(0,g.jsxs)(s.kC,{direction:"column",flex:"none",gap:{row:0,column:4},children:[""!==l&&(0,g.jsx)(h,{iconAccessibilityLabel:E._('Icon for ad targeting age bucket', 'app.common.react.components.PinRep.components.AdReasons.ageIcon', 'Icon for ad targeting age bucket'),icon:"person",text:(0,u.nk)(E._('Age {{ ageBucketMatch }}', 'app.common.react.components.PinRep.components.AdReasonsModal.ageBucketMatch', 'Ad explanation for targeting age range, ageBucketMatch: Users age range'),{ageBucketMatch:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:l},"ad-reasons-age-bucket")})}),""!==d&&"unspecified"!==j&&(0,g.jsx)(h,{iconAccessibilityLabel:E._('Icon for ad targeting gender', 'app.common.react.components.PinRep.components.AdReasons.genderIcon', 'Icon for ad targeting gender'),icon:"person",text:(0,u.nk)(E._('{{ gender }}', 'app.common.react.components.PinRep.components.AdReasonsModal.genderMatch', 'Ad explanation for targeting gender, gender: Users gender'),{gender:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:T},"ad-reasons-gender")})}),""!==n&&(0,g.jsx)(h,{iconAccessibilityLabel:E._('Icon for ad targeting location', 'app.common.react.components.PinRep.components.AdReasons.locationIcon', 'Icon for ad targeting location'),icon:"location",text:(0,u.nk)(E._('Based in {{geoRegion}}', 'app.common.react.components.PinRep.components.AdReasonsModal.locationTargeting', 'Ad explanation for targeting location , geoRegion: location user is based in'),{geoRegion:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-country-name")})}),""!==a&&(0,g.jsx)(h,{iconAccessibilityLabel:E._('Icon for ad targeting location', 'app.common.react.components.PinRep.components.AdReasons.locationIcon', 'Icon for ad targeting location'),icon:"location",text:(0,u.nk)(E._('Based in {{geoPostalCode}}', 'app.common.react.components.PinRep.components.AdReasonsModal.locationTargeting', 'Ad explanation for targeting location , geoPostalCode: location user is based in'),{geoPostalCode:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:a},"ad-reasons-country-name")})}),""!==t&&(0,g.jsx)(h,{iconAccessibilityLabel:E._('Icon for ad targeting locale', 'app.common.react.components.PinRep.components.AdReasons.localeIcon', 'Icon for ad targeting locale'),icon:"globe",text:(0,u.nk)(E._('Language {{ language }}', 'app.common.react.components.PinRep.components.AdReasonsModal.localeMatch', 'Ad explanation for targeting age range, language: Users language'),{language:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:i},"ad-reasons-locale")})}),""!==_&&(0,g.jsx)(h,{iconAccessibilityLabel:E._('Icon for ad targeting device', 'app.common.react.components.PinRep.components.AdReasons.deviceIcon', 'Icon for ad targeting device'),icon:"desktop",text:(0,u.nk)(E._('Using {{ device }}', 'app.common.react.components.PinRep.components.AdReasonsModal.deviceMatch', 'Ad explanation for targeting device, device: Users device'),{device:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:A},"ad-reasons-device")})}),""!==r&&(0,g.jsx)(h,{iconAccessibilityLabel:E._('Icon for ad targeting interest', 'app.common.react.components.PinRep.components.AdReasons.interestIcon', 'Icon for ad targeting interest'),icon:"heart",text:(0,u.nk)(E._('Interested in {{ interestMatch }}', 'app.common.react.components.PinRep.components.AdReasonsModal.interestMatch', 'Ad explanation for targeting interest, interestMatch: Users interest'),{interestMatch:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:r},"ad-reasons-interest")})}),v&&(0,g.jsx)(h,{iconAccessibilityLabel:E._('Icon for ad targeting user on an audience list', 'app.common.react.components.PinRep.components.AdReasons.shoppingTargeting', 'Icon for ad targeting shopping targeting'),icon:"history",text:(0,u.nk)(E._('Interacted with {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargeting', 'Ad explanation for shopping targeting, brandName: promoter name'),{brandName:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:e},"ad-reasons-shopping-targeting")})}),b&&(0,g.jsx)(h,{iconAccessibilityLabel:E._('Icon for ad targeting customers who interacted with this brand previously, visitor matched', 'app.common.react.components.PinRep.components.AdReasonsModal.visitorMatchIcon', 'Ad explanation for visitor targeting users who have interacted with an advertiser brand'),icon:"history",text:(0,u.nk)(E._('Interacted with {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.visitorTargetingText', 'Text explaining the ad reason for visitor targeting users who interacted with brand previously, brandName: promoter name'),{brandName:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:e},"ad-reason-visitor")})}),p&&(0,g.jsx)(h,{iconAccessibilityLabel:E._('Icon for ad targeting user on an audience list', 'app.common.react.components.PinRep.components.AdReasons.listIcon', 'Icon for ad targeting customer list'),icon:"menu",text:(0,u.nk)(E._('On a list provided by {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.customerListTargeting', 'Ad explanation for targeting customer list , brandName: promoter name'),{brandName:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:e},"ad-reasons-customer-list")})}),P&&(0,g.jsx)(h,{iconAccessibilityLabel:E._('Icon for ad targeting user on engagement audience', 'app.common.react.components.PinRep.components.AdReasons.engagementIcon', 'Icon for ad targeting engagement'),icon:"pin",text:(0,u.nk)(E._('Interacted with {{brandName}} on Pinterest', 'app.common.react.components.PinRep.components.AdReasonsModal.engagementTargeting', 'Ad explanation for targeting engagement audience, brandName: promoter name'),{brandName:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:e},"ad-reasons-engagement")})}),f&&(0,g.jsx)(h,{iconAccessibilityLabel:E._('Icon for ad targeting user on act alike', 'app.common.react.components.PinRep.components.AdReasons.actAlikeIcon', 'Icon for ad targeting act alike'),icon:"graph-bar",text:(0,u.nk)(E._('Similar demographic or interest as other {{brandName}} customers', 'app.common.react.components.PinRep.components.AdReasonsModal.', 'Ad explanation for targeting act alike, brandName: promoter name'),{brandName:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:e},"ad-reasons-act-alike")})}),(S||O)&&(0,g.jsx)(h,{iconAccessibilityLabel:E._('Icon for ad targeting user on expand targeting', 'app.common.react.components.PinRep.components.AdReasons.expandTargeting', 'Icon for ad expand targeting'),icon:"pinterest",text:E._('Relevant activity on Pinterest', 'app.common.react.components.PinRep.components.AdReasonsModal.expandTargeting', 'Ad explanation for targeting ')}),x&&(0,g.jsx)(h,{iconAccessibilityLabel:E._('Icon for ad targeting user on GPS', 'app.common.react.components.PinRep.components.AdReasons.GPS', 'Icon for ad targeting GPS'),icon:"location",text:E._('GPS Location', 'app.common.react.components.PinRep.components.AdReasonsModal.GPS', 'Ad explanation for targeting GPS')})]})})}function f({onDismiss:e,brandName:i,userName:n,language:a,geoRegion:t,geoPostalCode:r,ageBucketMatch:o,localeMatch:m,interestMatch:h,genderMatch:y,deviceMatch:f,isCustomerListMatched:P,isShoppingTargetingRematched:S,isActAlikeMatched:x,isEngagementMatched:b,isExpandTargetingMatched:k,isFromGPSLocation:A,isVisitorMatched:w,isShoppingProspectingMatched:E,isPlPersonaMatched:R,thirdPartyAdAttributes:C}){let{logContextEvent:j}=(0,l.v)(),N=(0,c.ZP)(),O=I(y,N),F=T(f,N),D=S||P||b||x||k||A||w||R||E||""!==o||""!==m||""!==h||""!==O||""!==F||""!==t||""!==r,L=p.C0+`/${n}/`;return(0,g.jsx)(d.ZP,{accessibilityModalLabel:N._('Why am I seeing this Ad?', 'app.common.react.components.PinRep.components.AdReasonsModal', 'Modal for explaining the reasons an advertiser is targeting a user'),onDismiss:e,children:(0,g.jsxs)(s.xu,{paddingX:8,paddingY:6,children:[(0,g.jsxs)(s.xu,{display:"flex",justifyContent:"center",marginBottom:6,position:"relative",children:[(0,g.jsx)(s.xu,{position:"absolute",left:!0,children:(0,g.jsx)(s.hU,{accessibilityLabel:N._('Close', 'app.common.react.components.PinRep.components.AdReasonsModal.closeModal', 'Close ad reasons modal'),icon:"cancel",iconColor:"darkGray",onClick:()=>{j({event_type:102,element:11925,component:13756}),e()},size:"sm"})}),(0,g.jsx)(s.X6,{align:"center",size:"500",children:N._('Why you\'re seeing this ad', 'Heading for promoted Pins explanation', 'Heading for promoted pins explanation, WAISTA ')})]}),(0,g.jsxs)(s.xu,{children:[(0,g.jsx)(s.kC,{direction:"column",gap:{row:0,column:4},children:D&&(0,g.jsx)(s.xu,{marginBottom:4,"data-test-id":"waista-reason-text",children:(0,g.jsx)(s.xv,{children:null!=C&&C.isEligibleForPromotedPartnership?(0,u.nk)(N._('{{ promotedPartnershipAdvertiserName }} is trying to reach specific groups of people, through a partnership with {{ promotedPartnershipAttributionName }}. Based on what you\'ve told us or other information, we think you fit some of those groups:', 'app.common.react.components.PinRep.components.AdReasonsModal.audienceExplanationWAISTA', 'Text informing the user about who is the advertiser\'s target audience, for WAISTA promotedPartnershipAdvertiserName:Name of advertiser, promotedPartnershipAttributionName:Name of promoted partner'),{promotedPartnershipAdvertiserName:C.promotedPartnershipAdvertiserName,promotedPartnershipAttributionName:C.promotedPartnershipAttributionName}):(0,u.nk)(N._('{{ brandName }} is trying to reach specific groups of people. Based on what you\'ve told us or other information, we think you fit some of those groups:', 'app.common.react.components.PinRep.components.AdReasonsModal.audienceExplanationWAISTA', 'text informing the user about who is the advertiser\'s target audience, for WAISTA brandName: is promoter name'),{brandName:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,g.jsx)(s.rU,{href:L,display:"inlineBlock",onClick:()=>{j({event_type:101,component:13756,element:13407})},target:"blank",underline:"hover",children:i})},"ad-reasons-brand-name")})})})}),(0,g.jsx)(s.xu,{"data-test-id":"ad-reasons",children:(0,g.jsxs)(s.kC,{direction:"column",flex:"none",gap:{row:0,column:4},children:[(0,g.jsx)(v,{brandName:i,language:a,geoRegion:t,geoPostalCode:r,ageBucketMatch:o,localeMatch:m,genderMatch:y,interestMatch:h,deviceMatch:f,isCustomerListMatched:P,isShoppingTargetingRematched:S,isActAlikeMatched:x,isEngagementMatched:b,isExpandTargetingMatched:k,isFromGPSLocation:A,isVisitorMatched:w,isShoppingProspectingMatched:E,isPlPersonaMatched:R,gender:O,device:F}),D&&(0,g.jsx)(s.xu,{marginBottom:1,children:(0,g.jsx)(s.xv,{children:(0,u.nk)(N._('If this isn\'t right, {{ changeUserSettings }}', 'app.common.react.components.PinRep.components.AdReasonsModal.changeUserSettingsText', 'Text explaining how to update personal information, changeUserSettings: link to personal settings'),{changeUserSettings:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,g.jsx)(s.rU,{display:"inline",href:`${p.C0}${_.AH}`,onClick:()=>{j({event_type:101,component:13756,element:13361})},target:"blank",underline:"hover",children:N._('update your personal information', 'app.common.react.components.PinRep.components.AdReasonsModal.changeUserSettings', 'Link for updating personal information')})},"ad-reasons-change-user-settings")})})})]})}),(0,g.jsxs)(s.kC,{direction:"column",gap:{row:0,column:1},children:[(0,g.jsx)(s.xu,{marginBottom:1,marginTop:1,children:(0,g.jsx)(s.X6,{size:"400",children:N._('Ads on Pinterest', 'app.common.react.components.PinRep.components.AdReasonsModal.adsOnPinterestHeading', 'Text for explaining Ads on Pinterest')})}),(0,g.jsx)(s.xu,{marginBottom:4,children:(0,g.jsx)(s.xv,{children:(0,u.nk)(N._('We show you ads that may be based on your profile settings, websites you visit, ads you interact with or other factors. {{adPreferencesLink}}', 'app.common.react.components.PinRep.components.AdReasonsModal.adPreferencesText', 'Text explaining what ads are based on, adPreferencesLink: link to privacy settings'),{adPreferencesLink:(0,g.jsx)(s.xu,{"data-test-id":"ad-reasons-review-ad-preferences",children:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,g.jsx)(s.rU,{display:"inline",href:`${p.C0}${_.Gx}`,onClick:()=>{j({event_type:101,component:13756,element:13401})},target:"blank",underline:"hover",children:N._('Review your ad preferences', 'app.common.react.components.PinRep.components.AdReasonsModal.adPreferencesLink', 'Privacy settings link')})},"ad-reasons-review-ad-preferences")})})})}),(0,g.jsx)(s.xu,{marginBottom:4,children:(0,g.jsx)(s.xv,{children:(0,u.nk)(N._('For more about how we collect and use data, {{ privacyPolicyLink }}', 'app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyText', 'Text explaining how we collect and use data, privacyPolicyLink: link to privacy policy'),{privacyPolicyLink:(0,g.jsx)(s.xu,{"data-test-id":"ad-reasons-privacy-policy",children:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,g.jsx)(s.rU,{display:"inline",href:_.R_,onClick:()=>{j({event_type:101,component:13756,element:13402})},target:"blank",underline:"hover",children:N._('read our Privacy Policy', 'app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyLink', 'Privacy policy link for reading how data is collected and used')})},"ad-reasons-privacy-policy")})})})}),(0,g.jsx)(s.xu,{marginBottom:4,children:(0,g.jsx)(s.xv,{children:(0,u.nk)(N._('To stop seeing content from an advertiser, {{ blockAccounts }}', 'app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyText', 'Text explaining how to block an advertiser profile, blockAccounts: link to how to block accounts'),{blockAccounts:(0,g.jsx)(s.xu,{"data-test-id":"ad-reasons-block-accounts",children:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,g.jsx)(s.rU,{display:"inline",href:_.K_,onClick:()=>{j({event_type:101,component:13756,element:12058})},target:"blank",underline:"hover",children:N._('learn how to block accounts', 'app.common.react.components.PinRep.components.AdReasonsModal.blockAccountLink', 'Link for how to block accounts')})},"ad-reasons-block-accounts")})})})})]})]})]})})}var P=n(525104);let S=e=>e._('Female', 'waista.modal.attribute.female', 'Gender attribute for female'),x=e=>e._('Male', 'waista.modal.attribute.male', 'Gender attribute for male'),b=e=>e._('Web', 'waista.modal.attribute.web', 'device attribute for web'),k=e=>e._('Mobile Web', 'waista.modal.attribute.mWeb', 'device attribute for mobile web');function I(e,i){return"FEMALE"===e?S(i):"MALE"===e?x(i):""}function T(e,i){return"AppType_WEB"===e||"AppType_WEB_DENZEL"===e?b(i):"AppType_WEB_MOBILE"===e?k(i):""}function A(e,i){var n;let{name:a=""}=null!==(n=e.find(e=>e.key===i))&&void 0!==n?n:{};return a}function w({pinId:e,onDismiss:i}){var n,s,d,c,u;let{logContextEvent:_}=(0,l.v)(),{locale:p}=(0,t.B)(),{country:m=""}=(0,o.Z)(),h=(0,r.Z)({name:"CountriesResource",options:{hasEmptyState:!0}}),y=(0,r.Z)({name:"LocalesResource"}),v=(0,P.S6)()(e);(0,a.useEffect)(()=>{_({event_type:120,component:13756})},[_]);let{ad_targeting_attribution:S,promoter:x,is_eligible_for_promoted_partnership:b,promoted_partnership_attribution_name:k,promoted_partnership_advertiser_name:I}=null!=v?v:{},{is_customer_list_matched:T=!1,is_shopping_retargeting_matched:w=!1,is_actalike_matched:E=!1,is_engagement_matched:R=!1,is_expand_targeting_matched:C=!1,is_from_gps_location:j=!1,is_visitor_matched:N=!1,is_shopping_prospecting_matched:O=!1,is_pl_persona_matched:F=!1,matched_age_bucket:D="",matched_locale:L="",matched_interest:z="",matched_gender:M="",matched_device:B="",geo_region:K="",geo_postal_code:U=""}=null!==(n=function(e=null,i=4){return e&&Object.keys(e).filter(i=>"boolean"==typeof e[i]||"string"==typeof e[i]).slice(0,i).reduce((i,n)=>({...i,[n]:e[n]}),{})}(S))&&void 0!==n?n:{},Z=null!==(s=null==x?void 0:x.full_name)&&void 0!==s?s:"",G=function(e,i){var n;let{name:a=""}=null!==(n=e.find(e=>e.key===i))&&void 0!==n?n:{};return a}(null!==(d=h.data)&&void 0!==d?d:[],m),V=A(null!==(c=y.data)&&void 0!==c?c:[],p),H=null!==(u=null==x?void 0:x.username)&&void 0!==u?u:"";return(0,g.jsx)(f,{brandName:Z,userName:H,country:G,language:V,ageBucketMatch:D,localeMatch:L,interestMatch:z,genderMatch:M,deviceMatch:B,isCustomerListMatched:T,isShoppingTargetingRematched:w,isActAlikeMatched:E,isEngagementMatched:R,isExpandTargetingMatched:C,isFromGPSLocation:j,isVisitorMatched:N,onDismiss:i,geoRegion:K,geoPostalCode:U,isShoppingProspectingMatched:O,isPlPersonaMatched:F,thirdPartyAdAttributes:{isEligibleForPromotedPartnership:b,promotedPartnershipAttributionName:k,promotedPartnershipAdvertiserName:I}})}},833897:(e,i,n)=>{n.d(i,{Z:()=>h}),n(167912);var a,l=n(883119),t=n(840166),r=n(388011),o=n(255630),s=n(536042),d=n(599551),c=n(493851),u=n(473183),_=n(347151),p=n(785893);let m=void 0!==a?a:a=n(73755),g=e=>{var i,n,a;return{attributionSourceId:e.attribution_source_id,board:e.board&&{url:e.board.url},campaignId:e.campaign_id?String(e.campaign_id):null,carouselData:e.carousel_data&&{carouselSlots:e.carousel_data.carousel_slots&&e.carousel_data.carousel_slots.map(e=>({entityId:e.id})),entityId:null!==(i=null===(n=e.carousel_data)||void 0===n?void 0:n.id)&&void 0!==i?i:"",index:null===(a=e.carousel_data)||void 0===a?void 0:a.index},description:e.description,entityId:e.id,gridTitle:e.grid_title,isDownstreamPromotion:e.is_downstream_promotion,isPromoted:e.is_promoted,pinPromotionId:e.pin_promotion_id?String(e.pin_promotion_id):null,pinner:e.pinner&&{username:e.pinner.username},promotedIsLeadAd:e.promoted_is_lead_ad,promotedLeadForm:e.promoted_lead_form&&{leadFormId:e.promoted_lead_form.lead_form_id},promoter:e.promoter&&{entityId:e.promoter.id},storyPinDataId:e.story_pin_data_id,title:e.title,trackingParams:e.tracking_params}};function h({sizing:e="default",children:i,collageChipId:n,componentType:a,contextLogData:h,elementType:y,disableA11yLabel:v,pinKey:f,trackingParamsMap:P,viewParameter:S,viewType:x}){let b=(0,s.ZP)(),{data:k,childDataKey:I}=(0,o.uf)(m,f,{useLegacyAdapter:g}),{logContextEvent:T}=(0,r.v)(),A=(0,_.E)(),{carouselData:w,entityId:E}=k,R=!!k.promotedIsLeadAd,C={},j=`/pin/${n||E}/`,N=(0,t.Xx)();if(null!=N&&N.variantUrl&&(j=`/pin/${N.variantUrl}/`),w){var O;let{carouselSlots:e,entityId:i}=w,n=null!==(O=w.index)&&void 0!==O?O:0;j=`/pin/${E}/`,C={carousel_slot_id:(null==e?void 0:e[n])&&e[n].entityId,carousel_data_id:i,carousel_slot_index:n}}let F=(0,u.Z)(I);C={...C,...F({default:null==h?void 0:h.commerce_data})};let D=()=>{if(R){var e,i;T({event_type:8948,view_type:x||A.viewType,view_parameter:S||A.viewParameter,component:null,object_id_str:k.entityId,aux_data:{closeup_navigation_type:"click",lead_form_id:null===(e=k.promotedLeadForm)||void 0===e?void 0:e.leadFormId,is_lead_ad:1}}),T({event_type:12,view_type:x||A.viewType,view_parameter:S||A.viewParameter,component:null,object_id_str:k.entityId,aux_data:{lead_form_id:null===(i=k.promotedLeadForm)||void 0===i?void 0:i.leadFormId,is_lead_ad:1,...F()}})}else{let e={...h,...F({default:null==h?void 0:h.commerce_data})};T({event_type:101,component:a||A.componentType,element:y,object_id_str:E,view_type:x||A.viewType,view_parameter:S||A.viewParameter,aux_data:e}),T({event_type:8948,view_type:x||A.viewType,view_parameter:S||A.viewParameter,component:a||A.componentType,element:y,object_id_str:E,aux_data:{closeup_navigation_type:"click",...e}})}},L=(0,d.Z)({href:j,externalData:{auxData:C,pin:k&&{attributionSourceId:k.attributionSourceId,board:k.board&&{url:k.board.url},campaignId:k.campaignId,entityId:k.entityId,isDownstreamPromotion:k.isDownstreamPromotion,isPromoted:k.isPromoted,pinner:k.pinner&&{username:k.pinner.username},pinPromotionId:k.pinPromotionId,promoter:k.promoter&&{entityId:k.promoter.entityId},storyPinDataId:k.storyPinDataId,trackingParams:k.trackingParams,trackingParamsMap:P}}});return(0,p.jsx)(l.Tg,{accessibilityLabel:v?void 0:(0,c.Z)(b._('{{ pinTitle }} pin page', 'pinRep.closeupLink.tapArea.accessibilityLabel', 'Accessibility label with pin title on individual links'),{pinTitle:k.gridTitle||k.title||k.description||""}),mouseCursor:"zoomIn",rounding:2,onTap:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),D(),L({event:e})},fullWidth:"fullSize"===e,fullHeight:"fullSize"===e,href:j,children:i})}},946543:(e,i,n)=>{n.d(i,{Z:()=>t});var a=n(883119),l=n(785893);function t({children:e,additionalStyles:i={}}){return(0,l.jsx)(a.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",...i}},"data-test-id":"contentLayer",children:e})}},368420:(e,i,n)=>{n.d(i,{Z:()=>T});var a,l=n(667294);n(167912);var t=n(616550),r=n(883119),o=n(604094),s=n(255630),d=n(633917),c=n(643183),u=n(806681),_=n(802071),p=n(785893);let m=({signal:e,anchor:i,setShowFlyout:n,setStore:a})=>{var l,t;let{hovered:o,onMouseEnter:s,onMouseLeave:d}=(0,u.Z)(),c=e=>{n(e=>!e),a(e)};return(0,p.jsx)(r.iP,{onTap:()=>c(e),rounding:"pill",onMouseEnter:s,onMouseLeave:d,children:(0,p.jsxs)(r.xu,{color:o?"dark":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:i,children:[(0,p.jsx)(r.xu,{display:"flex",minWidth:24,height:24,rounding:"circle",marginEnd:1,color:"default",justifyContent:"center",alignItems:"center",children:(0,p.jsx)(r.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,p.jsx)(r.Ee,{alt:"",color:null!==(l=e.backgroundColor)&&void 0!==l?l:"",src:null!==(t=e.iconUrl)&&void 0!==t?t:"",naturalHeight:1,naturalWidth:1})})}),(0,p.jsx)(r.xv,{color:"inverse",size:"200",weight:"bold",children:e.signalMessage})]})})};var g=n(970588),h=n(536042),y=n(63262),v=n(550140);function f(e){let i=(0,h.ZP)(),{onHide:n}=e,a=(0,p.jsx)(r.xv,{children:i._('Thank you for helping improve signal detection on Pinterest!', 'pinRep.actionBar.signalDetector.toast', 'Toast text displayed when a user submits a signal for review')});return(0,p.jsx)(v.ZP,{onHide:n,text:a})}let P=function({anchor:e,onDismiss:i,pinId:n,signal:a}){let l=(0,h.ZP)(),t=(0,_.Z)(),{showOneToast:o}=(0,y.F9)();if(!t.isEmployee)return null;let{backgroundColor:s,iconUrl:d,signalId:c,signalMessage:u}=a;return(0,p.jsx)(r.mh,{children:(0,p.jsx)(r.J2,{anchor:e,idealDirection:"right",onDismiss:i,positionRelativeToAnchor:!1,size:"lg",children:(0,p.jsxs)(r.xu,{padding:4,width:"100%",children:[(0,p.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,p.jsx)(r.X6,{size:"400",children:l._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,p.jsx)(r.xu,{paddingY:3,children:(0,p.jsxs)(r.kC,{alignItems:"center",gap:2,justifyContent:"center",children:[(0,p.jsx)(r.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:d?(0,p.jsx)(r.Ee,{alt:l._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:d}):(0,p.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:null!=s?s:""}},height:40,width:40})}),(0,p.jsx)(r.xv,{size:"200",children:u})]})}),(0,p.jsx)(r.xu,{marginBottom:3,children:(0,p.jsx)(r.xv,{size:"200",children:l._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,p.jsxs)(r.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,p.jsx)(r.zx,{fullWidth:!0,color:"red",size:"md",text:l._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review'),onClick:()=>{(0,g.Z)({url:`/v3/pins/${n}/signal_request_review/`,method:"POST",data:{signal_id:c,user:t.id}}),i(),o(({hideToast:e})=>(0,p.jsx)(f,{onHide:e}))}}),(0,p.jsx)(r.zx,{fullWidth:!0,color:"gray",size:"md",text:l._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel'),onClick:i})]})]})})})};function S({signals:e,pinId:i}){let[n,a]=(0,l.useState)(!1),t=(0,l.useRef)(null),[s,u]=(0,l.useState)(e[0]);return(0,p.jsxs)(l.Fragment,{children:[(0,p.jsx)(o.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,p.jsx)(c.Z,{children:(0,p.jsx)(r.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,p.jsx)(d.Z,{children:(0,p.jsx)(r.kC,{alignItems:"stretch",justifyContent:"start",children:e.map(e=>(0,p.jsx)(r.xu,{marginEnd:2,children:(0,p.jsx)(m,{signal:e,anchor:t,setShowFlyout:a,setStore:u})},e.signalId))})})})})}),n&&(0,p.jsx)(P,{anchor:t.current,onDismiss:()=>a(!1),pinId:i,signal:s})]})}let x=function({anchor:e,onDismiss:i,pinId:n,signals:a}){let t=(0,h.ZP)(),[o,s]=(0,l.useState)(0),d=(0,_.Z)(),{showOneToast:c}=(0,y.F9)();if(!d.isEmployee)return null;let u=a.map(({signalMessage:e})=>({href:"#",text:null!=e?e:""})),{backgroundColor:m,iconUrl:v,signalId:P,signalMessage:S}=a[o],x=({activeTabIndex:e})=>{s(e)};return(0,p.jsx)(r.mh,{children:(0,p.jsx)(r.J2,{anchor:e,idealDirection:"right",onDismiss:i,positionRelativeToAnchor:!1,size:"lg",children:(0,p.jsxs)(r.xu,{padding:4,width:"100%",children:[a.length>1&&(0,p.jsx)(r.xu,{overflow:"scrollX",padding:1,marginBottom:4,children:(0,p.jsx)(r.mQ,{activeTabIndex:o,onChange:({event:e,activeTabIndex:i,dangerouslyDisableOnNavigation:n})=>{e.preventDefault(),n(),x({activeTabIndex:i})},tabs:u})}),(0,p.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,p.jsx)(r.X6,{size:"400",children:t._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,p.jsx)(r.xu,{paddingY:3,children:(0,p.jsxs)(r.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",children:[(0,p.jsx)(r.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:v?(0,p.jsx)(r.Ee,{alt:t._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:v}):(0,p.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:null!=m?m:""}},height:40,width:40})}),(0,p.jsx)(r.xv,{size:"200",children:S})]})}),(0,p.jsx)(r.xu,{marginBottom:3,children:(0,p.jsx)(r.xv,{size:"200",children:t._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,p.jsxs)(r.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(0,p.jsx)(r.zx,{fullWidth:!0,color:"red",size:"md",text:t._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review'),onClick:()=>{(0,g.Z)({url:`/v3/pins/${n}/signal_request_review/`,method:"POST",data:{signal_id:P,user:d.id}}),i(),c(({hideToast:e})=>(0,p.jsx)(f,{onHide:e}))}}),(0,p.jsx)(r.zx,{fullWidth:!0,color:"gray",size:"md",text:t._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel'),onClick:i})]})]})})})},b=void 0!==a?a:a=n(569521),k=e=>({debAds:e.deb_ads&&e.deb_ads.map(e=>({backgroundColor:e.background_color,iconUrl:e.icon_url,signalId:e.signal_id,signalMessage:e.signal_message})),debContentQuality:e.deb_content_quality&&e.deb_content_quality.map(e=>({backgroundColor:e.background_color,iconUrl:e.icon_url,signalId:e.signal_id,signalMessage:e.signal_message})),debInclusiveProduct:e.deb_inclusive_product&&e.deb_inclusive_product.map(e=>({backgroundColor:e.background_color,iconUrl:e.icon_url,signalId:e.signal_id,signalMessage:e.signal_message})),debShopping:e.deb_shopping&&e.deb_shopping.map(e=>({backgroundColor:e.background_color,iconUrl:e.icon_url,signalId:e.signal_id,signalMessage:e.signal_message})),debTrustAndSafety:e.deb_trust_and_safety&&e.deb_trust_and_safety.map(e=>({backgroundColor:e.background_color,iconUrl:e.icon_url,signalId:e.signal_id,signalMessage:e.signal_message})),entityId:e.id});function I({signals:e,pinId:i}){let{backgroundColor:n,iconUrl:a,signalMessage:t}=e[0],[s,_]=(0,l.useState)(!1),m=(0,l.useRef)();return(0,p.jsxs)(l.Fragment,{children:[(0,p.jsx)(o.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,p.jsx)(c.Z,{children:(0,p.jsx)(r.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,p.jsx)(d.Z,{children:(0,p.jsx)(u.q,{children:({hovered:e,onMouseEnter:i,onMouseLeave:l})=>(0,p.jsx)(r.iP,{onTap:()=>_(e=>!e),rounding:"pill",onMouseEnter:i,onMouseLeave:l,children:(0,p.jsxs)(r.xu,{color:e?"dark":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:m,children:[(0,p.jsx)(r.xu,{display:"flex",width:24,height:24,rounding:"circle",color:"default",marginEnd:1,justifyContent:"center",alignItems:"center",children:(0,p.jsx)(r.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,p.jsx)(r.Ee,{alt:"",color:null!=n?n:"",src:null!=a?a:"",naturalHeight:1,naturalWidth:1})})}),(0,p.jsx)(r.xv,{color:"inverse",size:"200",weight:"bold",children:t})]})})})})})})}),s&&m&&m.current&&(0,p.jsx)(x,{anchor:m.current,onDismiss:()=>_(!1),pinId:i,signals:e})]})}function T({pinKey:e}){let{data:i}=(0,s.uf)(b,e,{useLegacyAdapter:k}),n=(0,_.Z)(),{search:a}=(0,t.useLocation)(),r=(0,l.useMemo)(()=>new URLSearchParams(a),[a]);if(!n.isEmployee)return null;let{entityId:o,debAds:d,debContentQuality:c,debInclusiveProduct:u,debShopping:m,debTrustAndSafety:g}=i;if(d)return(0,p.jsx)(I,{pinId:o,signals:d});if(c)return(0,p.jsx)(I,{pinId:o,signals:c});if(u){if("skin_tone"===r.get("type")){let e=u.filter(e=>"visual_signals_hair_pattern_v1"!==e.signalId);return(0,p.jsx)(S,{pinId:o,signals:e})}{let e=u.filter(e=>"visual_body_analyses_v2_0"!==e.signalId);return(0,p.jsx)(S,{pinId:o,signals:e})}}return m?(0,p.jsx)(I,{pinId:o,signals:m}):g?(0,p.jsx)(I,{pinId:o,signals:g}):null}},299402:(e,i,n)=>{n.d(i,{Z:()=>r});var a=n(883119),l=n(885669),t=n(785893);function r({children:e,fadeInDuration:i=0,fadeOutDuration:n=l.X,visibility:r}){return"none"!==r&&e?(0,t.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{hidden:{opacity:0,transition:n?`opacity ${n}ms ease`:void 0},visible:{opacity:1,transition:i?`opacity ${i}ms ease`:void 0}}[r]},children:e}):null}},126645:(e,i,n)=>{n.d(i,{ZP:()=>m});var a=n(667294),l=n(883119),t=n(388011),r=n(536042),o=n(649796),s=n(176172),d=n(946543),c=n(785893);let u={background:{base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:s.Oc,filter:"blur(10px)",opacity:1}},backdrop:{base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},feedbackOverlayContainer:{base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}}},_=["followed","related","search"],p=["pfy","pfyBoard"];function m({feedbackType:e,pin:i,hideContents:n=!1}){var m;let{logContextEvent:g}=(0,t.v)(),h=(0,r.ZP)(),[y,v]=(0,a.useState)(!1),[f,P]=(0,a.useState)(!1);(0,a.useEffect)(()=>v(!0),[]);let S=()=>P(!0),{feedbackText:x,images:b,showFeedbackOverlay:k,undoAction:I}=i,T=b&&(null===(m=b["236x"])||void 0===m?void 0:m.url),{image:A,subTitle:w,title:E,unfollow:R}=null!=x?x:{},C=!_.includes(e),j=p.includes(e);return(0,c.jsxs)(l.xu,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:s.Oc}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[(0,c.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:s.Oc}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[T&&(0,c.jsx)(d.Z,{additionalStyles:{...u.background.base,...y?u.background.blurred:{},backgroundImage:`url("${T}")`}}),(0,c.jsx)(d.Z,{additionalStyles:{...u.backdrop.base,...u.backdrop.blurred}})]}),(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{...u.feedbackOverlayContainer.base,...!k&&y?u.feedbackOverlayContainer.visible:{}}},height:"100%",padding:4,position:"relative",width:"100%",children:!n&&(0,c.jsx)(l.xu,{height:"100%",children:(0,c.jsxs)(l.xu,{"data-test-id":"PinFeedbackConfirmation",display:"flex",direction:"column",height:"100%",maxWidth:216,children:[(0,c.jsx)(l.xu,{marginBottom:2,children:(0,c.jsx)(l.X6,{color:"light",size:"400",children:E})}),(0,c.jsxs)(l.xu,{display:"flex",marginBottom:1,children:[A&&(0,c.jsx)(l.xu,{marginEnd:3,children:(0,c.jsx)(l.zd,{width:A.width,height:A.height,rounding:2,wash:!0,children:(0,c.jsx)(l.Ee,{alt:w||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:A.url||""})})}),(0,c.jsx)(l.xv,{color:"light",overflow:"normal",children:w})]}),(0,c.jsxs)(a.Fragment,{children:[I&&"Reported"!==E&&(0,c.jsx)(l.xu,{"data-test-id":"undo-action-btn",children:(0,c.jsx)(l.iP,{onTap:I,children:(0,c.jsx)(l.xv,{color:"inverse",weight:"bold",overflow:"normal",children:h._('Undo', 'Text on the button to navigate to undo hiding a pin', 'Text on the button to navigate to undo hiding a pin')})})}),(0,c.jsxs)(l.xu,{marginTop:"auto",children:[!I&&!f&&R&&!j&&(0,c.jsx)(l.zx,{fullWidth:!0,color:"white",onClick:()=>(0,o.t)(R.action,R.actionOptions,S,g),text:h._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user')}),C&&(0,c.jsx)(l.ZP,{color:"white",fullWidth:!0,href:"/edit",onClick:()=>{g({event_type:101,view_type:1,view_parameter:92,element:11347})},text:h._('Tune your feed', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})]})]})]})})})]})}},181453:(e,i,n)=>{n.d(i,{Z:()=>u});var a=n(883119),l=n(388011),t=n(536042),r=n(649796),o=n(958083),s=n(325438),d=n(154522),c=n(785893);function u({anchor:e,feedbackData:i,feedbackType:n,pinId:u,onDismiss:_,onHide:p,recommendationReason:m,viewParameter:g,viewType:h}){let{logContextEvent:y}=(0,l.v)(),v=(0,t.ZP)(),f=e=>{y({event_type:101,view_type:h,view_parameter:g,element:e,component:(0,o.nb)(n)})},P=(e,a)=>{let{action:l,actionOptions:t}=(0,s.Z)({feedbackData:i,feedbackType:n,pinId:u,recommendationReason:m&&{board:m.board&&{entityId:m.board.entityId},reasonId:m.reasonId,reason:m.reason,throughProperties:m.throughProperties},complaintReason:e});f(a),(0,r.t)(l,t,void 0,y),p()},S="promoted"===n?[{text:v._('Not relevant to me', 'homefeed.hideReasons.reason.notRelevant', 'Feedback option for Pin that is not relevant'),reason:10,elementType:1296},{text:v._('Seen Pin too many times', 'homefeed.hideReasons.reason.seenTooMany', 'Feedback option for Pin that has been seen too many times'),reason:3,elementType:11172},{text:v._('Blurry or pixelated image', 'homefeed.hideReasons.reason.lowQualityPicture', 'Feedback option for Pin with low quality picture'),reason:13,elementType:10898}]:[{text:v._('Not relevant to me', 'homefeed.hideReasons.reason.notRelevant', 'Feedback option for Pin that is not relevant'),reason:10,elementType:1296},{text:v._('Not in a language I understand', 'homefeed.hideReasons.reason.languageDontUnderstand', 'Feedback option for Pin that is in a language I dont understand'),reason:15,elementType:11178},{text:v._('Seen Pin too many times', 'homefeed.hideReasons.reason.seenTooMany', 'Feedback option for Pin that has been seen too many times'),reason:3,elementType:295},{text:v._('Blurry or pixelated image', 'homefeed.hideReasons.reason.lowQualityPicture', 'Feedback option for Pin with low quality picture'),reason:13,elementType:10898},{text:v._('Other', 'homefeed.hideReasons.reason.other', 'Feedback option for Pin hidden for other reasons'),reason:8,elementType:11179}];return(0,c.jsx)(a.Lt,{anchor:e,idealDirection:"down",onDismiss:_,zIndex:d.lI,id:"pin-action-dropdown",children:(0,c.jsx)(a.Lt.Section,{label:v._('Got a moment? Tell us why.', 'homefeed.hideReasons.title', 'Title of follow up question after negative Pin feedback'),children:S.map(({text:e,reason:i,elementType:n})=>(0,c.jsx)(a.Lt.Item,{onSelect:()=>P(i,n),option:{value:`hide-reason-${e.split(" ").join("-")}`,label:e},dataTestId:"hide-reason"}))})})}},87663:(e,i,n)=>{n.d(i,{Z:()=>m});var a=n(667294),l=n(294184),t=n.n(l),r=n(883119),o=n(536042),s=n(874261),d=n(51536),c=n(28630),u=n(785893);let _=`
.SavedAnimation {
  &.saved {
    animation: SavedAnimation--down-then-right 1s cubic-bezier(0, 0.33, 0.33, 1.1);
  }

  &.board {
    animation: SavedAnimation--to-right 0.12s cubic-bezier(0, 0.33, 0.33, 1.1);
  }
}

@keyframes SavedAnimation--down-then-right {
  0% {
    opacity: 0;
    transform: translateY(-24px);
  }

  33% {
    opacity: 1;
    transform: translateY(0);
  }

  80% {
    opacity: 1;
    transform: translateY(0);
  }

  100% {
    opacity: 0;
    transform: translateX(24px);
  }
}

@keyframes SavedAnimation--to-right {
  from {
    opacity: 0;
    transform: translateX(-16px);
  }

  to {
    opacity: 1;
    transform: translateX(0);
  }
}
`;class p extends a.Component{constructor(...e){var i,n,a;super(...e),n={showBoardName:!1},(i="symbol"==typeof(a=function(e,i){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,i||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i="state","string"))?a:String(a))in this?Object.defineProperty(this,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[i]=n}componentDidMount(){this.timer=setTimeout(()=>{this.setState({showBoardName:!0})},950)}componentWillUnmount(){clearTimeout(this.timer)}render(){let e,i;let{showBoardName:n}=this.state,{isDenseView:l,isNewlySaved:o,name:p,shouldUseLegoStyles:m,type:g,url:h}=this.props;if(m&&l)return null;let y="boardless"===g?this.props.i18n._('Saved to Profile', 'Saved.render.title', 'Text indicating saved to your profile'):p;if(!o||n||m){let i=m?(0,u.jsx)(r.xv,{color:"inverse",size:"300",weight:"bold",children:y.length<=20?y:(0,d.Z)(y,20)}):(0,u.jsx)(r.X6,{color:"inverse",size:"400",lineClamp:1,children:y}),n=(0,c.Z)({url:h});e=h?(0,u.jsx)(r.rU,{rel:n?"nofollow":"none",href:h,children:i}):i}else e=(0,u.jsx)(r.xv,{color:"inverse",children:(0,u.jsx)("span",{className:"deprecatedTextSizeXL",children:this.props.i18n._('Saved!', 'Indication that a pin has been saved', 'Indication that a pin has been saved')})});return o&&(i=n?"board":"saved"),(0,u.jsxs)(a.Fragment,{children:[(0,u.jsx)(s.Z,{unsafeCSS:_}),(0,u.jsx)("div",{"data-test-id":"savedInfo",className:!m&&t()("SavedAnimation",i),children:e})]})}}let m=function(e){let i=(0,o.ZP)();return(0,u.jsx)(p,{...e,i18n:i})}},159262:(e,i,n)=>{n.d(i,{Z:()=>l});var a=n(958083);function l({feedbackType:e,viewParameter:i,boardFollowedByMe:n,hasPromoter:l,isDownstreamPromotion:t,pinnerFollowedByMe:r,hasRecommendationReason:o,recommendationReasonHasBoard:s,recommendationReasonReason:d}){return(0,a.hP)({boardFollowedByMe:n,feedbackType:e,promotion:l?{isDownstreamPromotion:t}:void 0,pinnerFollowedByMe:r,recommendationReason:o?{hasBoard:s,reason:d}:void 0,viewParameter:i})}},981628:(e,i,n)=>{n.d(i,{Wt:()=>o,ZP:()=>s,oQ:()=>r});var a=n(883119),l=n(536042),t=n(785893);let r={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1zm3.9 5.15l-1.75-3.53a.4.4 0 00-.71 0L10.2 8.26a2 2 0 01-1.5 1.1l-3.9.56a.4.4 0 00-.23.69l2.83 2.75a2 2 0 01.57 1.77L7.31 19a.4.4 0 00.58.42l3.5-1.83a2 2 0 011.86 0l3.48 1.83a.4.4 0 00.59-.42l-.67-3.88a2 2 0 01.57-1.77l2.83-2.75a.4.4 0 00-.22-.69l-3.9-.56a2 2 0 01-1.51-1.1z"},o={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1z"};function s({isCloseupButton:e,isDisabled:i,isFavorited:n,onTap:s,size:d}){let c=(0,l.ZP)();return e?(0,t.jsx)(a.hU,{accessibilityLabel:c._('Favorite icon', 'pinRep.footer.favoriteIcon', 'Accessible label for favorite icon on Pin'),dangerouslySetSvgPath:n?o:r,disabled:i,iconColor:"darkGray",onClick:s,size:"lg"}):(0,t.jsx)(a.iP,{disabled:i,onTap:s,children:(0,t.jsx)(a.JO,{accessibilityLabel:c._('Favorite icon', 'pinRep.footer.favoriteIcon', 'Accessible label for favorite icon on Pin'),color:"default",dangerouslySetSvgPath:n?o:r,size:d})})}},924255:(e,i,n)=>{function a(e){let i=e.split("/");return[i[2],i[1]]}function l(e,i){return!e||!e.some(e=>e.pin_type===i)}n.d(i,{E:()=>l,J:()=>a})},462887:(e,i,n)=>{n.d(i,{Z:()=>d,j:()=>s});var a=n(883119),l=n(536042),t=n(630089),r=n(245410),o=n(785893);let s=[0,2,3];function d({hasAffiliateProducts:e,href:i,isPromoted:n,onNavigateSponsorClick:d,sponsorName:c,sponsorUsername:u,sponsorshipStatus:_,textWeight:p="bold"}){let m;let g=(0,l.ZP)(),h=(0,r.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,y=(0,r.F)().checkExperiment("web_remove_paid_partnership_in_rejected_state").anyEnabled,v=i||(u?`/${u}/`:null),f=v&&c?(0,o.jsx)(a.rU,{href:v,onClick:d,children:(0,o.jsx)(a.xv,{weight:p,size:"200",children:c})},c):void 0;return n?m=(0,t.nk)(g._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:f}):_||0===_?c&&!s.includes(_)?m=(0,t.nk)(g._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:f}):y&&2===_||(m=g._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):e&&(m=g._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products')),(0,o.jsxs)(a.xv,{inline:!0,size:"200",lineClamp:2,children:[h&&!n&&"Ad  "||"",m]})}},251951:(e,i,n)=>{n.d(i,{R:()=>t,q:()=>l});var a=n(583592);let{Provider:l,useHook:t}=(0,a.Z)("CloseupPageContext")},979275:(e,i,n)=>{n.d(i,{Z:()=>o});var a=n(883119),l=n(536042),t=n(282802),r=n(785893);let o=({onSendButtonClick:e,trackShareTap:i,color:n,size:o,bgColor:s})=>{let d=(0,l.ZP)(),{userAgent:{platform:c}}=(0,t.B)();return(0,r.jsx)(a.hU,{accessibilityLabel:d._('Send', 'Board.Pin.SendButton', 'Accessible label for button to send a pin or a board'),onClick:({event:n})=>{e(n),i()},size:o||"lg",bgColor:s||"transparent",iconColor:n||"darkGray",icon:"android"===c?"android-share":"share"})}},449879:(e,i,n)=>{n.d(i,{ZP:()=>s,tY:()=>c,Yh:()=>d});var a=n(702664),l=n(245410),t=n(819079),r=n(802071);let o={SAVE_TO_PROFILE:0,SHOW_BOARD_PICKER:1};function s(e){var i;let n=(0,r.Z)(),a=n.isAuth&&n.id===e,{checkExperiment:o}=(0,l.F)(),s=(0,t.Z)(!n.isAuth||a?null:{name:"UserResource",options:{field_set_key:"quicksave",user_id:e}}),d=a&&n.has_quicksave_board||!!(n.isAuth&&null!==(i=(null!=s?s:{}).data)&&void 0!==i&&i.has_quicksave_board)||(a||n.isAuth)&&o("profile_saves_for_all").anyEnabled;return{showEnabledSaveBehavior:d}}function d(e){var i;let n=(0,a.useDispatch)(),l=(0,r.Z)(),o=l.isAuth&&!!l.boardCount&&l.boardCount<5,s=o&&e,d=(0,t.Z)(s&&e?{name:"UserResource",options:{field_set_key:"save_behavior",user_id:l.isAuth&&l.id}}:null);return l.isAuth&&void 0===l.save_behavior&&d&&null!==(i=d.data)&&void 0!==i&&i.id&&n({type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:d.data.save_behavior}}),{showEnabledSaveBehavior:s}}function c(e){let i;let n=(0,r.Z)();return e&&(n.save_behavior===o.SAVE_TO_PROFILE?i={type:"classic"}:n.save_behavior===o.SHOW_BOARD_PICKER&&(i={type:"inline"})),{saveBehaviorType:i}}},755040:(e,i,n)=>{n.d(i,{k:()=>t,s:()=>r});var a=n(667294);let l=(0,a.createContext)(Object.freeze({})),t=l.Provider;function r(){return(0,a.useContext)(l)}},385929:(e,i,n)=>{n.d(i,{Ac:()=>t,c7:()=>l,cg:()=>a});let a=-1,l=5,t=6},196039:(e,i,n)=>{n.d(i,{Ai:()=>b,B5:()=>m,CR:()=>c,Cc:()=>r,HG:()=>f,R_:()=>s,Wz:()=>o,_P:()=>v,dP:()=>k,dX:()=>S,gx:()=>u,h8:()=>l,hk:()=>d,lp:()=>h,lt:()=>p,oe:()=>P,r4:()=>y,rM:()=>x,tD:()=>_});var a=n(883119);let l={GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},t={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1},r={...t,font:{default_size:28,letter_spacing:-.4,line_height:1.25,name:"Graphik Regular",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Regular.otf"},font_size:28},o={...t,font:{default_size:48,letter_spacing:0,line_height:1,name:"Graphik Bold Italic",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Bold-Italic.otf"},font_size:48},s=64,d=64,c=48,u=48,_=new a.Ry(5),p=new a.H3([_]),m=new a.H3([p]),g=new a.H3([_]),h=new a.H3([g]),y=4;function v(e){return e?{paddingX:0,paddingY:0}:{paddingX:2,paddingY:y}}let f=6,P=47,S=8,x=4,b=5,k=3},897310:e=>{e.exports="https://s.pinimg.com/webapp/goodIdea-e3e37a7f.svg"},409445:e=>{e.exports="https://s.pinimg.com/webapp/haha-7945c718.svg"},615661:e=>{e.exports="https://s.pinimg.com/webapp/love-1ec7b8e4.svg"},495796:e=>{e.exports="https://s.pinimg.com/webapp/thanks-b3cf8b93.svg"},473754:e=>{e.exports="https://s.pinimg.com/webapp/wow-9e62e75a.svg"}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/47083-003eb3532490fa0e.mjs.map