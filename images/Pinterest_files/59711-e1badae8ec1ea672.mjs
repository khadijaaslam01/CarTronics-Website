"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[59711],{476296:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DeprecatedCarousel_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"}],type:"Pin",abstractKey:null};i.hash="af2a292b990c2655414c7944d61296a1",e.exports=i},952329:e=>{var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinImage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAd",storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinImage_pin"}],type:"Pin",abstractKey:null};t.hash="c984545d398a5bd6c3278c3657eca9c9",e.exports=t},178770:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinVideoWithVisibility_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{args:null,kind:"FragmentSpread",name:"PinVideo_pin"}],type:"Pin",abstractKey:null};i.hash="a44fd933766b13f99b6f36de80b88891",e.exports=i},548359:e=>{var i,t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinVideo_pin",selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[i,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PinImage_pin"}],type:"Pin",abstractKey:null};n.hash="72a606f26ad161609980c86fe071d95e",e.exports=n},832494:e=>{var i,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinImage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"736x")'}],type:"Pin",abstractKey:null};t.hash="91bd9c250408ba97583006b39619e468",e.exports=t},621514:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(630089);function l({altText:e,autoAltText:i,i18n:t,checkExperiment:l}){let a=e?(0,n.nk)(t._('This contains: {{ altText }}', 'web.altText', 'Alt text input by a human'),{altText:e}).join(""):"",r=i?(0,n.nk)(t._('This may contain: {{ autoAltText }}', 'web.altText', 'Alt text generated by a computer'),{autoAltText:i}).join(""):"",o=i&&(null==l?void 0:l("web_mk_alt_text").group);return["enabled","employees"].includes(o)?r||"":["control","pwt_off","pwt_on"].includes(o)?a||"":a||r||""}},424271:(e,i,t)=>{t.d(i,{Z:()=>T}),t(167912);var n,l,a=t(294184),r=t.n(a),o=t(883119),s=t(621514),d=t(840166),u=t(570476),c=t(255630),p=t(536042),m=t(630089),g=t(176172),h=t(245410),v=t(65192),_=t(785893);let x=void 0!==n?n:n=t(832494),y=e=>{var i,t;return{dominantColor:e.dominant_color,imageSpec_474x:(null===(i=e.images)||void 0===i?void 0:i["474x"])&&{height:e.images["474x"].height,url:e.images["474x"].url,width:e.images["474x"].width},imageSpec_736x:(null===(t=e.images)||void 0===t?void 0:t["736x"])&&{height:e.images["736x"].height,url:e.images["736x"].url,width:e.images["736x"].width}}};function f({alt:e,onError:i=()=>{},onLoad:t=()=>{},pinKey:n}){var l,a;let{data:r}=(0,c.uf)(x,n,{useLegacyAdapter:y}),{dominantColor:s}=r,{height:d,width:u,url:p}=null!==(l="number"==typeof(null===(a=r.imageSpec_474x)||void 0===a?void 0:a.width)&&"number"==typeof r.imageSpec_474x.height&&r.imageSpec_474x.width>r.imageSpec_474x.height?r.imageSpec_736x:r.imageSpec_474x)&&void 0!==l?l:{};return(0,_.jsx)(o.xu,{width:"100%",dangerouslySetInlineStyle:{__style:{zIndex:v.Z.storyPinImage}},children:(0,_.jsx)(o.Ee,{alt:e,color:s||"transparent",naturalHeight:null!=d?d:1,naturalWidth:null!=u?u:1,onError:i,onLoad:t,src:p||""})})}var S=t(568998);let b=void 0!==l?l:l=t(952329),w=e=>{var i,t,n,l;return{altText:e.alt_text,autoAltText:e.auto_alt_text,carouselData:e.carousel_data&&{__typename:"PinCarouselData"},description:e.description,dominantColor:e.dominant_color,entityId:e.id,gridTitle:e.grid_title,imageSpec_236x:(null===(i=e.images)||void 0===i?void 0:i["236x"])&&{height:e.images["236x"].height,url:e.images["236x"].url,width:e.images["236x"].width},imageSpec_474x:(null===(t=e.images)||void 0===t?void 0:t["474x"])&&{height:e.images["474x"].height,url:e.images["474x"].url,width:e.images["474x"].width},imageSpec_736x:(null===(n=e.images)||void 0===n?void 0:n["736x"])&&{height:e.images["736x"].height,url:e.images["736x"].url,width:e.images["736x"].width},imageSpec_orig:(null===(l=e.images)||void 0===l?void 0:l.orig)&&{height:e.images.orig.height,url:e.images.orig.url,width:e.images.orig.width},storyPinDataId:e.story_pin_data_id,title:e.title,isThirdPartyAd:e.is_third_party_ad}},T=({cropHeight:e,cropWidth:i,fallbackColor:t,highResOnly:n,imageFit:l,lowResOnly:a,mediumResOnly:v,onError:x,onLoad:y,pinKey:T,saved:I=!1,surface:k})=>{var P,j,C,F,A,L,D,M,K,V,E;let H=(0,p.ZP)(),Z=(0,d.Xx)(),{checkExperiment:z}=(0,h.F)(),{data:B,childDataKey:$}=(0,c.uf)(b,T,{useLegacyAdapter:w}),{altText:W,autoAltText:O,carouselData:N,description:R="",dominantColor:U,entityId:G,gridTitle:q,isThirdPartyAd:J,title:X}=B,Y=(0,m.nk)(H._('This contains an image of: {{ pinTitle }}', 'web.altText', 'Alt text input for PinImage by a human'),{pinTitle:X||q}).join(""),Q=(0,s.Z)({altText:W,autoAltText:O,i18n:H,checkExperiment:z})||!!(null!=R&&R.trim().length)&&R||Y;if(N)return(0,_.jsx)(S.Z,{onError:x,onLoad:y,highResOnly:n,lowResOnly:a,pinId:G,pinKey:{type:"deprecated",data:null},isThirdPartyAd:J});let ee="",ei,et=0,en=0;if(B.imageSpec_736x||B.imageSpec_orig||B.imageSpec_474x||B.imageSpec_236x){let e=B.imageSpec_236x;n?e=B.imageSpec_736x||B.imageSpec_orig||B.imageSpec_474x||B.imageSpec_236x:v&&(e=B.imageSpec_474x||B.imageSpec_orig||B.imageSpec_236x),et=null===(F=e)||void 0===F?void 0:F.height,en=null===(A=e)||void 0===A?void 0:A.width,ee=null===(L=e)||void 0===L?void 0:L.url,ei=a||v||n?null!==(D=e)&&void 0!==D&&D.url?`${e.url} 1x`:"":[(null===(M=B.imageSpec_236x)||void 0===M?void 0:M.url)&&`${B.imageSpec_236x.url} 1x`,(null===(K=B.imageSpec_474x)||void 0===K?void 0:K.url)&&`${B.imageSpec_474x.url} 2x`,(null===(V=B.imageSpec_736x)||void 0===V?void 0:V.url)&&`${B.imageSpec_736x.url} 3x`,(null===(E=B.imageSpec_orig)||void 0===E?void 0:E.url)&&`${B.imageSpec_orig.url} 4x`].filter(Boolean).join(", ")}null!=Z&&Z.image&&(et=Z.image.height,en=Z.image.width,ee=Z.image.url);let el=["ShoppingGridSmall","ShoppingGridSmallCarousel"].includes(k)?void 0:g.Ml;return(0,_.jsx)(o.kC,{alignItems:"center",justifyContent:"start",minHeight:el,children:(0,_.jsx)(o.xu,{flex:"grow",children:(0,_.jsx)("div",{className:r()({savedGradient:I}),children:B.storyPinDataId?(0,_.jsx)(f,{alt:Q,pinKey:$,onError:x,onLoad:y}):(0,_.jsx)(o.xu,{height:i?e:void 0,width:i||void 0,"data-test-id":"non-story-pin-image",children:(0,_.jsx)(u.Z,{alt:Q,color:"dominant"===t?null!=U?U:void 0:t,fit:l,naturalHeight:null!==(P=et)&&void 0!==P?P:1,naturalWidth:null!==(j=en)&&void 0!==j?j:1,onError:x,onLoad:y,src:null!==(C=ee)&&void 0!==C?C:"",srcSet:ei,crossOrigin:J?"anonymous":void 0})})})})})}},335700:(e,i,t)=>{t.d(i,{Z:()=>D});var n,l,a=t(667294);t(167912);var r=t(883119),o=t(424271),s=t(255630),d=t(898252),u=t(83503),c=t(886365),p=t(272270),m=t(536042),g=t(785893);let h={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},v={__path:"M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},_={overlay:{__style:{backgroundColor:"#000"}}};function x({backgroundImage:e,naturalHeight:i,naturalWidth:t,onRestartVideo:n,pinId:l}){let a=(0,m.ZP)();return(0,g.jsxs)(r.Ee,{alt:a._('pin image', 'image of a pin', 'image of a pin'),naturalHeight:i,naturalWidth:t,src:e,children:[(0,g.jsx)(r.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:_.overlay}),(0,g.jsxs)(r.xu,{justifyContent:"center",direction:"column",display:"flex",position:"absolute",height:"100%",width:"100%","data-test-id":`video-end-card-${l}`,children:[(0,g.jsx)(r.iP,{rounding:2,children:(0,g.jsxs)(r.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,g.jsx)(r.JO,{accessibilityLabel:a._('Visit site', 'Button when pressed goes to pin\'s website', 'Button when pressed goes to pin\'s website'),color:"light",dangerouslySetSvgPath:v,size:25}),(0,g.jsx)(r.xu,{margin:1}),(0,g.jsx)(r.xv,{color:"light",lineClamp:1,weight:"bold",children:a._('Visit site', 'Button when pressed goes to pin\'s website', 'Button when pressed goes to pin\'s website')})]})}),(0,g.jsx)(r.xu,{margin:3}),(0,g.jsx)(r.iP,{onTap:n,rounding:2,children:(0,g.jsxs)(r.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,g.jsx)(r.JO,{accessibilityLabel:a._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video'),color:"light",dangerouslySetSvgPath:h,size:25}),(0,g.jsx)(r.xu,{margin:1}),(0,g.jsx)(r.xv,{color:"light",lineClamp:1,weight:"bold",children:a._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video')})]})})]})]})}function y({aspectRatio:e,children:i}){return(0,g.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{aspectRatio:e}},children:i})}var f=t(197083);let S=new Set(["ConversationView","TodayTabFeed"]),b=void 0!==n?n:n=t(548359),w=e=>{var i,t;return{entityId:e.id,imageSpec_236x:(null===(i=e.images)||void 0===i?void 0:i["236x"])&&{url:e.images["236x"].url},isDownstreamPromotion:e.is_downstream_promotion,isEligibleForWebCloseup:e.is_eligible_for_web_closeup,isPromoted:e.is_promoted,promoter:e.promoter&&{__typename:"User"},videos:e.videos&&{entityId:null!==(t=e.videos.id)&&void 0!==t?t:"",videoList:e.videos.video_list&&{vHLSV4:e.videos.video_list.V_HLSV4&&{height:e.videos.video_list.V_HLSV4.height,thumbnail:e.videos.video_list.V_HLSV4.thumbnail,url:e.videos.video_list.V_HLSV4.url,width:e.videos.video_list.V_HLSV4.width}}}}};var T=t(282802),I=t(245438),k=t(566827),P=t(997394);function j(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}let C=(0,I.Z)(function({inAdsDesktopVideoExperiment:e,isAutoplay:i,cropHeight:t,currentTime:n,lowResOnly:l,highResOnly:m,onLoad:h,onError:v,saved:_,onTimeChange:T,isExperimentalPinRep:I,pinKey:k,surface:P,playing:j,rootMargin:C,viewType:F,viewParameter:A,onVisibilityChanged:L,trackFullVisible:D,inVisibilityChangedHookExperiment:M,imageHeightModifier:K,cropWidth:V,video:E}){var H,Z,z,B,$,W;let O;let[N,R]=(0,a.useState)(!1),[U,G]=(0,a.useState)(!0),{data:q,childDataKey:J}=(0,s.uf)(b,k,{useLegacyAdapter:w}),{isDownstreamPromotion:X,promoter:Y}=q,Q=(0,d.jL)(!!X,!!Y),ee=Q&&!q.isEligibleForWebCloseup,ei=I&&Q&&q.isEligibleForWebCloseup&&!S.has(P),{setCurrentVideo:et}=(0,c.I)(),en=ee||!I||!Q,el=(0,u.Z)({onVisibilityChanged:L,inAdsDesktopVideoExperiment:e,trackFullVisible:D,rootMargin:C}),ea=!j;e&&(ea=U,i&&j&&U&&G(!1));let{url:er}=null!==(H=q.imageSpec_236x)&&void 0!==H?H:{},{entityId:eo,isPromoted:es}=q,ed=(0,a.useCallback)(({event:e})=>{e.preventDefault(),e.stopPropagation(),et({pinId:eo,isPromoted:!!es,currentTime:0}),R(!1)},[es,eo,et]),eu=(0,a.useCallback)(()=>{es&&R(ei)},[ei,es]),ec=null!=E?E:null===(Z=q.videos)||void 0===Z?void 0:null===(z=Z.videoList)||void 0===z?void 0:z.vHLSV4;if(!ec)return null;let{height:ep,thumbnail:em,width:eg,url:eh}=ec,ev=null!==(B=null!==($=null==E?void 0:E.entityId)&&void 0!==$?$:null===(W=q.videos)||void 0===W?void 0:W.entityId)&&void 0!==B?B:"",e_=[{type:"video/m3u8",src:eh}],ex=(null!=eg?eg:1)/(null!=ep?ep:1),ey=e&&P&&(0,p.Z)(P);if(ey&&(ex=1,O="transparent",K&&(ex-=K-1)),N&&Q)return(0,g.jsx)(r.xu,{ref:M?el:null,children:(0,g.jsx)(x,{backgroundImage:null!=er?er:"",naturalHeight:null!=ep?ep:1,naturalWidth:null!=eg?eg:1,pinId:eo,onRestartVideo:ed})});if(ea){let e={highResOnly:m,lowResOnly:l,onError:v,onLoad:h,pinKey:J,saved:_};return ey&&(e={...e,cropHeight:t,cropWidth:V,imageFit:"contain"}),(0,g.jsx)(r.xu,{ref:M?el:null,children:(0,g.jsx)(y,{aspectRatio:ex,children:(0,g.jsx)(o.Z,{...e})})})}return(0,g.jsx)(r.xu,{ref:M?el:null,children:(0,g.jsx)(f.ZP,{isAutoPlay:!!i,cropHeight:t,rootMargin:C,surface:P,inAdsDesktopVideoExperiment:e,contextLogData:{viewParameter:A,component:0,objectId:eo,video_id:ev,view:F},aspectRatio:ex,backgroundColor:O,captions:"",hlsConfig:{capLevelToPlayerSize:!0,startPosition:n||-1},loop:en,onTimeChange:T,playing:j,onPlay:()=>{},onPlayError:()=>{},poster:er||em||void 0,src:null!=e_?e_:[],videoStartTime:n,volume:0,onEnded:eu})})}),F=void 0!==l?l:l=t(178770),A=e=>({entityId:e.id,isPromoted:e.is_promoted});class L extends a.Component{constructor(...e){super(...e),j(this,"calculateCurrentVideoTime",()=>{let{currentTimeFromPinRep:e,pin:i,videosAutoplaying:t}=this.props,{entityId:n}=i,l=(0,k.Z)(n,t);return this.currentVideoCurrentTime||l||e}),j(this,"handleVisibilityChanged",e=>{let{currentTimeFromPinRep:i,pin:t,requestContext:n,setCurrentVideo:l,pauseAutoplay:a,videosAutoplaying:r}=this.props,{entityId:o,isPromoted:s}=t,d=(0,P.Z)(o,r),u=function(e,i){let{organicVideosAutoplaying:t,promotedVideosAutoplaying:n}=i,l={...t,...n};for(let i in l){let{paused:t}=l[i];if(i!==e&&!t)return!1}return!0}(o,r);if(e){if(s)l({pinId:o,isPromoted:s,currentTime:this.calculateCurrentVideoTime()});else if(u){let{anyEnabled:e}=n.experimentsClient.checkExperiment("hfp_web_video_autoplay_in_grid")||{};l({pinId:o,isPromoted:!!s,currentTime:this.calculateCurrentVideoTime(),inVideoGridAutoplayExp:e})}}else!e&&d&&a({pinId:o,isPromoted:!!s,currentTime:i||this.currentVideoCurrentTime})}),j(this,"handleVideoTimeChange",e=>{let{pin:i,onTimeChange:t,videosAutoplaying:n}=this.props,{entityId:l}=i,a=(0,P.Z)(l,n);a&&(this.currentVideoCurrentTime=e.time),t&&t(e)})}componentDidMount(){this.props.onLoad&&this.props.onLoad()}componentDidUpdate(e){let{appInFocus:i}=e,{appInFocus:t,currentTimeFromPinRep:n,pauseAutoplay:l,pin:a,setCurrentVideo:r,videosAutoplaying:o}=this.props,{entityId:s,isPromoted:d}=a,u=(0,P.Z)(s,o);t!==i&&!t&&u?(this.pausedDueToBrowserOutOfFocus=!0,l({pinId:s,isPromoted:!!d,currentTime:n||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&t&&(this.pausedDueToBrowserOutOfFocus=!1,r({pinId:s,isPromoted:!!d,currentTime:this.calculateCurrentVideoTime()}))}componentWillUnmount(){let{currentTimeFromPinRep:e,pauseAutoplay:i,pin:t,videosAutoplaying:n}=this.props,{entityId:l,isPromoted:a}=t,r=(0,P.Z)(l,n);r&&i({pinId:l,isPromoted:!!a,currentTime:e||this.currentVideoCurrentTime})}render(){let{childDataKey:e,cropHeight:i,isAutoplay:t,pin:n,surface:l,videosAutoplaying:a,viewParameter:r,viewType:o,highResOnly:s,lowResOnly:d,onError:u,onLoad:c,saved:p,inAdsDesktopVideoExperiment:m,isExperimentalPinRep:h,rootMargin:v,cropWidth:_,imageHeightModifier:x,video:y}=this.props,{entityId:f}=n,S=(0,k.Z)(f,a),b=(0,P.Z)(f,a),w=b&&t,T={cropHeight:i,rootMargin:v,currentTime:S,inAdsDesktopVideoExperiment:m,isAutoplay:t,viewParameter:r,viewType:o,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pinKey:e,surface:l,playing:w,trackFullVisible:!1,highResOnly:s,lowResOnly:d,onError:u,onLoad:c,saved:p,isExperimentalPinRep:h,cropWidth:_,imageHeightModifier:x,...y?{video:y}:{}};return(0,g.jsx)(C,{...T})}}function D({pinKey:e,...i}){let{appUI:{appInFocus:t,isAutoplay:n,videosAutoplaying:l},pauseAutoplay:a,setCurrentVideo:r}=(0,c.I)(),{data:o,childDataKey:d}=(0,s.uf)(F,e,{useLegacyAdapter:A});return(0,g.jsx)(L,{...i,appInFocus:t,childDataKey:d,isAutoplay:n,pin:o,pauseAutoplay:a,requestContext:(0,T.B)(),setCurrentVideo:r,videosAutoplaying:l})}},840166:(e,i,t)=>{t.d(i,{wH:()=>x,wA:()=>v,Xx:()=>y});var n=t(667294),l=t(150456),a=t(393272);let r=({defaultStatus:e="available",dimensionMetadataNameValues:i,primaryDimName:t,primaryDimensionThumbnailImages:n})=>i.reduce((i,{values:l,name:r})=>r&&l?{...i,[r]:l.map((i,l)=>{let o={status:e,value:i};if(r===t){let e=null==n?void 0:n[l.toString()];if(e)return{...o,image:(0,a.Z)({images:e.canonical_images})}}return o})}:i,{}),o=({status:e,variantMap:i})=>{let t={};for(let l in i){var n;t[l]=null===(n=i[l])||void 0===n?void 0:n.map(i=>({...i,status:e}))}return t},s=({dimensionName:e,variants:i,selectedTuple:t,variantStatuses:n})=>{let l=t.filter(([i])=>i!==e);for(let{dimensions:t={},offer_summary:a={}}of i){let i=l.every(([e,i])=>t[e]===i);if(!i)continue;let r=n.find(({value:i})=>i===t[e]);r&&(r.status=a.in_stock||"available"===r.status?"available":"outOfStock")}},d=({variants:e,selectedMap:i={},variantMap:t})=>{let n=Object.entries(i);for(let i in t){let l=t[i];l&&s({dimensionName:i,variants:e,selectedTuple:n,variantStatuses:l})}},u=e=>{let i,t,n,l;let a=!1,{percentage_off:r,standard_price:o}=1===e.length&&e[0].offer_summary||{};for(let r of e){let{max_price:e,max_price_val:o,min_price:s,min_price_val:d,price:u,price_val:c,price_in_micro_currency:p,in_stock:m}=r.offer_summary||{},g=c||Number(p);"number"==typeof d&&Number.isFinite(d)&&"number"==typeof o&&Number.isFinite(o)&&((void 0===t||d<t)&&(t=d,i=s),(void 0===l||o>l)&&(l=o,n=e),a=a||!!m),Number.isFinite(g)&&((null==t||g<t)&&(t=g,i=u),(null==l||g>l)&&(l=g,n=u),a=a||!!m)}return n&&i?i===n?{in_stock:a,percentage_off:r,price:i,standard_price:o}:{in_stock:a,max_price:n,min_price:i,percentage_off:r,price:i,standard_price:o}:void 0},c=e=>{var i;let t={...(null===(i=e.find(e=>!!e.is_preselected))||void 0===i?void 0:i.dimensions)||{}};for(let e in t)t[e]||delete t[e];return t},p=({selectedMap:e,variants:i})=>i.filter(({dimensions:i={}})=>{for(let t in e){let n=e[t];if(i[t]!==n)return!1}return!0});var m=t(388011),g=t(785893);let h=(0,n.createContext)(void 0),v=e=>{var i;if(!e.variants)return!1;let t=null===(i=e.dimension_metadata)||void 0===i?void 0:i.find(e=>{var i;return(null===(i=e.name)||void 0===i?void 0:i.toLowerCase())==="color"});return!!(t&&t.name&&t.values&&1!==t.values.length)},_=({pinId:e,children:i,dimensionMetadata:t,primaryDimName:s,variants:v,primaryDimensionThumbnailImages:_})=>{let x=(0,n.useCallback)(({selectedMap:e})=>{let i=r({dimensionMetadataNameValues:t.map(({name:e,values:i})=>({name:e,values:i})),primaryDimName:s,primaryDimensionThumbnailImages:_,defaultStatus:"invalid"});return d({variantMap:i,selectedMap:e,variants:v}),i},[t,s,_,v]),{logContextEvent:y}=(0,m.v)(),f=v.find(e=>e.is_preselected),S=(0,l.a)(),{pinsState:b,setPinState:w}=S||{},T=b&&b[e],I=T?T.selectedMap:c(v),k=T?T.selectedVariants:p({selectedMap:I,variants:v}),P=T?T.variantMap:x({selectedMap:I}),j=!!T&&T.isSelectedByUser,C=T?T.variantUrl:(null==f?void 0:f.pin_id)||e,F=(0,n.useCallback)((i,t=!1)=>{let n=p({selectedMap:i,variants:v}),l=x({selectedMap:i}),a={selectedMap:i,selectedVariants:n,variantMap:l,isSelectedByUser:t,variantUrl:""},r=n[0].pin_id;r&&(a.variantUrl=r),w&&w(e,a)},[x,e,w,v]),A=(0,n.useCallback)(()=>{let e=c(v);F(e)},[F,v]),L=(0,n.useCallback)(({dimensionName:e,variant:i,isAutoSelection:t=!1})=>{var n;let l=null===(n=P[e])||void 0===n?void 0:n.find(({value:e})=>e===i);try{if(!l)throw Error(`Unable to find the selected variant ${e}: ${i}`);if(I[e]===i)return;let n="invalid"!==l.status?I:{},a={...n,[e]:i},r=o({variantMap:P,status:"invalid"});d({variantMap:r,selectedMap:a,variants:v}),F(a,!t),y({event_type:10240,component:14092})}catch(e){throw A(),e}},[P,I,v,F,A,y]),{title:D}=k[0],M=(0,a.Z)({images:(k[0].additional_images||[])[0].canonical_images}),K=u(k),V=(0,n.useMemo)(()=>{let e=((null==f?void 0:f.dimensions)||{})[s],i=P[s]||[],n=i;if(e&&i){let t=i.find(i=>i.value===e);t&&(n=[t,...i.filter(i=>i.value!==e)])}return{dimensionMetadataNameValues:t.map(({name:e,values:i})=>({name:e,values:i})),offerSummary:K,primaryVariants:n,primaryDimName:s,selectedMap:I,isSelectedByUser:j,selectVariant:L,title:D,variants:v,image:M,variantUrl:C}},[f,s,P,t,K,I,j,L,D,v,M,C]);return(0,g.jsx)(h.Provider,{"data-test-id":"safe-product-pins-feed-context-provider",value:V,children:i})},x=({children:e,variantSet:i,pinId:t,isEligible:n})=>{if(!n)return(0,g.jsx)(h.Provider,{"data-test-id":"undefined-context-provider",value:void 0,children:e});let{dimension_metadata:l,primary_dimension_thumbnail_images:a,variants:r}=i||{},o=null==l?void 0:l.find(e=>{var i;return(null===(i=e.name)||void 0===i?void 0:i.toLowerCase())==="color"});return(0,g.jsx)(_,{pinId:t,dimensionMetadata:l||[],primaryDimName:(null==o?void 0:o.name)||"",primaryDimensionThumbnailImages:a,variants:r||[],children:e})},y=()=>{let e=(0,n.useContext)(h);return e}},150456:(e,i,t)=>{t.d(i,{A:()=>r,a:()=>o});var n=t(667294),l=t(785893);let a=(0,n.createContext)(void 0),r=({children:e})=>{let[i,t]=(0,n.useState)({}),r=(0,n.useMemo)(()=>({setPinState:(e,n)=>{t({...i,[e]:{...i[e]||{},...n}})},pinsState:i}),[i]);return(0,l.jsx)(a.Provider,{value:r,children:e})},o=()=>(0,n.useContext)(a)},38823:(e,i,t)=>{t.d(i,{Z:()=>l});let n=["236x","474x","564x","736x"];function l(e,i,t,l,a){let r=[...e?[{images:e}]:[],...(null!=i?i:[]).map(({canonical_images:e,image_signature:i})=>({images:e||void 0,image_signature:i||void 0}))];return{carousel_slots:l?function(e){function i(e,{imageKey:i,height:t,width:n}){return e.images&&e.images[i]&&(e={...e,images:{...e.images,[i]:{...e.images[i],height:t,width:n}}}),e}let t=n.map(function(i){let t=Math.min(...e.map(e=>e.images&&e.images[i]&&e.images[i].height||1/0)),n=Math.min(...e.map(e=>e.images&&e.images[i]&&e.images[i].width||1/0));return{imageKey:i,height:t,width:n}});return e.map(e=>t.reduce(i,e))}(r):r,index:t||0,id:a}}},183929:(e,i,t)=>{t.d(i,{Z:()=>p});var n=t(667294),l=t(973935),a=t(521262),r=t(388011),o=t(906215),s=t(785893);function d(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}let u={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}};class c extends n.Component{constructor(e){super(e),d(this,"trackImpression",()=>{try{this.node=(0,l.findDOMNode)(this),this.node instanceof HTMLElement&&this.impressionsFramework.start(this.node).onExitViewport(this.logImpression).setDebugId(this.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),d(this,"logImpression",e=>{var i,t,n,l,r,o,s,d,c,p,m,g,h,v,_,x;let{carouselData:y,closeupImpressionType:f,closeupNavigationType:S,componentType:b,contextLogData:w,elementType:T,impressionAuxFields:I,impressionType:k,loggingId:P,objectIdStr:j,slotIndex:C,trackCarousel:F,viewData:A,viewParameter:L,viewType:D,logContextEvent:M}=this.props,K=u[k],V=K.idType,E=e.forcedExit&&"removed"===e.forcedExit?0:void 0,H={endTime:e.endTime,[V]:P,slotIndex:C,time:e.startTime,renderDuration:e.endTime-e.startTime,type:f,...I,forcedExit:E},Z={};if("Pin"===k&&(H={...H,pinCellWidth:this.node.offsetWidth,pinCellHeight:this.node.offsetHeight,windowWidth:null===(i=window)||void 0===i?void 0:i.innerWidth,windowHeight:null===(t=window)||void 0===t?void 0:t.innerHeight},null!=I&&I.chromeAraViewExp&&null!==(n=this.props.children)&&void 0!==n&&null!==(l=n.props)&&void 0!==l&&null!==(r=l.pin)&&void 0!==r&&r.is_promoted)){let e=this.props.children.props.pin.attribution_source_id;(0,a.YS)(k,null!==(o=this.props.children.props.pin.is_promoted)&&void 0!==o?o:null,null!=e?e:null,null!==(s=this.props.children.props.pin.link)&&void 0!==s?s:null,null!==(d=this.props.children.props.pin.campaign_id)&&void 0!==d?d:null,null!==(c=I.araAuxData)&&void 0!==c?c:null),Z={is_arapi:!0,attribution_source_id:e||""}}F||M({event_type:K.eventType,component:b,element:T,event_data:{[K.impressionType]:"Story"===k?H:[H]},object_id_str:j,view_type:D,view_data:A||{},view_parameter:L,aux_data:{...w,...Z,closeup_navigation_type:S}}),y&&F&&M({event_type:7352,component:b,event_data:{pinCarouselSlotImpressions:[{...H,..."canonical"===y.type?{carouselDataId:Number(null!==(p=y.carouselId)&&void 0!==p?p:0),slotIndex:y.index,carouselSlotId:y.carouselSlots[null!==(m=y.index)&&void 0!==m?m:0]&&Number(y.carouselSlots[null!==(g=y.index)&&void 0!==g?g:0].slotId)}:{carouselDataId:Number(null!==(h=y.id)&&void 0!==h?h:0),carouselSlotId:(null===(v=y.carousel_slots)||void 0===v?void 0:v[null!==(_=y.index)&&void 0!==_?_:0])&&Number(y.carousel_slots[null!==(x=y.index)&&void 0!==x?x:0].id),slotIndex:y.index}}]},object_id_str:j,view_type:D,view_data:A||{},view_parameter:L,aux_data:{...w,...Z}})}),this.impressionsFramework=e.impressionsFramework||o.Z}componentDidMount(){this.props.inImpressionExp&&!this.impressionsFramework.inExperiment&&this.impressionsFramework.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}componentWillUnmount(){this.node instanceof HTMLElement&&this.impressionsFramework.stop(this.node)}render(){return n.Children.only(this.props.children)}}function p(e){let{logContextEvent:i}=(0,r.v)();return(0,s.jsx)(c,{...e,logContextEvent:i})}},194480:(e,i,t)=>{t.d(i,{Z:()=>g});var n=t(883119),l=t(340906),a=t(38823),r=t(117651),o=t(536042),s=t(898252),d=t(245410),u=t(785893);let c={borderRadius:"18px",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px",padding:"0 6px"},p={borderRadius:"18px",fontSize:"10px",fontWeight:"600",lineHeight:"24px",padding:"4px 8px"};function m({backgroundColor:e,identifier:i,size:t="sm"}){return(0,u.jsx)(n.xu,{display:"inlineBlock",dangerouslySetInlineStyle:{__style:{..."sm"===t?c:p,backgroundColor:e?"pine"===e?"#0FA573":"#fff":"rgba(255, 255, 255, 0.8)",color:"pine"===e?"#fff":"#111"}},"data-test-id":"PinTypeIdentifier",children:i})}function g({pin:e,size:i="sm",allowProductCarousel:t,allowShoppingPriceIndicator:c,shoppingLabelColor:p}){var g,h,v,_,x,y,f,S,b;let w=(0,o.ZP)(),T=(0,l.Z)(),I=!!(null!==(g=e.carousel_data)&&void 0!==g&&g.id),k=(null===(h=e.embed||(null===(v=e.attribution)||void 0===v?void 0:v.embed))||void 0===h?void 0:h.type)==="gif",P=(null===(_=e.rich_summary)||void 0===_?void 0:_.type_name)==="product",j=!!e.story_pin_data_id,C=!!(null!==(x=e.videos)&&void 0!==x&&x.video_list),F=!!e.promoter&&!e.is_downstream_promotion,{checkExperiment:A}=(0,d.F)();if(k)return m({identifier:"GIF",size:i});if(j&&!1!==e.should_open_in_stream){let{page_count:t=0,static_page_count:l=0,total_video_duration:a=0}=e.story_pin_data||{},o=t.toString();if(a>0){let e=a+l*s.oN;return m({identifier:o=(0,r.Z)(e),size:i})}if(F&&A("ads_iad_dweb").anyEnabled)return null;let d=(0,u.jsxs)(n.kC,{alignItems:"center",justifyContent:"between",children:[(0,u.jsx)(n.xu,{marginEnd:1,display:"flex",alignItems:"center",children:(0,u.jsx)(n.JO,{accessibilityLabel:T?w._('Pin', 'pin.pinTypeIdentifier.ideaPinIconAccessibilityLabel.sce', 'identifier that shows the pin type'):w._('Idea Pin', 'pin.pinTypeIdentifier.ideaPinIconAccessibilityLabel', 'identifier that shows the pin type'),inline:!0,icon:"idea-pin",color:"default",size:"sm"===i?12:16})}),(0,u.jsx)(n.xv,{inline:!0,size:"100",weight:"bold",children:o})]});return m({identifier:d,size:i})}if(C){let{videos:t}=e,{duration:n=0}=t&&t.video_list&&t.video_list[Object.keys(t.video_list)[0]]||{};return m({identifier:(0,r.Z)(n),size:i})}if(P){let t=e.rich_summary&&e.rich_summary.products&&e.rich_summary.products[0]&&e.rich_summary.products[0].offer_summary;if(c){let e=t&&(t.price||t.max_price);return e?m({identifier:e,size:i}):null}if(!p)return null;{let t=null===(y=((null===(S=e.rich_summary)||void 0===S?void 0:null===(b=S.products)||void 0===b?void 0:b[0])||{}).label_info)||void 0===y?void 0:null===(f=y.labels)||void 0===f?void 0:f[0];return t?m({identifier:t,backgroundColor:p,size:i}):null}}if(t){let t=e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0],n=t&&(0,a.Z)(e.images,t.additional_images,e.carousel_data&&e.carousel_data.index)||{},{carousel_slots:l=[],index:r=0}=n;return m({identifier:`${r+1}/${l.length}`,size:i})}if(I){let t=e.carousel_data||{},{carousel_slots:n=[],index:l=0}=t;return m({identifier:`${l+1}/${n.length}`,size:i})}return null}},393272:(e,i,t)=>{t.d(i,{Z:()=>l});let n=["564x","736x","orig","474x","236x"],l=({images:e={},resolutionPreferences:i=n})=>{for(let t of i)if(e[t]&&e[t].url)return e[t];return null}},867812:(e,i,t)=>{t.d(i,{X:()=>n});let n="favorited"},245438:(e,i,t)=>{t.d(i,{Z:()=>m});var n=t(667294),l=t(973935),a=t(785893);function r(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}let o=new Map,s=null,d=e=>{e.forEach(e=>{let i=o.get(e.target);i&&i(e)})},u=e=>{s.unobserve(e),o.delete(e)},c=(e,i="-64px 0px 0px 0px",t)=>{let n={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:i,threshold:[0,.5,1]};s=s||new window.IntersectionObserver(d,n),o.set(e,t),s.observe(e)},p=e=>o.has(e),m=e=>{class i extends n.Component{constructor(...e){super(...e),r(this,"seen",!1),r(this,"enter",e=>{let i=e.intersectionRatio>0||e.isIntersecting;this.seen=i,this.seen&&this.props.onVisibilityChanged(!0)}),r(this,"leave",()=>{let e=this._node;e&&p(e)&&this.seen&&(this.props.onVisibilityChanged(!1),this.seen=!1)}),r(this,"observe",e=>{try{this._node=l.findDOMNode(this)}catch(e){return}if(!this._node)return;let{inAdsDesktopVideoExperiment:i}=this.props,t=this._node;c(t,e,e=>{if(!o.has(t))return;let n=i?e.intersectionRatio>=.5:e.intersectionRatio>0||e.isIntersecting,l=this.props.trackFullVisible?e.intersectionRatio>=1:n,a=this.props.trackFullVisible?0===e.intersectionRatio:!l;!this.seen&&l?this.enter(e):this.seen&&a&&this.leave()})})}componentDidMount(){let{rootMargin:e}=this.props;this.observe(e)}componentWillUnmount(){let e=this._node;e&&(this.leave(),u(e))}render(){return(0,a.jsx)(e,{...this.props})}}return r(i,"displayName",`DeprecatedWithVisibilityChanged(${e.displayName||e.name})`),i}},83503:(e,i,t)=>{t.d(i,{Z:()=>u});var n=t(667294);let l=new Map,a=null,r=e=>{e.forEach(e=>{let i=l.get(e.target);i&&i(e)})},o=e=>{a.unobserve(e),l.delete(e)},s=(e,i="-64px 0px 0px 0px",t)=>{let n={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:i,threshold:[0,.5,1]};a=a||new window.IntersectionObserver(r,n),l.set(e,t),a.observe(e)},d=e=>l.has(e);function u({onVisibilityChanged:e,inAdsDesktopVideoExperiment:i,trackFullVisible:t,rootMargin:a}){let r=(0,n.useRef)(null),u=!1,c=i=>{let t=i.intersectionRatio>0||i.isIntersecting;(u=t)&&e(!0)},p=()=>{r.current instanceof HTMLElement&&d(r.current)&&u&&(e(!1),u=!1)},m=(0,n.useCallback)(e=>{r.current instanceof HTMLElement&&s(r.current,e,e=>{if(!l.has(r.current))return;let n=i?e.intersectionRatio>=.5:e.intersectionRatio>0||e.isIntersecting,a=t?e.intersectionRatio>=1:n,o=t?0===e.intersectionRatio:!a;!u&&a?c(e):u&&o&&p()})},[r.current]);return(0,n.useEffect)(()=>(m(a),()=>{r.current instanceof HTMLElement&&(p(),o(r.current))}),[m]),r}},566827:(e,i,t)=>{t.d(i,{Z:()=>n});function n(e,i){let{organicVideosAutoplaying:t,promotedVideosAutoplaying:n}=i,l={...t,...n};return l[e]&&l[e].currentTime}},997394:(e,i,t)=>{t.d(i,{Z:()=>n});function n(e,i){let{organicVideosAutoplaying:t,promotedVideosAutoplaying:n}=i,l={...t,...n};return!!l[e]&&!l[e].paused}},272270:(e,i,t)=>{t.d(i,{Z:()=>l});var n=t(795142);function l(e){return n.zI.includes(e)}},65192:(e,i,t)=>{t.d(i,{Z:()=>n});let n={debugPinImpressions:999,max:9999,pinActionWrapper:101,saved:102,storyPinImage:-1}},568998:(e,i,t)=>{t.d(i,{Z:()=>S});var n,l=t(667294);t(422578);var a=t(883119),r=t(324509),o=t(255630),s=t(24286),d=t(536042),u=t(183929),c=t(176172),p=t(164377),m=t(525104),g=t(785893);function h(e,i,t){var n;return(i="symbol"==typeof(n=function(e,i){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?n:String(n))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}let v=void 0!==n?n:n=t(476296),_=e=>{let i=e.reduce((e,i)=>{var t;let{imageSizeMap:n}=i,{height:l,width:a}=(null==n?void 0:n["736x"])||(null==n?void 0:n["236x"])||{},r=`${null!=a?a:1}x${null!=l?l:1}`,o=(null===(t=e[r])||void 0===t?void 0:t.times)||0;return{...e,[r]:{imageHeight:l,imageWidth:a,times:o+1}}},{}),t=Object.keys(i).reduce((e,t)=>i[t].times>e.times?i[t]:e,{times:-1,imageHeight:-1,imageWidth:-1});return Object.keys(i).length>1?{imageHeight:t.imageHeight,imageWidth:t.imageWidth}:null},x=(e,i,t,n,l,r,o,s,d,u,c,m,h,v,_,x)=>{var y,f,S,b,w,T,I,k,P,j,C,F,A,L,D,M;let K;let{imageSizeMap:V,details:E=""}=i,H=236,Z=236,z="";l?(H=474,Z=V&&Math.min(H/.8,H/((null!==(b=null===(w=V["564x"])||void 0===w?void 0:w.width)&&void 0!==b?b:1)/(null!==(T=null===(I=V["564x"])||void 0===I?void 0:I.height)&&void 0!==T?T:1))),z=V&&(null===(k=V["564x"])||void 0===k?void 0:k.url)):V&&V["736x"]?(Z=V&&V["736x"]&&V["736x"].height,H=V&&V["736x"]&&V["736x"].width,z=V&&V["736x"]&&V["736x"].url):V&&V["236x"]&&(Z=V&&V["236x"]&&V["236x"].height,H=V&&V["236x"]&&V["236x"].width,z=V&&V["236x"]&&V["236x"].url),h&&v&&(Z=Math.min(h*v,null!==(P=Z)&&void 0!==P?P:1)),K=r?`${null!==(j=null==V?void 0:null===(C=V["236x"])||void 0===C?void 0:C.url)&&void 0!==j?j:""} 1x`:l?`${null!==(F=null==V?void 0:null===(A=V["564x"])||void 0===A?void 0:A.url)&&void 0!==F?F:""} 1x`:[(null==V?void 0:V["474x"])&&`${null!==(L=V["474x"].url)&&void 0!==L?L:""} 2x`,(null==V?void 0:V["736x"])&&`${null!==(D=V["736x"].url)&&void 0!==D?D:""} 3x`,(null==V?void 0:V.orig)&&`${null!==(M=V.orig.url)&&void 0!==M?M:""} 4x`].filter(Boolean).join(", ");let B=(0,p.GH)(E,e,n),$=m?void 0:Z,W=m?void 0:H,{boxHeight:O,boxWidth:N}=_?{boxHeight:null==_?void 0:_.imageHeight,boxWidth:null==_?void 0:_.imageWidth}:{boxHeight:$,boxWidth:W};return(0,g.jsx)(a.xu,{"data-test-id":"carousel-slot-container",height:null!=O?O:void 0,width:null!=N?N:void 0,children:(0,g.jsx)(a.xu,{height:m?c:void 0,width:m||void 0,"data-test-id":`carousel-img-${n}`,children:(0,g.jsx)(a.Ee,{alt:B,fit:m?"cover":"none",naturalHeight:null!==(y=Z)&&void 0!==y?y:1,naturalWidth:null!==(f=H)&&void 0!==f?f:1,onError:o,onLoad:s,src:null!==(S=z)&&void 0!==S?S:"",srcSet:K,crossOrigin:x?"anonymous":void 0})})},`carousel-slot-${t}-${n}`)},y=({pinId:e,slot:i,slotIndex:t,onError:n,onLoad:l,widthToUse:r,gap:o},s)=>{let d=["564x","736x","474x","236x"].map(e=>{var t;return null===(t=i.imageSizeMap)||void 0===t?void 0:t[e]}).find(e=>null==e?void 0:e.url),{url:u,width:c,height:m}=d||{},{details:h=""}=i,v=(0,p.GH)(h,s,t);return(0,g.jsx)(a.xu,{"data-test-id":"carousel-slot-container",width:r,height:"100%",marginEnd:o,children:(0,g.jsx)(a.zd,{height:"100%",wash:!0,children:(0,g.jsx)(a.Ee,{alt:v,fit:"contain",naturalHeight:null!=m?m:1,naturalWidth:null!=c?c:1,onError:n,onLoad:l,src:null!=u?u:""})})},`carousel-slot-${e}-${t}`)};class f extends l.Component{constructor(...e){super(...e),h(this,"state",{showBadge:!0}),h(this,"renderBadge",()=>{let{carouselData:e,isCloseup:i,showCarouselBadge:t}=this.props;if(!e)return null;let{showBadge:n}=this.state,{carouselSlots:l,index:r}=e;return!i&&t?(0,g.jsx)(a.xu,{alignItems:"center",color:"selected",display:"flex",height:35,justifyContent:"center",marginEnd:5,marginTop:5,position:"absolute",right:!0,rounding:2,width:35,zIndex:new a.Ry(1),dangerouslySetInlineStyle:{__style:{opacity:n?.8:0,transition:"opacity .3s"}},children:(0,g.jsx)(a.xv,{color:"inverse",children:`${(null!=r?r:0)+1}/${(null!=l?l:[]).length}`})}):null})}componentDidMount(){this.hideBadgeTimeout=setTimeout(()=>this.setState({showBadge:!1}),3e3)}componentDidUpdate(e){let{showBadge:i}=this.state,{carouselData:t}=e,{carouselData:n}=this.props;if(!t||!n)return;let{index:l}=t,{index:a}=n;i&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.hideBadgeTimeout=setTimeout(()=>this.setState({showBadge:!1}),3e3)),l!==a&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.setState({showBadge:!0}))}componentWillUnmount(){this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout)}render(){var e;let i;let{isCloseup:t,carouselIndex:n,closeupHeight:l,closeupWidth:r=0,widthRatio:o=1,cropHeight:d,cropWidth:m,carouselData:h,disableTransition:v,highResOnly:f,lowResOnly:S,onError:b,onLoad:w,pinId:T,imageSignature:I,isEditMode:k,isDenseView:P,isThirdPartyAd:j}=this.props;if(!h)return null;if(o>1||o<0)throw Error("widthRatio should be between 0 and 1 inclusive");let{carouselSlots:C}=h,F=null!==(e=h.index)&&void 0!==e?e:0,A=void 0!==n?n:null!=F?F:0,L=!t&&m,{imageSizeMap:D}=C[A]||{};i=t?r:L||(f?474:P?s.Lo:s.yF);let M=Math.floor(i*o),K=(null==D?void 0:D["236x"])||{},V=d||K.height||0,E=m||K.width||236,H=l||V/E*M,Z=_(C);return(0,g.jsxs)(a.xu,{height:H,display:"flex",alignItems:"center",overflow:"hidden","data-test-id":"carousel-pin",minHeight:c.Ml,"data-test-image-signature":I,children:[!k&&this.renderBadge(),(0,g.jsx)(u.Z,{carouselData:{...h,type:"canonical"},trackCarousel:!0,impressionType:"Pin",loggingId:T,slotIndex:null!=F?F:0,viewParameter:72,viewType:1,children:(0,g.jsx)(a.xu,{position:"absolute",height:H,width:M,overflow:"hidden"})},`carousel-impression-key-${A}`),(0,g.jsx)(a.xu,{width:M*C.length,dangerouslySetInlineStyle:{__style:{transition:v?"":"left .3s",left:(0,p.vF)(C.length,M,i,A)}},left:!0,height:"100%",display:"flex",direction:"row",position:"relative",children:C.map((e,n)=>{if(t){let t=n===C.length-1;return y({pinId:T,slot:e,slotIndex:n,onError:b,onLoad:w,widthToUse:M,gap:M<i&&!t?1:0},this.props.i18n)}return x(this.props.i18n,e,T,n,f,S,b,w,r,l,d,m,H,M,Z,j)})})]})}}function S({pinKey:e,...i}){let t=(0,d.ZP)(),n=(0,m.S6)(),{data:l,childDataKey:a}=(0,o.uf)(v,"graphqlRef"===e.type?e:{type:"deprecated",data:n(i.pinId)||e.data},{useLegacyAdapter:e=>({imageSignature:null==e?void 0:e.image_signature})}),s=(0,r.Z)(a),u=s&&{...s,carouselSlots:function(e){let i=["236x","474x","564x","736x"].map(i=>{let t=Math.min(...e.map(e=>{var t,n;return(null===(t=e.imageSizeMap)||void 0===t?void 0:null===(n=t[i])||void 0===n?void 0:n.height)||1/0})),n=Math.min(...e.map(e=>{var t,n;return(null===(t=e.imageSizeMap)||void 0===t?void 0:null===(n=t[i])||void 0===n?void 0:n.width)||1/0}));return{imageKey:i,height:t,width:n}});return e.map(e=>i.reduce((e,{imageKey:i,height:t,width:n})=>{var l;return null!==(l=e.imageSizeMap)&&void 0!==l&&l[i]?{...e,imageSizeMap:{...e.imageSizeMap,[i]:{...e.imageSizeMap[i],height:t,width:n}}}:e},e))}(s.carouselSlots)};return(0,g.jsx)(f,{...i,carouselData:u,i18n:t,imageSignature:l.imageSignature})}h(f,"defaultProps",{showCarouselBadge:!0})},164377:(e,i,t)=>{t.d(i,{CU:()=>o,GH:()=>u,Iw:()=>d,gA:()=>c,tD:()=>s,vF:()=>p});let n=({index:e,numberOfSlides:i,slidesShownPerPosition:t})=>i-e-Math.floor(t)<1,l=({slidesShownPerPosition:e,slotAndGapWidth:i})=>{let t=e-parseInt(e,10);return i-t*i},a=({containerWidth:e,contentWidth:i,index:t,slotAndGapWidth:n})=>{let l=t-1,r=l*n;return i-r>=e?r:a({index:l,slotAndGapWidth:n,containerWidth:e,contentWidth:i})},r=({containerWidth:e,contentWidth:i,gap:t,index:n,slidesShownPerPosition:r,slotAndGapWidth:o})=>{let s=a({containerWidth:e,contentWidth:i,index:n,slotAndGapWidth:o}),d=l({slidesShownPerPosition:r,slotAndGapWidth:o});return s+d-t},o=({containerWidth:e,gap:i,index:t,numberOfSlides:l,slotWidth:a})=>{let o=a+i,s=o*l;if(s<=e)return 0;let d=e/o,u=n({index:t,numberOfSlides:l,slidesShownPerPosition:d}),c=u?r({containerWidth:e,contentWidth:s,gap:i,index:t,slidesShownPerPosition:d,slotAndGapWidth:o}):t*o;return c?Math.round(-c):0},s=({containerWidth:e,gap:i,index:t,numberOfSlides:n,slotWidth:l})=>{let a=l+i,r=a*n;if(r<=e||0===e)return!0;let s=o({containerWidth:e,gap:i,index:t,numberOfSlides:n,slotWidth:l}),d=r-e;return Math.abs(s)+i>=d},d=({containerWidth:e,currentIndex:i,gap:t,index:n,numberOfSlides:l,slotWidth:a})=>{let r=a+t,s=r*l;if(s<=e||0===e)return!0;let d=o({containerWidth:e,gap:t,index:i,numberOfSlides:l,slotWidth:a});return d+r*n<e+r},u=(e,i,t)=>e||`${i._('carousel image', 'Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed', 'Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed')} ${t}`,c=({highResOnly:e,lowResOnly:i,slot:t})=>{var n,l,a,r,o,s,d;let{images:u}=t;return i?`${null!==(r=null==u?void 0:null===(o=u["236x"])||void 0===o?void 0:o.url)&&void 0!==r?r:""} 1x`:e?`${null!==(s=null==u?void 0:null===(d=u["564x"])||void 0===d?void 0:d.url)&&void 0!==s?s:""} 1x`:[(null==u?void 0:u["474x"])&&`${null!==(n=u["474x"].url)&&void 0!==n?n:""} 2x`,(null==u?void 0:u["736x"])&&`${null!==(l=u["736x"].url)&&void 0!==l?l:""} 3x`,(null==u?void 0:u.orig)&&`${null!==(a=u.orig.url)&&void 0!==a?a:""} 4x`].filter(Boolean).join(", ")},p=(e,i,t,n,l=0)=>{if(t===i)return-(n*i*1);let a=i+l;return n===e-1?-1*n*a+Math.floor(t-i):-1*n*a}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/59711-e1badae8ec1ea672.mjs.map